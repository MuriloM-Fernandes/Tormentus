/*! For license information please see bordeaux.js.LICENSE.txt */
(()=>{var e={766:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Collector=void 0;var r=n(718);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=void 0,(t="data")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this.data=n,this.data=[]}var t,n;return t=e,(n=[{key:"get",value:function(e){return(0,r.findExistingMetric)(e,this.data)}},{key:"set",value:function(e,t){var n=(0,r.findExistingMetric)(t,this.data);return n?n.value=e:this.data.push({labels:t,value:e}),this}},{key:"collect",value:function(e){return null==e?this.data:this.data.filter((function(t){return(0,r.shallowObjectEqual)(e,t.labels||{})}))}},{key:"resetAll",value:function(){var e=this;return this.data.forEach((function(t){e.reset(t.labels)})),this}}])&&o(t.prototype,n),e}();t.Collector=i},641:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Counter=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,n,r,u,l=(r=d,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(r);if(u){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function d(){return o(this,d),l.apply(this,arguments)}return t=d,(n=[{key:"inc",value:function(e){return this.add(1,e),this}},{key:"add",value:function(e,t){if(e<0)throw new Error("Expected increment amount to be greater than -1. Received: ".concat(e));var n=this.get(t);return this.set(n?n.value+e:e,t),this}},{key:"reset",value:function(e){this.set(0,e)}}])&&i(t.prototype,n),d}(n(766).Collector);t.Counter=u},300:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Gauge=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(d,e);var t,n,r,u,l=(r=d,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=c(r);if(u){var n=c(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function d(){return o(this,d),l.apply(this,arguments)}return t=d,(n=[{key:"dec",value:function(e){var t=this.get(e);return this.set(t?t.value-1:0,e),this}},{key:"sub",value:function(e,t){var n=this.get(t);return this.set(n?n.value-e:0,t),this}}])&&i(t.prototype,n),d}(n(641).Counter);t.Gauge=u},161:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return{entries:e.reduce((function(e,t){return e[t.toString()]=0,e}),{"+Inf":0}),sum:0,count:0,raw:[]}}Object.defineProperty(t,"__esModule",{value:!0}),t.Histogram=void 0;var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,e);var t,n,r,p,f=(r=h,p=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=u(r);if(p){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return s(this,e)});function h(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return o(this,h),l(c(e=f.call(this)),"buckets",void 0),e.buckets=t.sort((function(e,t){return e>t?1:-1})),e.set(d(e.buckets)),e.observe=e.observe.bind(c(e)),e}return t=h,(n=[{key:"observe",value:function(e,t){var n=this.get(t);null==n&&(n=this.set(d(this.buckets),t).get(t)),n.value.raw.push(e),n.value.entries["+Inf"]+=1;var r=function(e,t){if(t<e[e.length-1])for(var n=0;n<e.length;n+=1)if(t<=e[n])return n}(this.buckets,e);if(null!=r)for(var o=r;o<this.buckets.length;o+=1){var i=n.value.entries[this.buckets[o].toString()];n.value.entries[this.buckets[o].toString()]=i+1}return n.value.sum=n.value.raw.reduce((function(e,t){return e+t})),n.value.count+=1,this}},{key:"reset",value:function(e){this.set(d(this.buckets),e)}}])&&i(t.prototype,n),h}(n(766).Collector);t.Histogram=p},63:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t.default=void 0;var o=n(512),i=n(894);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))})),t.default=function(){return new o.Registry}},512:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Registry=void 0;var r=n(641),o=n(300),i=n(161),a=n(718);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(){var t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=void 0,(t="data")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this.data=n,this.data={counter:{},gauge:{},histogram:{}}}var t,n;return t=e,n=[{key:"validateInput",value:function(e,t,n,r){if(""===String(t))throw new Error("Metric name cannot be empty");if(-1===["counter","gauge","histogram"].indexOf(e))throw new Error("Unknown metric type ".concat(e));if("string"!=typeof n&&null!=n)throw new Error("help must be string or undefined/null");if(e in this.data&&t in this.data[e])throw new Error("A metric with the name '".concat(t,"' already exists for type '").concat(e,"'"));if(!Array.isArray(r)&&null!=r)throw new Error("buckets must be array or undefined/null")}},{key:"create",value:function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return this.validateInput(e,t,a,s),"counter"===e?(n=new r.Counter,this.data.counter[t]={help:a,instance:n,type:e}):"gauge"===e?(n=new o.Gauge,this.data.gauge[t]={help:a,instance:n,type:e}):(n=new i.Histogram(s),this.data.histogram[t]={help:a,instance:n,type:e}),n}},{key:"metrics",value:function(){return Object.values(this.data).reduce((function(e,t){return e+Object.entries(t).reduce((function(e,t){var n=t[0],r=t[1];return r.help.length>0&&(e+="# HELP ".concat(n," ").concat(r.help,"\n")),(e+="# TYPE ".concat(n," ").concat(r.type,"\n"))+Object.values(r.instance.data).reduce((function(e,t){return e+("histogram"===r.type?(0,a.formatHistogramOrSummary)(n,t):(0,a.formatCounterOrGauge)(n,t))}),"")}),"")}),"")}},{key:"reset",value:function(){return Object.values(this.data).forEach((function(e){Object.values(e).forEach((function(e){e.instance.resetAll()}))})),this}},{key:"clear",value:function(){return this.data={counter:{},gauge:{},histogram:{}},this}},{key:"get",value:function(e,t){var n=(null!=e?[this.data[e]]:Object.values(this.data)).find((function(e){return t in e}));return null!=n?n[t].instance:void 0}}],n&&s(t.prototype,n),e}();t.Registry=c},894:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},718:(e,t)=>{"use strict";function n(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0,i=n;o<i.length;o++){var a=i[o];if(!(a in t))return!1;if(e[a]!==t[a])return!1}return!0}function r(e){if(void 0===e.labels)return"";var t=Object.entries(e.labels).map((function(e){return"".concat(e[0],'="').concat(e[1],'"')}));return 0===t.length?"":"".concat(t.join(","))}Object.defineProperty(t,"__esModule",{value:!0}),t.shallowObjectEqual=n,t.formatHistogramOrSummary=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"le",o="",i=r(t);return i.length>0?(o+="".concat(e,"_count{").concat(i,"} ").concat(t.value.count,"\n"),o+="".concat(e,"_sum{").concat(i,"} ").concat(t.value.sum,"\n")):(o+="".concat(e,"_count ").concat(t.value.count,"\n"),o+="".concat(e,"_sum ").concat(t.value.sum,"\n")),Object.entries(t.value.entries).reduce((function(t,r){return i.length>0?t+="".concat(e,"_bucket{").concat(n,'="').concat(r[0],'",').concat(i,"} ").concat(r[1],"\n"):t+="".concat(e,"_bucket{").concat(n,'="').concat(r[0],'"} ').concat(r[1],"\n"),t}),o)},t.findExistingMetric=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e?t.find((function(t){return void 0!==t.labels&&n(t.labels,e)})):t[0]},t.formatCounterOrGauge=function(e,t){var n=" ".concat(t.value.toString());if(null==t.labels||0===Object.keys(t.labels).length)return"".concat(e).concat(n,"\n");var r=Object.entries(t.labels).map((function(e){return"".concat(e[0],'="').concat(e[1],'"')}));return"".concat(e,"{").concat(r.join(","),"}").concat(n,"\n")}},204:e=>{"use strict";const t=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");return t=Object.assign({pascalCase:!1},t),e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim(),0===e.length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=(e=>{let t=!1,n=!1,r=!1;for(let o=0;o<e.length;o++){const i=e[o];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,o)+"-"+e.slice(o),t=!1,r=n,n=!0,o++):n&&r&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,o-1)+"-"+e.slice(o-1),r=n,n=!1,t=!0):(t=i.toLowerCase()===i&&i.toUpperCase()!==i,r=n,n=i.toUpperCase()===i&&i.toLowerCase()!==i)}return e})(e)),n=e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((e,t)=>t.toUpperCase())).replace(/\d+(\w|$)/g,(e=>e.toUpperCase())),t.pascalCase?n.charAt(0).toUpperCase()+n.slice(1):n);var n};e.exports=t,e.exports.default=t},344:()=>{!function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})}(document)},701:function(e,t,n){"use strict";var r=n(155),o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeVersion=t.detectOS=t.parseUserAgent=t.browserName=t.detect=t.ReactNativeInfo=t.BotInfo=t.SearchBotDeviceInfo=t.NodeInfo=t.BrowserInfo=void 0;var i=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"};t.BrowserInfo=i;var a=function(e){this.version=e,this.type="node",this.name="node",this.os=r.platform};t.NodeInfo=a;var s=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"};t.SearchBotDeviceInfo=s;var c=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null};t.BotInfo=c;var u=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null};t.ReactNativeInfo=u;var l=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,d=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],p=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function f(e){return""!==e&&d.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[r,i]}),!1)}function h(e){var t=f(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new c;var a=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);a?a.length<3&&(a=o(o([],a,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-a.length),!0)):a=[];var u=a.join("."),d=m(e),p=l.exec(e);return p&&p[1]?new s(n,u,d,p[1]):new i(n,u,d)}function m(e){for(var t=0,n=p.length;t<n;t++){var r=p[t],o=r[0];if(r[1].exec(e))return o}return null}function v(){return void 0!==r&&r.version?new a(r.version.slice(1)):null}t.detect=function(e){return e?h(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!=typeof navigator?h(navigator.userAgent):v()},t.browserName=function(e){var t=f(e);return t?t[0]:null},t.parseUserAgent=h,t.detectOS=m,t.getNodeVersion=v},180:function(e,t,n){var r,o,i;!function(a,s){"use strict";o=[n(829)],void 0===(i="function"==typeof(r=function(e){var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split("\n").filter((function(e){return!!e.match(n)}),this).map((function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),o=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),i=this.extractLocation(r?r[1]:o.pop()),a=o.join(" ")||void 0,s=["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0];return new e({functionName:a,fileName:s,lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseFFOrSafari:function(t){return t.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),o=r&&r[1]?r[1]:void 0,i=this.extractLocation(t.replace(n,""));return new e({functionName:o,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera11:function(n){return n.stack.split("\n").filter((function(e){return!!e.match(t)&&!e.match(/^Error created at/)}),this).map((function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;i.match(/\(([^)]*)\)/)&&(n=i.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:a,args:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})}),this)}}})?r.apply(t,o):r)||(e.exports=i)}()},409:(e,t,n)=>{var r;!function(){var t={initialize:function(){this._tasks=new Map},mutate:function(e,t){return o(this,"mutate",e,t)},measure:function(e,t){return o(this,"measure",e,t)},clear:function(e){var t=this._tasks,n=t.get(e);this.fastdom.clear(n),t.delete(e)}};function o(e,t,n,r){var o,i=e._tasks,a=e.fastdom,s=new Promise((function(e,c){o=a[t]((function(){i.delete(s);try{e(r?n.call(r):n())}catch(e){c(e)}}),r)}));return i.set(s,o),s}"f"=="function"[0]?void 0===(r=function(){return t}.call(t,n,t,e))||(e.exports=r):"o"=="object"[0]?e.exports=t:window.fastdomPromised=t}()},149:function(e,t,n){var r;!function(t){"use strict";var o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function i(){var e=this;e.reads=[],e.writes=[],e.raf=o.bind(t)}function a(e){e.scheduled||(e.scheduled=!0,e.raf(s.bind(null,e)))}function s(e){var t,n=e.writes,r=e.reads;try{r.length,e.runTasks(r),n.length,e.runTasks(n)}catch(e){t=e}if(e.scheduled=!1,(r.length||n.length)&&a(e),t){if(t.message,!e.catch)throw t;e.catch(t)}}function c(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}i.prototype={constructor:i,runTasks:function(e){for(var t;t=e.shift();)t()},measure:function(e,t){var n=t?e.bind(t):e;return this.reads.push(n),a(this),n},mutate:function(e,t){var n=t?e.bind(t):e;return this.writes.push(n),a(this),n},clear:function(e){return c(this.reads,e)||c(this.writes,e)},extend:function(e){if("object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var u=t.fastdom=t.fastdom||new i;void 0===(r=function(){return u}.call(u,n,u,e))||(e.exports=r)}("undefined"!=typeof window?window:this)},897:(e,t,n)=>{"use strict";const r=n(124);e.exports=(e,t)=>{const n=r((()=>[]),new WeakMap),o=new e((e=>{e.forEach((e=>{n.get(e.target).forEach((t=>t(e)))}))}),t);return function(e,t,r){"function"==typeof t&&(r=t,t=void 0);const i=n.get(e);return i.push(r),o.observe(e,t),function(){const t=i.indexOf(r);if(i.splice(t,1),0===i.length)return n.delete(e),o.unobserve&&o.unobserve(e)}}}},337:()=>{!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=o(t);n;)n=o(t=n.ownerDocument);return t}(),t=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?d(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,i=null,a=null;if(this.POLL_INTERVAL?i=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(i&&e.clearInterval(i),c(e,"resize",r,!0)),c(t,"scroll",r,!0),a&&a.disconnect()})),t!=(this.root&&this.root.ownerDocument||e)){var u=o(t);u&&this._monitorIntersections(u.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&this.root.ownerDocument||e,i=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var i=o(n);if((n=i&&i.ownerDocument)==t)return!0}return!1}));if(!i){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=r){var s=o(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,a=u(o),s=this._rootContainsTarget(o),c=r.entry,l=e&&s&&this._computeTargetAndRootIntersection(o,a,t),d=r.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:n&&!this.root?null:t,intersectionRect:l});c?e&&s?this._hasCrossedThreshold(c,d)&&this._queuedEntries.push(d):c&&c.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,o,i){if("none"!=window.getComputedStyle(t).display){for(var a,s,c,l,p,h,m,v,g=o,y=f(t),b=!1;!b&&y;){var w=null,_=1==y.nodeType?window.getComputedStyle(y):{};if("none"==_.display)return null;if(y==this.root||9==y.nodeType)if(b=!0,y==this.root||y==e)n&&!this.root?!r||0==r.width&&0==r.height?(y=null,w=null,g=null):w=r:w=i;else{var x=f(y),E=x&&u(x),k=x&&this._computeTargetAndRootIntersection(x,E,i);E&&k?(y=x,w=d(E,k)):(y=null,g=null)}else{var S=y.ownerDocument;y!=S.body&&y!=S.documentElement&&"visible"!=_.overflow&&(w=u(y))}if(w&&(a=w,s=g,void 0,void 0,void 0,void 0,void 0,void 0,c=Math.max(a.top,s.top),l=Math.min(a.bottom,s.bottom),p=Math.max(a.left,s.left),v=l-c,g=(m=(h=Math.min(a.right,s.right))-p)>=0&&v>=0&&{top:c,bottom:l,left:p,right:h,width:m,height:v}||null),!g)break;y=y&&f(y)}return g}},a.prototype._getRootRect=function(){var t;if(this.root)t=u(this.root);else{var n=e.documentElement,r=e.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||p(e,this.root)},a.prototype._rootContainsTarget=function(t){return p(this.root||e,t)&&(!this.root||this.root.ownerDocument==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=i}function o(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function i(e){this.time=e.time,this.target=e.target,this.rootBounds=l(e.rootBounds),this.boundingClientRect=l(e.boundingClientRect),this.intersectionRect=l(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,r,o,i=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function c(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function p(e,t){for(var n=t;n;){if(n==e)return!0;n=f(n)}return!1}function f(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?o(t):n&&11==n.nodeType&&n.host?n.host:n&&n.assignedSlot?n.assignedSlot.parentNode:n}}()},444:e=>{"use strict";e.exports=e=>{if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return!/^[a-zA-Z]:\\/.test(e)&&/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)}},124:e=>{"use strict";e.exports=function(e,t=new Map){return{has:e=>t.has(e),get:n=>(t.has(n)||t.set(n,e(n)),t.get(n)),delete:e=>t.delete(e),set:(e,n)=>{t.set(e,n)},getUnderlyingDataStructure:()=>t}}},237:()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=this.event&&this.event.type,r="unload"===n||"beforeunload"===n,o="XMLHttpRequest"in this?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.open("POST",e,!r),o.withCredentials=!0,o.setRequestHeader("Accept","*/*"),"string"==typeof t?(o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),o.responseType="text"):t instanceof Blob&&t.type&&o.setRequestHeader("Content-Type",t.type);try{o.send(t)}catch(e){return!1}return!0}(function(){"navigator"in this||(this.navigator={}),"function"!=typeof this.navigator.sendBeacon&&(this.navigator.sendBeacon=t.bind(this))}).call("object"===("undefined"==typeof window?"undefined":e(window))?window:{})},155:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,c=[],u=!1,l=-1;function d(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length&&p())}function p(){if(!u){var e=a(d);u=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},829:function(e,t){var n,r,o;!function(i,a){"use strict";r=[],void 0===(o="function"==typeof(n=function(){function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],o=["fileName","functionName","source"],i=n.concat(r,o,["args"],["evalOrigin"]);function a(t){if(t)for(var n=0;n<i.length;n++)void 0!==t[i[n]]&&this["set"+e(i[n])](t[i[n]])}a.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof a)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new a(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},a.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),o=e.substring(t+1,n).split(","),i=e.substring(n+1);if(0===i.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i,""),c=s[1],u=s[2],l=s[3];return new a({functionName:r,args:o||void 0,fileName:c,lineNumber:u||void 0,columnNumber:l||void 0})};for(var s=0;s<n.length;s++)a.prototype["get"+e(n[s])]=t(n[s]),a.prototype["set"+e(n[s])]=function(e){return function(t){this[e]=Boolean(t)}}(n[s]);for(var c=0;c<r.length;c++)a.prototype["get"+e(r[c])]=t(r[c]),a.prototype["set"+e(r[c])]=function(e){return function(t){if(n=t,isNaN(parseFloat(n))||!isFinite(n))throw new TypeError(e+" must be a Number");var n;this[e]=Number(t)}}(r[c]);for(var u=0;u<o.length;u++)a.prototype["get"+e(o[u])]=t(o[u]),a.prototype["set"+e(o[u])]=function(e){return function(t){this[e]=String(t)}}(o[u]);return a})?n.apply(t,r):n)||(e.exports=o)}()},944:()=>{"use strict";Object.fromEntries||(Object.fromEntries=e=>{const t={};for(let n=0;n<e.length;n++){const r=e[n][0],o=e[n][1];t[r]=o}return t})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{"use strict";n(337),n(237);const e=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},t=function(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(t){i(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--o&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--o&&t(r)}for(var a=0;a<r.length;a++)i(a,r[a])}))};var r=setTimeout,o="undefined"!=typeof setImmediate?setImmediate:null;function i(e){return Boolean(e&&void 0!==e.length)}function a(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void l(t.promise,e)}u(t.promise,r)}else(1===e._state?u:l)(t.promise,e._value)}))):e._deferreds.push(t)}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof s)return e._state=3,e._value=t,void d(e);if("function"==typeof n)return void f((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(t){l(e,t)}var r,o}function l(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&s._immediateFn((function(){e._handled||s._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)c(e,e._deferreds[t]);e._deferreds=null}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,l(t,e))}))}catch(e){if(n)return;n=!0,l(t,e)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=new this.constructor(a);return c(this,new p(e,t,n)),n},s.prototype.finally=e,s.all=function(e){return new s((function(t,n){if(!i(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function a(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(t){a(e,t)}),n)}r[e]=i,0==--o&&t(r)}catch(e){n(e)}}for(var s=0;s<r.length;s++)a(s,r[s])}))},s.allSettled=t,s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,n){n(e)}))},s.race=function(e){return new s((function(t,n){if(!i(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=e.length;r<o;r++)s.resolve(e[r]).then(t,n)}))},s._immediateFn="function"==typeof o&&function(e){o(e)}||function(e){r(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};const h=s;var m=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("unable to locate global object")}();"function"!=typeof m.Promise?m.Promise=h:(m.Promise.prototype.finally||(m.Promise.prototype.finally=e),m.Promise.allSettled||(m.Promise.allSettled=t)),n(344),n(944);var v=n(444),g=n.n(v);const y=()=>window,b=y().document.currentScript;if(!g()(n.p)){const e=(()=>{if(b)return(e=>{const{origin:t}=e;return t+e.pathname.split("/").slice(0,-1).join("/")})(new URL(b.src));return""})();n.p=e+"/"}if(!n.p)throw new Error("No __webpack_public_path__ - chunk loading will not work");const w=e=>y().location.search.indexOf(e)>=0;var _=function(e,t){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},_(e,t)};function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function E(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function k(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function S(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function O(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function T(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function j(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||t)}function I(e){return this instanceof I?(this.v=e,this):new I(e)}function A(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof I?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function P(e){return"function"==typeof e}function C(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create;var D=C((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function L(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var R=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=O(i),s=a.next();!s.done;s=a.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else i.remove(this);var c=this.initialTeardown;if(P(c))try{c()}catch(e){o=e instanceof D?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=O(u),d=l.next();!d.done;d=l.next()){var p=d.value;try{z(p)}catch(e){o=null!=o?o:[],e instanceof D?o=j(j([],T(o)),T(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new D(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)z(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&L(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&L(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),N=R.EMPTY;function M(e){return e instanceof R||e&&"closed"in e&&P(e.remove)&&P(e.add)&&P(e.unsubscribe)}function z(e){P(e)?e():e.unsubscribe()}var U=null,$=null,B=void 0,q=!1,Z=!1,F={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=F.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,j([e,t],T(n))):setTimeout.apply(void 0,j([e,t],T(n)))},clearTimeout:function(e){var t=F.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function V(e){F.setTimeout((function(){if(!U)throw e;U(e)}))}function H(){}var W=G("C",void 0,void 0);function G(e,t,n){return{kind:e,value:t,error:n}}var K=null;function Q(e){if(q){var t=!K;if(t&&(K={errorThrown:!1,error:null}),e(),t){var n=K,r=n.errorThrown,o=n.error;if(K=null,r)throw o}}else e()}var J=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,M(t)&&t.add(n)):n.destination=oe,n}return x(t,e),t.create=function(e,t,n){return new te(e,t,n)},t.prototype.next=function(e){this.isStopped?re(function(e){return G("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?re(G("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?re(W,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(R),Y=Function.prototype.bind;function X(e,t){return Y.call(e,t)}var ee=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){ne(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){ne(e)}else ne(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){ne(e)}},e}(),te=function(e){function t(t,n,r){var o,i,a=e.call(this)||this;return P(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:a&&Z?((i=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},o={next:t.next&&X(t.next,i),error:t.error&&X(t.error,i),complete:t.complete&&X(t.complete,i)}):o=t,a.destination=new ee(o),a}return x(t,e),t}(J);function ne(e){var t;q?(t=e,q&&K&&(K.errorThrown=!0,K.error=t)):V(e)}function re(e,t){var n=$;n&&F.setTimeout((function(){return n(e,t)}))}var oe={closed:!0,next:H,error:function(e){throw e},complete:H},ie="function"==typeof Symbol&&Symbol.observable||"@@observable";function ae(e){return e}function se(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ce(e)}function ce(e){return 0===e.length?ae:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var ue=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof J||function(e){return e&&P(e.next)&&P(e.error)&&P(e.complete)}(r)&&M(r)?e:new te(e,t,n);return Q((function(){var e=o,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=le(t))((function(t,r){var o=new te({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[ie]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ce(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=le(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function le(e){var t;return null!==(t=null!=e?e:B)&&void 0!==t?t:Promise}var de=C((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),pe=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return x(t,e),t.prototype.lift=function(e){var t=new fe(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new de},t.prototype.next=function(e){var t=this;Q((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=O(t.currentObservers),i=o.next();!i.done;i=o.next())i.value.next(e)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Q((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Q((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?N:(this.currentObservers=null,i.push(e),new R((function(){t.currentObservers=null,L(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new ue;return e.source=this,e},t.create=function(e,t){return new fe(e,t)},t}(ue),fe=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return x(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:N},t}(pe),he={now:function(){return(he.delegate||Date).now()},delegate:void 0},me=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=he);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return x(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,o=n._buffer,i=n._infiniteTimeWindow,a=n._timestampProvider,s=n._windowTime;r||(o.push(t),!i&&o.push(a.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!e.closed;o+=n?1:2)e.next(r[o]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,o=e._infiniteTimeWindow,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){for(var a=n.now(),s=0,c=1;c<r.length&&r[c]<=a;c+=2)s=c;s&&r.splice(0,s+1)}},t}(pe);function ve(e){return function(t){if(function(e){return P(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function ge(e,t,n,r,o){return new ye(e,t,n,r,o)}var ye=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return x(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(J);function be(e,t){return ve((function(n,r){var o=0;n.subscribe(ge(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}const we=y();let _e=0;const xe=[],Ee={all:0,info:0,warn:0,error:0},ke=new me,Se={all:ke.pipe(be((({type:e})=>"log-all"===e))),info:ke.pipe(be((({type:e})=>"log-info"===e))),warn:ke.pipe(be((({type:e})=>"log-warn"===e))),error:ke.pipe(be((({type:e})=>"log-error"===e)))},Oe={history:xe,counts:Ee,logObservables$:Se,onLogAll:e=>Se.all.subscribe(e),onLogInfo:e=>Se.info.subscribe(e),onLogWarn:e=>Se.warn.subscribe(e),onLogError:e=>Se.error.subscribe(e)},Te=e=>function(...t){const n=Array.prototype.slice.call(t),r={id:_e,timestamp:Date.now(),level:e,args:n};_e+=1,Ee.all+=1,Ee[e]+=1,xe.push(r),ke.next({type:"log-all",logItem:r}),ke.next({type:`log-${e}`,logItem:r});const o={info:"log",warn:"warn",error:"error"}[e],i=Array.prototype.slice.call(t);i.unshift("background: #800020; color: #ffffff"),i.unshift("%c BORDEAUX "),we.console[o](...i)},je={info:Te("info"),warn:Te("warn"),error:Te("error")};let Ie="";const Ae=()=>Ie,Pe=(e="")=>k(void 0,void 0,void 0,(function*(){return new Promise((t=>{t(Ie=e)})).catch((e=>je.warn(e)))})),Ce=()=>{const e=y(),t=e.document.createElement("script");t.src=""===Ae()?"https://bordeaux.futurecdn.net/ad-tool.js":`https://bdx.${Ae()}.public.rtb-qa-eks-euw1.futureplc.engineering/ad-tool.js`,t.async=!0,t.id="hybrid-ad-tool",e.document.head.appendChild(t)},De=()=>{const e=y();return e.performance?e.performance.now():0};let Le;const Re=()=>(Le=Le||new Promise((e=>{const t=y();"interactive"!==t.document.readyState&&"complete"!==t.document.readyState?t.document.addEventListener("DOMContentLoaded",(()=>{e({timeStamp:De()})})):e({timeStamp:De()})})),Le);let Ne;function Me(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,o){return t.apply(this,arguments)};case 5:return function(e,n,r,o,i){return t.apply(this,arguments)};case 6:return function(e,n,r,o,i,a){return t.apply(this,arguments)};case 7:return function(e,n,r,o,i,a,s){return t.apply(this,arguments)};case 8:return function(e,n,r,o,i,a,s,c){return t.apply(this,arguments)};case 9:return function(e,n,r,o,i,a,s,c,u){return t.apply(this,arguments)};case 10:return function(e,n,r,o,i,a,s,c,u,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function ze(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function Ue(e){return function t(n){return 0===arguments.length||ze(n)?t:e.apply(this,arguments)}}const $e=Ue((function(e){var t,n=!1;return Me(e.length,(function(){return n?t:(n=!0,t=e.apply(this,arguments))}))}));var Be=n(701);const qe={ie:!0,edge:!0,safari:!0,chrome:!0,firefox:!0,"edge-chromium":"chrome",crios:"chrome","chromium-webview":"chrome",fxios:"firefox",ios:"safari","ios-webview":"safari"},Ze=()=>{const e=(0,Be.detect)();let t="other";if(null!==e){const n=e.name;if(n in qe){const e=qe[n];t=!0===e?n:e}}return t};function Fe(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return ze(n)?t:Ue((function(t){return e(n,t)}));default:return ze(n)&&ze(r)?t:ze(n)?Ue((function(t){return e(t,r)})):ze(r)?Ue((function(t){return e(n,t)})):e(n,r)}}}function Ve(e,t){return Object.prototype.hasOwnProperty.call(t,e)}const He=Fe((function(e,t){var n={};return Me(t.length,(function(){var r=e.apply(this,arguments);return Ve(r,n)||(n[r]=t.apply(this,arguments)),n[r]}))}));function We(e){return e}const Ge=Ue(We),Ke=y(),Qe="mobile",Je="desktop",Ye=He(Ge,(()=>Ke.document.documentElement.clientWidth||Ke.document.body.clientWidth||Ke.innerWidth)),Xe=He(Ge,(()=>Ke.document.documentElement.clientHeight||Ke.document.body.clientHeight||Ke.innerHeight)),et=()=>{const e=Ye();return e>=700&&e<1e3?"tablet":e>=1e3?Je:Qe},tt=(e,t,n="&")=>{if(""===e)return null;const r=t.indexOf(`${e}=`);if(r>=0){const e=t.indexOf("=",r),o=t.indexOf(n,e+1);return o>=0?t.substring(e+1,o):t.substring(e+1)}return null},nt=e=>{const t=y(),{search:n}=t.location;return tt(e,n)},rt=nt("force_locale")||nt("force_country")||nt("CC"),ot=w("force_targeting"),it=(w("force_kibana"),nt("sommelier_url")),at=y(),st=()=>(rt||(()=>{try{return tt("FTR_Country_Code",at.document.cookie,";")}catch(e){return je.warn("Bordeaux country lookup failed, could not find FTR_Country_Code cookie",e),null}})()||"GB").toUpperCase(),ct={"5gradar.com":"5gradar","advnture.com":"advnture","anandtech.com":"anandtech","androidcentral.com":"androidcentral","avnetwork.com":"avnetwork","bikeperfect.com":"bikeperfect","cinemablend.com":"cinemablend","cloudsavvyit.com":"cloudsavvyit","coachmag.co.uk.master.":"coachmag","coachmag.co.uk":"coachmag","countrylife.co.uk":"countrylife","crackberry.com":"crackberry","creativebloq.com":"creativebloq","cyclingnews.com":"cyclingnews","cyclingweekly.com":"cyclingweekly-progressive","decanter.com":"decanter","digitalcameraworld.com":"digitalcameraworld","fitandwell.com":"fitandwell-progressive","fourfourtwo.com":"fourfourtwo","gamesradar.com":"gamesradar","gardeningetc.com":"gardeningetc-progressive","gnomesingardens.com":"gnomesingardens","golf-monthly.co.uk":"golfmonthly-progressive","golfmonthly.com":"golfmonthly-progressive","goodto.com":"goodtoknow-progressive","guitarplayer.com":"guitarplayer","guitarworld.com":"guitarworld","homebuilding.co.uk":"homebuilding","homesandgardens.com":"homesandgardens-progressive","horseandhound.co.uk":"horseandhound","howtogeek.com":"howtogeek","idealhome.co.uk":"idealhome","idealhome.co.uk.master.":"idealhome-progressive-qa","imore.com.master.":"imore","imore.com":"imore","itpro.preprod.coreapp.didev.co.uk":"itprocouk","itpro.staging.coreapp.didev.co.uk":"itprocouk","itpro.develop.coreapp.didev.co.uk":"itprocouk","itpro.co.uk":"itprocouk","itprocom.preprod.coreapp.didev.co.uk":"itprocom","itprocom.staging.coreapp.didev.co.uk":"itprocom","itprocom.develop.coreapp.didev.co.uk":"itprocom","itpro.com":"itprocom","itproportal.com":"itproportal","kiplinger.preprod.coreapp.didev.co.uk":"kiplinger","kiplinger.staging.coreapp.didev.co.uk":"kiplinger","kiplinger.develop.coreapp.didev.co.uk":"kiplinger","kiplinger.com":"kiplinger","laptopmag.com":"laptopmag","lifesavvy.com":"lifesavvy","livescience.com":"livescience","livingetc.com":"livingetc-progressive","look.co.uk":"look","loudersound.com":"loudersound","marieclaire.co.uk":"marieclaire","marieclaire.com":"marieclairecom-progressive","mbr.co.uk":"mbr","mby.com":"mby","mindbounce.com":"mindbounce","moneyweek.preprod.coreapp.didev.co.uk":"moneyweek","moneyweek.staging.coreapp.didev.co.uk":"moneyweek","moneyweek.develop.coreapp.didev.co.uk":"moneyweek","moneyweek.com":"moneyweek","musicradar.com":"musicradar","myimperfectlife.com":"myimperfectlife-progressive","nexttv.com":"nexttv","pbo.co.uk":"pbo","pcgamer.com":"pcgamer","petsradar.com":"petsradar","realhomes.com":"realhomes-progressive","reviewgeek.com":"reviewgeek","rugbyworld.com":"rugbyworld","sandbox.futurehybrid.tech":"sandbox","sciencealert.wpengine.com":"sciencealert","sciencealert2022.com":"sciencealert","sciencealert.com":"sciencealert","shootinguk.co.uk":"shootinguk","space.com":"space","t3.com":"t3-progressive","techlearning.com":"techlearning","techlearninguniversity.com":"techlearninguniversity","techradar.com":"techradar","techspot.com":"techspot","thecaribou.com":"thecaribou","thefield.co.uk":"thefield","themoneyedit.com":"themoneyedit-progressive","theweekuk.preprod.coreapp.didev.co.uk":"theweekcouk","theweekuk.staging.coreapp.didev.co.uk":"theweekcouk","theweekuk.develop.coreapp.didev.co.uk":"theweekcouk","theweek.co.uk":"theweekcouk","theweekus.preprod.coreapp.didev.co.uk":"theweekcom","theweekus.staging.coreapp.didev.co.uk":"theweekcom","theweekus.develop.coreapp.didev.co.uk":"theweekcom","theweek.com":"theweekcom","tomsguide.com":"tomsguide","tomshardware.com":"tomshardware","toptenreviews.com":"toptenreviews","tvtechnology.com":"tvtechnology","whatculture.com":"whatculture","whathifi.com":"whathifi","whatsontv.co.uk":"whatsontv","whattowatch.com":"whattowatch","windowscentral.com":"windowscentral","windowscentral.com.master.":"windowscentral-qa","womanandhome.com":"womanandhome-progressive","yachtingmonthly.com":"yachtingmonthly","yachtingworld.com":"yachtingworld","ybw.com":"ybw"},ut=()=>{const e=y(),t=(n=ct,r=e.location.hostname,Object.keys(n).sort(((e,t)=>t.length-e.length)).find((e=>r.includes(e)))||void 0);var n,r;return t?ct[t]:""},lt=y(),dt=()=>{const e=Ze(),t=et(),n=st(),r=ut();return{browser:e,content:lt.adParameters?lt.adParameters.content:"",device:t,country:n,site:r,type:lt.adParameters?lt.adParameters.type:""}},pt=e=>{const t=`; ${y().document.cookie}`.split(`; ${e}=`);if(2===t.length){const e=t.pop();if(e)return e.split(";").shift()}},ft=(e,t,n,r)=>{const o=y(),i=new Date;i.setTime(i.getTime()+1e3*n);const a=`expires=${i.toUTCString()}`,s=r?`domain=${r};`:"";o.document.cookie=`${e}=${t};${a};path=/;${s}SameSite=Lax;secure`},ht=y(),mt=()=>{const e=ht.localStorage.getItem("bdx-uuid");if(null!==e)return e;const t="xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=Math.floor(16*Math.random());return("x"===e?t:3&t|8).toString(16)}));return ht.localStorage.setItem("bdx-uuid",t),t},vt=()=>{try{const{width:e,height:t}={width:Ye(),height:Xe()};return{width:String(e),height:String(t)}}catch(e){return je.error(e),{width:"",height:""}}},gt=()=>{const e=vt();return""===e.width?"":`${e.width}x${e.height}`},yt=()=>{var e;try{return(null===(e=ht.top)||void 0===e?void 0:e.document.referrer)||""}catch(e){return""}},{browser:bt}=dt(),wt=(e=6408e3)=>{const t=mt();return ft("h_id",t,e),t},_t=$e((()=>k(void 0,void 0,void 0,(function*(){const e=pt("h_id");if(e)return e;if("chrome"!==bt)return wt();try{const e=yield k(void 0,void 0,void 0,(function*(){const e=new AbortController,t=setTimeout((()=>e.abort("fetch request timed out")),500),n=yield fetch("https://ads.servebom.com/hybrid_id",{method:"GET",credentials:"include",signal:e.signal}),r=yield n.json();return r.uuid?(clearTimeout(t),r.uuid):(clearTimeout(t),null)}));return e?(ft("h_id",e,6408e3),e):wt(86400)}catch(e){return e instanceof Error&&je.warn(`Error "${e.name}" while fetching hybrid id.`),wt(86400)}})))),xt=y(),Et=nt("lrh");function kt(e,t){void 0!==xt.freyr&&xt.freyr.cmd.push((()=>{var n;return null===(n=xt.freyr)||void 0===n?void 0:n.pushAndUpdate(e,t)}))}var St=n(180),Ot=n.n(St);const Tt=y(),jt=(e,t)=>{const n="string"==typeof t?t:JSON.stringify(t);return Tt.navigator.sendBeacon(e,new Blob([n],{type:"text/plain"}))},It=y();let At;const Pt={platform:"javascript",sdk:{name:"sentry.javascript.browser",packages:[{name:"future:sentry/minimal",version:"0.0.1"}],version:"5.20.1",integrations:["InboundFilters","FunctionToString","TryCatch","Breadcrumbs","UserAgent"]},request:{url:It.location.href,headers:{"User-Agent":It.navigator.userAgent}},extra:{arguments:[]}},Ct=e=>{const t=new URL(e);return`${t.origin}/api${t.pathname}/store/?sentry_key=${t.username}&sentry_version=7`},Dt=()=>Math.floor(Math.random()*Math.floor(16)).toString(16),Lt=()=>"performance"in It?(It.performance.timeOrigin+It.performance.now())/1e3:Date.now()/1e3,Rt=e=>{var t;return Boolean(null===(t=null==At?void 0:At.allowUrls)||void 0===t?void 0:t.find((t=>e.filename.match(t))))},Nt=e=>{void 0!==At?jt(At.apiURL,e)||je.error("Sentry send failed"):je.warn("Error ignored because Sentry is not yet configured")},Mt={environment:"production",ignoreErrors:[],denyUrls:[],debug:!1};let zt=!1;const Ut={},$t={setTag:(e,t)=>{Ut[e]=t}},Bt=[],qt=e=>({colno:e.columnNumber,filename:e.fileName,function:"undefined"===e.functionName?"?":e.functionName,lineno:e.lineNumber,in_app:!0});let Zt=!0;const Ft=["LinkedErrors","GlobalHandlers"],Vt=({type:e,stacktrace:t})=>"error"===e.toLowerCase()&&t&&0!==t.length;(e=>{if(!("dsn"in e))throw new Error("You must provide a DSN to the Sentry init");if(!("release"in e))throw new Error("You must provide a release version to the Sentry init");At=Object.assign(Object.assign(Object.assign({},Mt),e),{apiURL:Ct(e.dsn)}),(()=>{const e=Math.random()<.01,t=w("force_sentry");zt=e||t})()})({dsn:"https://899032cf20894ca3ac193916e76d1ff5@o362810.ingest.sentry.io/5227073",environment:"production",debug:!1,release:"bordeaux@4.28.0",denyUrls:[/preview\.vanilla\.tools/i,/connect\.goog/i,/file:\/\//i,/futureplc\.engineering/i],allowUrls:[/^https?:\/\/bordeaux\.futurecdn\.net\/bordeaux\.js/,/^https?:\/\/c\.amazon-adsystem\.com\/aax2\/apstag\.js/,/^https?:\/\/securepubads\.g\.doubleclick.net\/tag\/js\/gpt\.js/,/^https?:\/\/cdn\.adsafeprotected\.com\/iasPET\.1\.js/,/^https?:\/\/js-sec\.indexww\.com\/ht\/p/],beforeSend:e=>{if(!e.exception.values.find(Vt))return null;const{user:t}=e;return E(e,["user"])},integrations:e=>e.filter((({name:e})=>!Ft.includes(e)))});const Ht=e=>{Zt&&(e=>{if(void 0===At)return void je.warn("Error ignored because Sentry is not yet configured");if(!zt)return;if(Boolean(null==At?void 0:At.denyUrls.find((e=>window.location.hostname.match(e)))))return void je.warn("Error ignored because the page URL is denied");const t="string"==typeof e?e:e.message;if(At.ignoreErrors.find((e=>t.includes(e))))return void je.warn("Error ignored because it appears in ignore error list");const n=(e=>{let t,n;return"string"==typeof e?(t=e,n=[]):(t=e.message,n=Ot().parse(e).map(qt).reverse()),{type:"Error",value:t,stacktrace:{frames:n},mechanism:{handled:!0,type:"generic"}}})(e);if(At.allowUrls&&n.stacktrace.frames.length>0&&!n.stacktrace.frames.find(Rt))return void je.warn("Error ignored because no scripts in the stack trace have an allowed URL");const r=Object.assign(Object.assign({level:"error"},Pt),{event_id:Array(32).fill(0).map(Dt).join(""),timestamp:Lt(),environment:At.environment,release:At.release,tags:Ut,breadcrumbs:Bt,exception:{values:[n]}});if(At.beforeSend){const e=At.beforeSend(r);if(!e)return void je.warn("Error ignored because beforeSend returned null");Nt(e)}else Nt(r)})(e)},Wt=Ht,Gt=({message:e,category:t="ui",level:n="info"})=>{var r;void 0!==e?(r={category:t,message:e,level:n},Bt.push(Object.assign({timestamp:Lt()},r))):je.error("You must provide a message to a Sentry breadcrumb")},Kt=()=>{Zt=!1};function Qt(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function Jt(e){return function t(n,r,o){switch(arguments.length){case 0:return t;case 1:return ze(n)?t:Fe((function(t,r){return e(n,t,r)}));case 2:return ze(n)&&ze(r)?t:ze(n)?Fe((function(t,n){return e(t,r,n)})):ze(r)?Fe((function(t,r){return e(n,t,r)})):Ue((function(t){return e(n,r,t)}));default:return ze(n)&&ze(r)&&ze(o)?t:ze(n)&&ze(r)?Fe((function(t,n){return e(t,n,o)})):ze(n)&&ze(o)?Fe((function(t,n){return e(t,r,n)})):ze(r)&&ze(o)?Fe((function(t,r){return e(n,t,r)})):ze(n)?Ue((function(t){return e(t,r,o)})):ze(r)?Ue((function(t){return e(n,t,o)})):ze(o)?Ue((function(t){return e(n,r,t)})):e(n,r,o)}}}const Yt=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function Xt(e){return"[object String]"===Object.prototype.toString.call(e)}const en=Ue((function(e){return!!Yt(e)||!!e&&"object"==typeof e&&!Xt(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))}));var tn=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();const nn=Fe((function(e,t){return Me(e.length,(function(){return e.apply(t,arguments)}))}));function rn(e,t,n){for(var r=n.next();!r.done;){if((t=e["@@transducer/step"](t,r.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function on(e,t,n,r){return e["@@transducer/result"](n[r](nn(e["@@transducer/step"],e),t))}var an="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function sn(e,t,n){if("function"==typeof e&&(e=function(e){return new tn(e)}(e)),en(n))return function(e,t,n){for(var r=0,o=n.length;r<o;){if((t=e["@@transducer/step"](t,n[r]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}(e,t,n);if("function"==typeof n["fantasy-land/reduce"])return on(e,t,n,"fantasy-land/reduce");if(null!=n[an])return rn(e,t,n[an]());if("function"==typeof n.next)return rn(e,t,n);if("function"==typeof n.reduce)return on(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}const cn=Jt(sn);function un(e,t){return function(){var n=arguments.length;if(0===n)return t();var r=arguments[n-1];return Yt(r)||"function"!=typeof r[e]?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}const ln=Jt(un("slice",(function(e,t,n){return Array.prototype.slice.call(n,e,t)}))),dn=Ue(un("tail",ln(1,1/0)));function pn(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Me(arguments[0].length,cn(Qt,arguments[0],dn(arguments)))}const fn=Ue((function(e){return Xt(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()}));function hn(){if(0===arguments.length)throw new Error("compose requires at least one argument");return pn.apply(this,fn(arguments))}function mn(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function vn(e,t,n){for(var r=0,o=n.length;r<o;){if(e(t,n[r]))return!0;r+=1}return!1}const gn="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};var yn=Object.prototype.toString;const bn=function(){return"[object Arguments]"===yn.call(arguments)?function(e){return"[object Arguments]"===yn.call(e)}:function(e){return Ve("callee",e)}}();var wn=!{toString:null}.propertyIsEnumerable("toString"),_n=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],xn=function(){return arguments.propertyIsEnumerable("length")}(),En=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};const kn="function"!=typeof Object.keys||xn?Ue((function(e){if(Object(e)!==e)return[];var t,n,r=[],o=xn&&bn(e);for(t in e)!Ve(t,e)||o&&"length"===t||(r[r.length]=t);if(wn)for(n=_n.length-1;n>=0;)Ve(t=_n[n],e)&&!En(r,t)&&(r[r.length]=t),n-=1;return r})):Ue((function(e){return Object(e)!==e?[]:Object.keys(e)})),Sn=Ue((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function On(e,t,n,r){var o=mn(e);function i(e,t){return Tn(e,t,n.slice(),r.slice())}return!vn((function(e,t){return!vn(i,t,e)}),mn(t),o)}function Tn(e,t,n,r){if(gn(e,t))return!0;var o=Sn(e);if(o!==Sn(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(o){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!gn(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!gn(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var i=n.length-1;i>=0;){if(n[i]===e)return r[i]===t;i-=1}switch(o){case"Map":return e.size===t.size&&On(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&On(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=kn(e);if(a.length!==kn(t).length)return!1;var s=n.concat([e]),c=r.concat([t]);for(i=a.length-1;i>=0;){var u=a[i];if(!Ve(u,t)||!Tn(t[u],e[u],s,c))return!1;i-=1}return!0}const jn=Fe((function(e,t){return Tn(e,t,[],[])}));function In(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function An(e,t,n){return function(){if(0===arguments.length)return n();var r=Array.prototype.slice.call(arguments,0),o=r.pop();if(!Yt(o)){for(var i=0;i<e.length;){if("function"==typeof o[e[i]])return o[e[i]].apply(o,r);i+=1}if(In(o)){var a=t.apply(null,r);return a(o)}}return n.apply(this,arguments)}}const Pn=function(){return this.xf["@@transducer/init"]()},Cn=function(e){return this.xf["@@transducer/result"](e)};var Dn=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=Pn,e.prototype["@@transducer/result"]=Cn,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var n,r=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?(n=r)&&n["@@transducer/reduced"]?n:{"@@transducer/value":n,"@@transducer/reduced":!0}:r},e}();const Ln=Fe(An(["take"],Fe((function(e,t){return new Dn(e,t)})),(function(e,t){return ln(0,e<0?1/0:e,t)}))),Rn=Fe((function(e,t){return jn(Ln(e.length,t),e)})),Nn=Fe((function(e,t){for(var n=t,r=0;r<e.length;){if(null==n)return;n=n[e[r]],r+=1}return n})),Mn=Fe((function(e,t){return Nn([e],t)})),zn=Ue((function(e){return!e}));let Un=0;const $n=()=>Un++,Bn="init",qn="setup",Zn="ad-destroyed",Fn="fetch",Vn=(e,t={})=>({source:"Logic",eventID:$n(),type:Fn,ads:e,targeting:t}),Hn="refresh",Wn=(e,t={})=>({source:"Logic",eventID:$n(),type:Hn,ads:e,targeting:t}),Gn="api-refresh",Kn="undelivered",Qn="loaded",Jn="start-slotify-preemptive",Yn="start-slotify-incremental",Xn="ack-loaded",er="add-slot",tr=e=>({source:"Logic",eventID:$n(),type:er,data:e}),nr="slot-added",rr="add-tile",or=e=>({source:"Logic",eventID:$n(),type:rr,data:e}),ir="tile-added",ar="mount",sr=e=>({source:"Actions",eventID:$n(),type:ar,data:e}),cr="configured",ur="buffer-viewport-enter",lr="viewport-enter",dr="viewport-leave",pr="iab-in-view",fr="iab-not-in-view",hr=e=>({source:"Actions",eventID:$n(),type:fr,id:e}),mr="viewed",vr="user-input",gr="spacer-generated",yr="container-generated",br="generate-spacer",wr="generate-container",_r=e=>({source:"Bordeaux",eventID:$n(),type:wr,slot:e}),xr=["ie","edge","safari","firefox","chrome"],Er="mark",kr="Bordeaux - ",Sr=e=>!!y().performance&&performance[e]instanceof Function,Or=()=>{const e=y();return Sr("now")?e.performance.now():0},Tr=()=>{const e=y();return Sr("getEntries")?e.performance.getEntries():[]},jr=e=>{const t=y();return Sr("getEntriesByType")?t.performance.getEntriesByType(e):Tr().filter((e=>({entryType:t})=>t===e)(e))},Ir=(e,t)=>{const n=y();if(Sr("getEntriesByName"))return n.performance.getEntriesByName(e,t);const r=(e=>({name:t})=>t===e)(e);return void 0!==t?jr(t).filter(r):Tr().filter(r)},Ar=new me,Pr=y(),Cr=hn(Rn(kr),Mn("name")),Dr=()=>jr(Er),Lr=()=>Dr().filter(Cr),Rr=(e,t,n,r="",o=!1,i=null)=>{const a=((e,t,n,r="Bordeaux",o="",i=!1,a=null)=>Object.assign(Object.assign(Object.assign(Object.assign({source:"Bordeaux",eventID:$n(),type:"mark",time:t,object:e,origin:r},o instanceof Object?o:{}),i?{startMark:i}:{}),null===a?{}:{eventInfo:a}),{message:n}))(e,e?e.startTime:Or(),t,n,r,o,i);return Ar.next(a),a},Nr=()=>((()=>{let e,t=0,n=0;e=Pr.setInterval((()=>{if(n>5)return void Pr.clearInterval(e);const r=Dr(),o=r.slice(t).filter(hn(zn,Cr));t=r.length,0!==o.length?o.forEach((e=>Rr(e,e.name,"System"))):n++}),2e3)})(),{mark:(e,t=!1,n=null)=>{const r=e instanceof Object?e.message:e,o=kr+r;let i;return"function"==typeof Pr.performance.mark&&(Pr.performance.mark(o),i=(()=>{const e=Lr();if(0!==e.length)return e[e.length-1]})()),Rr(i,o,"Bordeaux",e,t,n).eventID},getMarks:e=>Ir(`Bordeaux - ${e}`,Er),getAllMarks:Lr,markMessages$:Ar});var Mr=n(63),zr=n.n(Mr);const Ur=y().document.URL,$r=Boolean(["local.fte","local.responsive","local.progressive","dev.fte","stage.fte","futureplc.engineering"].find((e=>Ur.indexOf(e)>-1))),Br="4.28.0".includes("Dev"),qr=$r||Br,Zr=y(),Fr={env:"",device:"",browser:"",version:"4.28.0"};let Vr=!1,Hr=!1,Wr=!1,Gr=!1,Kr=!1;const Qr=zr()(),Jr=Qr.create("counter","request","Request counter"),Yr=Qr.create("counter","crash","Crash counter"),Xr=Qr.create("counter","block","Block counter"),eo=Qr.create("counter","disable","Disable counter"),to=Qr.create("counter","load","Load counter"),no=Qr.create("counter","load_fail","Load fail counter"),ro=Qr.create("counter","timeout","Timeout counter"),oo=Qr.create("counter","unload","Unload counter"),io=()=>{if(!Vr||!Hr)return;const e=Qr.metrics();jt("https://bordeaux-gateway.futureplc.com/push_metrics/",e)?(Vr=!1,Qr.reset()):je.error("Error pushing Bordeaux metrics data.")},ao=()=>{if(Gr)if(Kr){if(!Wr){const e=Object.assign({target:"ads"},Fr);Vr=!0,oo.inc(e)}}else{const e=Object.assign({target:"thirdparties"},Fr);Vr=!0,oo.inc(e)}else{const e=Object.assign({target:"config"},Fr);Vr=!0,oo.inc(e)}io()},so=()=>{const e=Object.assign({target:"bordeaux"},Fr);Vr=!0,Jr.inc(e)},co=()=>{const e=Object.assign({target:"config"},Fr);Gr=!0,Vr=!0,to.inc(e)},uo=()=>{const e=Object.assign({target:"thirdparties"},Fr);Kr=!0,Vr=!0,to.inc(e)},lo=()=>{const e=Object.assign({target:"ads"},Fr);Vr=!0,Xr.inc(e)},po=()=>{const e=Object.assign({target:"ads"},Fr);Vr=!0,eo.inc(e)},fo=()=>{const e=Object.assign({target:"config"},Fr);Vr=!0,no.inc(e)},ho=()=>{const e=Object.assign({target:"config"},Fr);Vr=!0,ro.inc(e)},mo=()=>{const e=Object.assign({target:"config"},Fr);Vr=!0,Xr.inc(e)},vo=()=>{const e=Object.assign({target:"config"},Fr);Vr=!0,Yr.inc(e)},go=()=>{const e=Object.assign({target:"ads"},Fr);Wr=!0,Vr=!0,to.inc(e)},yo=()=>{const e=Object.assign({target:"bordeaux"},Fr);Vr=!0,Yr.inc(e)},bo=()=>(Fr.env=qr?"dev":"prod",Fr.device=et(),Fr.browser=(e=>{const t=e.toLowerCase();return-1===xr.indexOf(t)?"unknown browser":t})(Ze()),(()=>{const e=Math.random()<.01,t=w("force_metrics");Hr=e||t})(),Zr.setInterval(io,1e4),Zr.addEventListener("pagehide",ao),Zr.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&io()})),{recordFrameworkRequest:so,recordFrameworkCrash:yo,recordAdsBlock:lo,recordAdsDisable:po,recordAdsLoad:go,recordConfigLoad:co,recordConfigLoadFail:fo,recordConfigTimeout:ho,recordConfigEmpty:mo,recordConfigParseError:vo,recordThirdPartiesLoad:uo});let wo=0;const _o=[],xo=(e,t)=>{(()=>{const e=jr("resource"),t=e.slice(wo);if(0===t.length)return;const n=e.length;wo=n,t.forEach((e=>{const t=((e,t="Bordeaux")=>({source:"Bordeaux",eventID:$n(),type:"resource",time:e.startTime,object:e,origin:t,message:e.name,duration:e.duration}))(e,"System");_o.push(t)}))})();const n=[];return void 0!==e&&n.push((t=>t.object.initiatorType===e)),void 0!==t&&n.push((e=>e.object.name.indexOf(t)>-1)),_o.filter((e=>!n.find((t=>!1===t(e)))))},Eo=(()=>{const e=Nr(),t={now:Or,getEntries:Tr,getEntriesByType:jr,getEntriesByName:Ir},n=bo(),r={getResources:xo},o=Object.assign(Object.assign(Object.assign(Object.assign({},e),t),n),r);return n.recordFrameworkRequest(),Re().then((t=>{e.mark({message:"DOMContentLoaded event",time:t.timeStamp})})),(Ne=Ne||new Promise((e=>{const t=y();"complete"!==t.document.readyState?t.addEventListener("load",(()=>{e({timeStamp:De()})})):e({timeStamp:De()})})),Ne).then((t=>{e.mark({message:"PageLoad event",time:t.timeStamp})})),o})(),ko=Eo;var So=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Pn,e.prototype["@@transducer/result"]=Cn,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}();const Oo=Fe((function(e,t){return new So(e,t)}));function To(e,t,n){return function(){for(var r=[],o=0,i=e,a=0;a<t.length||o<arguments.length;){var s;a<t.length&&(!ze(t[a])||o>=arguments.length)?s=t[a]:(s=arguments[o],o+=1),r[a]=s,ze(s)||(i-=1),a+=1}return i<=0?n.apply(this,r):Me(i,To(e,r,n))}}const jo=Fe((function(e,t){return 1===e?Ue(t):Me(e,To(e,[],t))})),Io=Fe(An(["fantasy-land/map","map"],Oo,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return jo(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return sn((function(n,r){return n[r]=e(t[r]),n}),{},kn(t));default:return function(e,t){for(var n=0,r=t.length,o=Array(r);n<r;)o[n]=e(t[n]),n+=1;return o}(e,t)}}))),Ao=Fe((function(e,t){return t>e?t:e})),Po=Ue((function(e){return Me(cn(Ao,0,Io((function(e){return e[0].length}),e)),(function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}}))})),Co=Ue((function(e){return function(){return e}})),Do=Jt((function(e,t,n){return jo(Math.max(e.length,t.length,n.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):n.apply(this,arguments)}))}));const Lo=y(),Ro=Math.floor(1e8+9e8*Math.random()),{device:No,browser:Mo,country:zo}=dt(),Uo=navigator.connection&&navigator.connection.effectiveType||"";let $o="";const Bo=[],qo="https://gw.bm.develop.public.rtb-qa-eks-euw1.futureplc.engineering/future/adtech/bordeaux/v1/storeevents",Zo=[],Fo=$e((()=>(.1,Math.random()<.1))),Vo=y(),Ho=e=>Bo.find((t=>t.auction.id===e)),Wo=e=>t=>e===t.eventType,Go=Po([[Wo("LoadingThirdParties"),({startTime:e,endTime:t="",auctionId:n})=>{const r=Ho(n);r&&(r.third_parties.start_time=e,r.third_parties.end_time=t)}],[Wo("ThirdPartyScripts"),({name:e,startTime:t,endTime:n="",auctionId:r,status:o})=>{const i=Ho(r);if(i){const r=i.third_parties.scripts.findIndex((t=>t.name===e));-1!==r?i.third_parties.scripts[r]={name:e,start_time:t,end_time:n,status:o}:i.third_parties.scripts.push({name:e,start_time:t,end_time:n,status:o})}}],[Wo("PartnerRequest"),({startTime:e,endTime:t="",name:n,auctionId:r,status:o})=>{const i=Ho(r);if(i){const r=i.auction.partner_requests.findIndex((e=>e.name===n));-1!==r?i.auction.partner_requests[r]={name:n,start_time:e,end_time:t,status:o}:i.auction.partner_requests.push({name:n,start_time:e,end_time:t,status:o})}}],[Wo("AdRequest"),({endTime:e="",auctionId:t})=>{const n=Ho(t);n&&(n.auction.adload_time=e,null===e||Zo.includes(t)||(jt(qo,{events:[{ad_request_completed_event:n}]}),Zo.push(t)))}],[Wo("Auction"),({startTime:e,endTime:t="",auctionId:n})=>{const r=Ho(n);r&&(r.auction.start_time=e,r.auction.end_time=t)}],[Wo("ConfigRequest"),({startTime:e,endTime:t="",auctionId:n,status:r})=>{const o=Ho(n);o&&(o.config.start_time=e,o.config.end_time=t,o.config.status=r)}],[Wo("CmpPending"),({startTime:e,auctionId:t})=>{const n=Ho(t);n&&(n.cmp.pending_time=e)}],[Wo("CmpLoaded"),({startTime:e,auctionId:t})=>{const n=Ho(t);n&&(n.cmp.load_time=e)}],[Co(!0),()=>{}]]),Ko=Do(Fo,hn(Go,(e=>(Ho(e.auctionId)||Bo.push(((e,t)=>({bordeaux:{version:"4.28.0",experiment_id:""},browser:{type:Mo,device_type:No,connection_type:Uo},user:{country:zo,hybrid_id:e,unload_time:null},cmp:{load_time:null,pending_time:null},session:{url:Lo.location.href,id:Ro},config:{start_time:null,end_time:null,status:"REQUEST_STATUS_UNSPECIFIED"},third_parties:{start_time:null,end_time:null,scripts:[]},auction:{start_time:null,end_time:null,adload_time:null,id:t,partner_requests:[]}}))($o,e.auctionId)),e))),(()=>{})),Qo=(e,t,n,r=(new Date).toISOString(),o="REQUEST_STATUS_PENDING")=>(Ko({name:e,startTime:r,endTime:null,eventType:n,auctionId:t,status:o}),$e(((o=(new Date).toISOString(),i="REQUEST_STATUS_SUCCESSFUL")=>Ko({name:e,startTime:r,endTime:o,eventType:n,auctionId:t,status:i}))));var Jo=function(e){function t(t,n){return e.call(this)||this}return x(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(R),Yo={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=Yo.delegate;return(null==o?void 0:o.setInterval)?o.setInterval.apply(o,j([e,t],T(n))):setInterval.apply(void 0,j([e,t],T(n)))},clearInterval:function(e){var t=Yo.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Xo=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return x(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),Yo.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;Yo.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,L(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Jo),ei=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return x(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(Xo),ti=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=he.now,e}(),ni=function(e){function t(t,n){void 0===n&&(n=ti.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return x(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(ti),ri=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t}(ni))(ei),oi=C((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})),ii=new ue((function(e){return e.complete()}));function ai(e){return e<=0?function(){return ii}:ve((function(t,n){var r=0;t.subscribe(ge(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function si(e){return ve((function(t,n){var r=!1;t.subscribe(ge(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}function ci(e){return void 0===e&&(e=ui),ve((function(t,n){var r=!1;t.subscribe(ge(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}function ui(){return new oi}function li(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?be((function(t,n){return e(t,n,r)})):ae,ai(1),n?si(t):ci((function(){return new oi})))}}function di(e,t){return ve((function(n,r){var o=0;n.subscribe(ge(r,(function(n){r.next(e.call(t,n,o++))})))}))}var pi=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function fi(e){return P(null==e?void 0:e.then)}function hi(e){return P(e[ie])}function mi(e){return Symbol.asyncIterator&&P(null==e?void 0:e[Symbol.asyncIterator])}function vi(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var gi="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function yi(e){return P(null==e?void 0:e[gi])}function bi(e){return A(this,arguments,(function(){var t,n,r;return S(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,I(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,I(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,I(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function wi(e){return P(null==e?void 0:e.getReader)}function _i(e){if(e instanceof ue)return e;if(null!=e){if(hi(e))return o=e,new ue((function(e){var t=o[ie]();if(P(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(pi(e))return r=e,new ue((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(fi(e))return n=e,new ue((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,V)}));if(mi(e))return xi(e);if(yi(e))return t=e,new ue((function(e){var n,r;try{for(var o=O(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(wi(e))return xi(bi(e))}var t,n,r,o;throw vi(e)}function xi(e){return new ue((function(t){(function(e,t){var n,r,o,i;return k(this,void 0,void 0,(function(){var a,s;return S(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=O(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}(e),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function Ei(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}function ki(e,t,n){return void 0===n&&(n=1/0),P(t)?ki((function(n,r){return di((function(e,o){return t(n,e,r,o)}))(_i(e(n,r)))}),n):("number"==typeof t&&(n=t),ve((function(t,r){return function(e,t,n,r,o,i,a,s){var c=[],u=0,l=0,d=!1,p=function(){!d||c.length||u||t.complete()},f=function(e){return u<r?h(e):c.push(e)},h=function(e){u++;var o=!1;_i(n(e,l++)).subscribe(ge(t,(function(e){t.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{u--;for(;c.length&&u<r;)e=void 0,e=c.shift(),h(e);p()}catch(e){t.error(e)}var e})))};return e.subscribe(ge(t,f,(function(){d=!0,p()}))),function(){}}(t,r,e,n)})))}function Si(e){return void 0===e&&(e=1/0),ki(ae,e)}function Oi(e){return e&&P(e.schedule)}function Ti(e){return e[e.length-1]}function ji(e){return P(Ti(e))?e.pop():void 0}function Ii(e){return Oi(Ti(e))?e.pop():void 0}function Ai(e,t){return"number"==typeof Ti(e)?e.pop():t}function Pi(e,t){return void 0===t&&(t=0),ve((function(n,r){n.subscribe(ge(r,(function(n){return Ei(r,e,(function(){return r.next(n)}),t)}),(function(){return Ei(r,e,(function(){return r.complete()}),t)}),(function(n){return Ei(r,e,(function(){return r.error(n)}),t)})))}))}function Ci(e,t){return void 0===t&&(t=0),ve((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function Di(e,t){if(!e)throw new Error("Iterable cannot be null");return new ue((function(n){Ei(n,t,(function(){var r=e[Symbol.asyncIterator]();Ei(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function Li(e,t){return t?function(e,t){if(null!=e){if(hi(e))return function(e,t){return _i(e).pipe(Ci(t),Pi(t))}(e,t);if(pi(e))return function(e,t){return new ue((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(fi(e))return function(e,t){return _i(e).pipe(Ci(t),Pi(t))}(e,t);if(mi(e))return Di(e,t);if(yi(e))return function(e,t){return new ue((function(n){var r;return Ei(n,t,(function(){r=e[gi](),Ei(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)}),0,!0)})),function(){return P(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(wi(e))return function(e,t){return Di(bi(e),t)}(e,t)}throw vi(e)}(e,t):_i(e)}function Ri(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ii(e),r=Ai(e,1/0),o=e;return o.length?1===o.length?_i(o[0]):Si(r)(Li(o,n)):ii}let Ni,Mi,zi;const Ui=new Promise((e=>{zi=e})),$i=()=>{if(void 0===Ni||void 0===Mi)return;const e=Ri(Ni,Mi);zi(e)},Bi=e=>{Ni=e,$i()},qi=e=>{Mi=e,$i()},Zi=()=>Ui,Fi=(()=>{try{const e=(()=>{const e=document.createElement("div");return e.setAttribute("class","pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"),e.setAttribute("style","width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;"),document.body.appendChild(e),e})();if(!(e instanceof HTMLDivElement))return!1;const t=(e=>null!==document.body.getAttribute("abp")||null===e.offsetParent||0===e.offsetHeight||0===e.offsetLeft||0===e.offsetTop||0===e.offsetWidth||0===e.clientHeight||0===e.clientWidth)(e);return e.remove(),t}catch(e){return e instanceof Error&&je.warn(`Adblock test failed: ${e.message}`),!1}})();function Vi(e){return new ue((function(t){_i(e()).subscribe(t)}))}var Hi={connector:function(){return new pe},resetOnDisconnect:!0};function Wi(e,t){void 0===t&&(t=Hi);var n=null,r=t.connector,o=t.resetOnDisconnect,i=void 0===o||o,a=r(),s=new ue((function(e){return a.subscribe(e)}));return s.connect=function(){return n&&!n.closed||(n=Vi((function(){return e})).subscribe(a),i&&n.add((function(){return a=r()}))),n},s}function Gi(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new pe}:t,r=e.resetOnError,o=void 0===r||r,i=e.resetOnComplete,a=void 0===i||i,s=e.resetOnRefCountZero,c=void 0===s||s;return function(e){var t=null,r=null,i=null,s=0,u=!1,l=!1,d=function(){null==r||r.unsubscribe(),r=null},p=function(){d(),t=i=null,u=l=!1},f=function(){var e=t;p(),null==e||e.unsubscribe()};return ve((function(e,h){s++,l||u||d();var m=i=null!=i?i:n();h.add((function(){0!=--s||l||u||(r=Ki(f,c))})),m.subscribe(h),t||(t=new te({next:function(e){return m.next(e)},error:function(e){l=!0,d(),r=Ki(p,o,e),m.error(e)},complete:function(){u=!0,d(),r=Ki(p,a),m.complete()}}),Li(e).subscribe(t))}))(e)}}function Ki(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return!0===t?(e(),null):!1===t?null:t.apply(void 0,j([],T(n))).pipe(ai(1)).subscribe((function(){return e()}))}function Qi(e,t){return ve((function(n,r){var o=null,i=0,a=!1,s=function(){return a&&!o&&r.complete()};n.subscribe(ge(r,(function(n){null==o||o.unsubscribe();var a=0,c=i++;_i(e(n,c)).subscribe(o=ge(r,(function(e){return r.next(t?t(n,e,c,a++):e)}),(function(){o=null,s()})))}),(function(){a=!0,s()})))}))}var Ji=Array.isArray;function Yi(e){return di((function(t){return function(e,t){return Ji(t)?e.apply(void 0,j([],T(t))):e(t)}(e,t)}))}var Xi=["addListener","removeListener"],ea=["addEventListener","removeEventListener"],ta=["on","off"];function na(e,t,n,r){if(P(n)&&(r=n,n=void 0),r)return na(e,t,n).pipe(Yi(r));var o=T(function(e){return P(e.addEventListener)&&P(e.removeEventListener)}(e)?ea.map((function(r){return function(o){return e[r](t,o,n)}})):function(e){return P(e.addListener)&&P(e.removeListener)}(e)?Xi.map(ra(e,t)):function(e){return P(e.on)&&P(e.off)}(e)?ta.map(ra(e,t)):[],2),i=o[0],a=o[1];if(!i&&pi(e))return ki((function(e){return na(e,t,n)}))(_i(e));if(!i)throw new TypeError("Invalid event target");return new ue((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return i(t),function(){return a(t)}}))}function ra(e,t){return function(n){return function(r){return e[n](t,r)}}}function oa(e){return di((function(){return e}))}function ia(){return Si(1)}function aa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ia()(Li(e,Ii(e)))}function sa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ii(e);return ve((function(t,r){(n?aa(e,t,n):aa(e,t)).subscribe(r)}))}const ca=y(),ua=(...e)=>{try{for(let t=0;t<e.length;t++){const n=e[t];if("string"==typeof n){const e=ca.document.querySelector(n);if(e)return e.bordeauxHookSelector=n,e}else if("object"==typeof n&&n.selector&&"number"==typeof n.position&&n.position>0){const e=ca.document.querySelectorAll(n.selector)[n.position-1];if(e)return e.bordeauxHookSelector=n.selector,e.bordeauxHookSelectorPosition=n.position,e}}return null}catch(e){return je.error("Error while selecting DOM element",e),null}},la=dt(),da=(new pe).pipe(Gi()),pa=e=>e.pipe(ki((t=>{return n=()=>t.type===Bn&&(!Object.values(la).includes("mobile")||Object.values(la).includes("no-inbody-ads")||Object.values(la).includes("quick-hit")),r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ii(e);return Li(e,n)}(!1),o=e.pipe(be((e=>"name"in e&&"anchored"===e.name)),di((e=>"id"in e&&e.id)),Qi((t=>e.pipe(be((e=>"id"in e&&e.id===t&&e.type===mr)),Qi((()=>na(window,"message").pipe(be((({data:e})=>"object"==typeof e&&Object.values(e).includes("big_top_visible")||"mobile-bigtop-loaded"===e)),oa(!0),sa(!!ua("#future-bigtop-masthead"))))))))),Vi((function(){return n()?r:o}));var n,r,o}))),fa=Ue((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():Yt(e)?[]:Xt(e)?"":function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)?{}:bn(e)?function(){return arguments}():void 0})),ha=Ue((function(e){return null!=e&&jn(e,fa(e))}));let ma=1200;var va=n(897),ga=n.n(va),ya=n(149),ba=n.n(ya),wa=n(409),_a=n.n(wa);const xa=ba().extend(_a()),Ea=new Map,ka=new Map,Sa=y(),Oa=(e,t=0)=>{var n,r;return e.boundingClientRect.bottom<((null===(n=e.rootBounds)||void 0===n?void 0:n.top)||0)+t?-1:e.boundingClientRect.y>((null===(r=e.rootBounds)||void 0===r?void 0:r.bottom)||0)-t?1:0};function Ta(e){return ka.has(e)?ka.get(e):ka.set(e,ga()(IntersectionObserver,{rootMargin:`${e}px 0px ${e}px 0px`,threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})).get(e)}function ja(e){const{top:t,bottom:n,left:r,right:o}=e.boundingClientRect,i=Math.floor(Sa.scrollX),a=Math.floor(Sa.scrollY);return{top:Math.floor(t)+a,bottom:Math.floor(n)+a,left:Math.floor(r)+i,right:Math.floor(o)+i}}const Ia=function(e=null,t=[],n=0,r={}){const{onChange:o=(()=>{}),onBufferEnter:i=(()=>{}),onBufferLeave:a=(()=>{}),onContentsEnter:s=(()=>{}),onContentsLeave:c=(()=>{})}=r;(function(e){return"function"==typeof e.item&&e.length>0?Array.from(e):Array.isArray(e)?e:[e]})(t).forEach(((t,r)=>{if(void 0!==t.dataset.featRef)return;const u=`bordeaux-feat-id-${$n()}`;Ea.set(u,{index:r,category:e,coverage:0,ratio:0,position:0,top:0,bottom:0,left:0,right:0,buffer:n,testing:0,contentUnobserve:()=>{},lastGeneralUpdate:0,lastContentUpdate:0}),t.setAttribute("data-feat-ref",u),Ta(n)(t,(e=>{xa.measure((()=>{!function(e,t,n,r,o,i){const a=e.target.getAttribute("data-feat-ref");if(null===a)return;const s=Ea.get(a);if(void 0===s)return;if(e.time<s.lastGeneralUpdate)return;const c=ja(e),u=Object.assign(Object.assign(Object.assign({},s),c),{position:Oa(e,s.buffer),ratio:Math.ceil(e.intersectionRatio)});u.ratio!==s.ratio&&"function"==typeof t&&t(e.target,u,u.index),0!==u.ratio&&0===s.ratio&&"function"==typeof n&&n(e.target,u,u.index),0===u.ratio&&0!==s.ratio&&"function"==typeof r&&r(e.target,u,u.index),0!==u.ratio&&0===s.ratio&&0!==u.buffer&&(u.contentUnobserve=Ta(0)(e.target,(e=>{!function(e,t,n,r){const o=e.target.getAttribute("data-feat-ref");if(null===o)return;const i=Ea.get(o);if(void 0===i)return;if(e.time<i.lastContentUpdate)return;const a=Math.ceil(e.intersectionRatio);if(i.coverage===a)return;const s=ja(e),c=Object.assign(Object.assign(Object.assign({},i),s),{position:Oa(e),coverage:a,lastContentUpdate:e.time});c.coverage!==i.coverage&&"function"==typeof t&&t(e.target,c,i.index),0!==c.coverage&&0===i.coverage&&"function"==typeof n&&n(e.target,c,c.index),0===c.coverage&&0!==i.coverage&&"function"==typeof r&&r(e.target,c,c.index),Ea.set(o,c)}(e,t,o,i)}))),0===u.ratio&&0!==s.ratio&&0!==u.buffer&&s.contentUnobserve(),0===s.buffer&&0!==u.ratio&&0===s.ratio&&"function"==typeof o&&o(e.target,u,u.index),0===s.buffer&&0===u.ratio&&0!==s.ratio&&"function"==typeof r&&i(e.target,u,u.index),Ea.set(a,Object.assign(Object.assign({},u),{lastGeneralUpdate:e.time}))}(e,o,i,a,s,c)}))}))}))};let Aa,Pa,Ca;const Da=new Promise((e=>{Ca=e})),La=y(),Ra=e=>{try{const t=Array.from(La.document.querySelectorAll(e));return t.forEach((t=>{t.bordeauxHookSelector=e})),t}catch(e){return je.error("Error while selecting DOM elements",e),[]}},Na=y(),Ma=[{selector:"#sidebar",minHeight:3e3,devices:[Je]},{selector:".article__sidebar",minHeight:500,devices:[Je]},{selector:"#archives-filter-sidebar",minHeight:3e3,devices:[Je]},{selector:".body.progressive .van_taboola",minHeight:0,devices:[Je]},{selector:".listing--related .listing__title",minHeight:30,devices:[Je]},{selector:".listing--related .listing__item",minHeight:330,devices:[Je]},{selector:".article-bottom",minHeight:3500,devices:[Je]},{selector:".author--article-page",minHeight:60,devices:[Je]}],za={},Ua=new Map,$a=new Map;let Ba=!1;const qa=new pe,Za=(e,t)=>k(void 0,void 0,void 0,(function*(){e.slotID=t.id,t.tileID=e.id;const n=[];if(void 0!==e.onMount){const r=e.onMount(t);n.push(r)}if(void 0!==t.onMount){const r=t.onMount(e);n.push(r)}if(yield Promise.all(n),t.element){const e=y(),n=t.element.getBoundingClientRect();Ha(t,{top:n.top+e.scrollY,bottom:n.bottom,left:n.left,right:n.right})}})),Fa=e=>{if(void 0!==e.tileID)return;if(!(e=>{if(!e.additionalAvoidance||0===e.additionalAvoidance.length)return!0;let t=!0;return e.additionalAvoidance.forEach((n=>{const r=e.coordinates.top<n.coordinates.top;r&&e.coordinates.top+Pa>=n.coordinates.top&&(t=!1),!r&&n.coordinates.top+n.coordinates.height+Pa>=e.coordinates.top&&(t=!1)})),t})(e))return;if(!e.ignoreExclusion&&(e=>{let t=!1;return Object.values(za).forEach((n=>{void 0!==e.coordinates&&(n.top<=e.coordinates.top&&n.bottom>=e.coordinates.bottom||n.top<=e.coordinates.bottom&&n.top>=e.coordinates.top||n.bottom>=e.coordinates.top&&n.bottom<=e.coordinates.bottom)&&(t=!0)})),t})(e))return;const t=[...$a.values()].reduce((e=>(t,n)=>void 0!==e.tileID||void 0!==n.slotID?t:void 0===e.tileCategoryAllowList||0===e.tileCategoryAllowList.length||void 0!==n.category&&e.tileCategoryAllowList.includes(n.category)?e.fluid&&n.fluid?t||n:void 0===n.width||void 0===n.height||void 0===e.width||void 0===e.height||n.width>e.width||n.height>e.height||null!==t&&(t.width||1)>=(n.width||1)?t:n.ignoreCategoryAvoidance||((e,t,n,r)=>{const o=[];r.forEach((t=>{if(void 0===t.tileID)return;const r=n.get(t.tileID);void 0!==r&&(r.category===e.category&&o.push({slot:t,distance:Pa}),e.categoryAvoidanceRules&&e.categoryAvoidanceRules.tiles)&&e.categoryAvoidanceRules.tiles.forEach((e=>{r.category===e.category&&o.push({slot:t,distance:e.distance})}))}));let i=!0;return o.forEach((e=>{if(void 0===e.slot.coordinates||void 0===t.coordinates)return;const n=t.coordinates.top<e.slot.coordinates.top,r=(t.height||0)+(!t.label||ha(t.label)?0:30)+e.distance,o=(e.slot.height||0)+(!e.slot.label||ha(e.slot.label)?0:30)+e.distance;n&&t.coordinates.top+r>=e.slot.coordinates.top&&(i=!1),!n&&e.slot.coordinates.top+o>=t.coordinates.top&&(i=!1)})),i})(n,e,$a,Ua)?n:t:t)(e),null);null!==t&&Za(t,e)},Va=(e,t)=>{const n=y();return{top:e.top+n.scrollY,bottom:e.bottom,left:e.left,right:e.right,height:t}},Ha=(e,t)=>{e.coordinates.top=t.top,e.coordinates.bottom=e.coordinates.top+(e.height||0)+(!e.label||ha(e.label)?0:30),e.coordinates.left=t.left,e.coordinates.right=t.right+(e.width||0)},Wa=e=>{if(void 0===e.element)return;const t=ma;Ia("slotify",e.element,t,{onChange:(t,n)=>{Ha(e,n)},onBufferEnter:(t,n)=>{Ha(e,n),-1!==n.position&&Fa(e)},onBufferLeave:()=>{},onContentsEnter:(t,n)=>{Ha(e,n),-1!==n.position&&Fa(e),(e=>{void 0!==e.id&&qa.next(((e,t)=>({source:"Slotify",eventID:$n(),type:"slot-viewport-enter",id:e,tileId:t}))(e.id,e.tileID))})(e)},onContentsLeave:()=>{(e=>{void 0!==e.id&&qa.next(((e,t)=>({source:"Slotify",eventID:$n(),type:"slot-viewport-leave",id:e,tileId:t}))(e.id,e.tileID))})(e)}})},Ga=e=>{((e=400)=>{const t=Aa;if(t){const{device:e}=dt();Pa=t[e]}else Pa=e;Ca(Pa)})(e)},Ka=()=>{ko.mark("Slotify start incremental handling"),(()=>{let e=0;const t=et();Ma.filter((({devices:e=[]})=>e.includes(t))).forEach((({selector:t,minHeight:n})=>{const r=Ra(t);0!==r.length&&r.forEach((t=>{const r=((e,t,n)=>()=>{xa.measure((()=>{const{top:r,height:o}=t.getBoundingClientRect(),i=Na.scrollY,a={top:Math.floor(r+i),bottom:Math.floor(Math.max(r+i+n,r+i+o))};za[e]=a}))})(e,t,n);new MutationObserver(r).observe(t,{attributes:!0,childList:!0,subtree:!0}),e+=1,r()}))}))})(),Ua.forEach((e=>{void 0!==e.id&&Wa(e)})),Ba=!0};var Qa=new ni(Xo),Ja=Qa,Ya={leading:!0,trailing:!1};function Xa(e,t,n){void 0===e&&(e=0),void 0===n&&(n=Ja);var r=-1;return null!=t&&(Oi(t)?n=t:r=t),new ue((function(t){var o,i=(o=e)instanceof Date&&!isNaN(o)?+e-n.now():e;i<0&&(i=0);var a=0;return n.schedule((function(){t.closed||(t.next(a++),0<=r?this.schedule(void 0,r):t.complete())}),i)}))}function es(e,t,n){void 0===t&&(t=Qa),void 0===n&&(n=Ya);var r=Xa(e,t);return function(e,t){return void 0===t&&(t=Ya),ve((function(e,n){var o=t.leading,i=t.trailing,a=!1,s=null,c=null,u=!1,l=function(){null==c||c.unsubscribe(),c=null,i&&(f(),u&&n.complete())},d=function(){c=null,u&&n.complete()},p=function(e){return c=_i(r).subscribe(ge(n,l,d))},f=function(){if(a){a=!1;var e=s;s=null,n.next(e),!u&&p()}};e.subscribe(ge(n,(function(e){a=!0,s=e,(!c||c.closed)&&(o?f():p())}),(function(){u=!0,(!(i&&a&&c)||c.closed)&&n.complete()})))}))}(0,n)}function ts(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ji(e);return ve((function(t,r){for(var o=e.length,i=new Array(o),a=e.map((function(){return!1})),s=!1,c=function(t){_i(e[t]).subscribe(ge(r,(function(e){i[t]=e,s||a[t]||(a[t]=!0,(s=a.every(ae))&&(a=null))}),H))},u=0;u<o;u++)c(u);t.subscribe(ge(r,(function(e){if(s){var t=j([e],T(i));r.next(n?n.apply(void 0,j([],T(t))):t)}})))}))}const ns=[2464596186,2110458188,2219567758,2310095743,2352725927,2367163422,2329756746,2479084926,2503566884,2388039350,2389787205,2508414148,2545171422,2554739477,2549146036,2556890118,2537569413,2551044396,2551197965,2513339405,2514167739,2570839382,2520533708,2768871481,2783847832,2843256635,2874872801,2877427432,2877429796,2877886512,2877887418,2877887466,2827762776,2826996473,2880357734,2880588673],rs=[4717667958,4717667961,4759464121,4776950082,4752801514,4776537586,4753453178,4777757277,4698947205,5120587423,5559498895,6008291945],os=e=>void 0===e.info||void 0===e.info.campaign||void 0===e.info.lineItem||!ns.includes(e.info.campaign)&&!rs.includes(e.info.lineItem)&&!(e=>{var t;if(!e.data)return!1;const n=null===(t=e.gptSlot)||void 0===t?void 0:t.getTargeting("_bn");return void 0!==n&&!(void 0===e.info||void 0===e.info.lineItem||![244592569].includes(e.info.lineItem)||!n.includes("Gumgum"))})(e),is=new pe;let as=!1;const ss=()=>as;let cs=!1;const us=e=>{cs=e},ls=e=>e?"yes":"no",ds={incremental:"no",refresh:"no",additional:"no"},ps=({name:e,lazyload:t})=>({incremental:ls(e.includes("incr")),refresh:"no",additional:ls(e.includes("incr")),lazyload:ls(t)}),fs=({lazyload:e})=>Object.assign(Object.assign({},ds),{lazyload:ls(e)});let hs,ms,vs,gs;hs=!0,ms=!1,gs=new Promise((e=>{vs=e}));let ys,bs,ws=!1;const _s=e=>{ys.userActiveRecently=e},xs=(e,t)=>{ys.ads[e]&&(ys.ads[e].inView=t)},Es=(e,t,n)=>{ys.slots[t]||(e=>{ys.slots[e]={adID:"",inView:!1}})(t),ys.slots[t]={adID:e,inView:n},ys.ads[e]&&(ys.ads[e].slotInView=n)},ks=()=>{ys.refreshToggledOff=ws,(ys.isSimpleRefresh||ys.userActiveRecently)&&ys.isRefreshFeatureEnabled&&!ys.isRoadblocked&&!0!==ys.refreshToggledOff&&Object.keys(ys.ads).forEach((e=>{const t=ys.ads[e];let n=!1;const r=ys.isFlyingCarpetAdsEnabled&&"slotify"===t.ad.data.mode,o=ys.isSimpleRefresh;r?!0===t.slotInView&&(n=!0):o?!0===t.visible&&(n=!0):!0===t.inView&&(n=!0),n&&(t.viewedTime+=1,t.ad.viewedTime=t.viewedTime),void 0!==t.ad.data.refresh&&!0===t.canRefresh&&t.viewedTime>=t.ad.data.refresh&&(bs(t.ad),delete ys.ads[e])}))},Ss=new pe,Os=e=>{var t;const n=(({name:e})=>({incremental:ls(e.includes("incr")),refresh:"yes",additional:"yes"}))(e.data);void 0!==e.data.dfp&&Object.assign(e.data.dfp.targeting,n),Ss.next(Wn([e],(null===(t=e.data.dfp)||void 0===t?void 0:t.targeting)||n))},Ts=nt("force_roadblock"),js={};let Is;const As=new Promise((e=>{Is=e})),Ps=()=>{if(null!==Ts)return void Is("true"===Ts);const e=[];let t=!0;if(Object.values(js).forEach((n=>{t="requested"!==n.status&&t,e.push(n.lineItem)})),0===e.length)return void Is(!1);const n=(r=e).every((e=>e===r[0]));var r;const o=(e=>e.every((e=>-1!==e)))(e);t&&Is(n&&o)};function Cs(e,t){return t?function(n){return aa(t.pipe(ai(1),ve((function(e,t){e.subscribe(ge(t,H))}))),n.pipe(Cs(e)))}:ki((function(t,n){return e(t,n).pipe(ai(1),oa(t))}))}function Ds(e,t,n,r,o){return function(i,a){var s=n,c=t,u=0;i.subscribe(ge(a,(function(t){var n=u++;c=s?e(c,t,n):(s=!0,t),r&&a.next(c)}),o&&function(){s&&a.next(c),a.complete()}))}}function Ls(e,t){return ve(Ds(e,t,arguments.length>=2,!0))}function Rs(e,t,n){return void 0===n&&(n=ae),function(r){Ns(t,(function(){for(var o=e.length,i=new Array(o),a=o,s=o,c=function(o){Ns(t,(function(){var c=Li(e[o],t),u=!1;c.subscribe(ge(r,(function(e){i[o]=e,u||(u=!0,s--),s||r.next(n(i.slice()))}),(function(){--a||r.complete()})))}),r)},u=0;u<o;u++)c(u)}),r)}}function Ns(e,t,n){e?Ei(n,e,t):t()}var Ms=Array.isArray;function zs(e){return 1===e.length&&Ms(e[0])?e[0]:e}function Us(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ji(e);return n?se(Us.apply(void 0,j([],T(e))),Yi(n)):ve((function(t,n){Rs(j([t],T(zs(e))))(n)}))}function $s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Us.apply(void 0,j([],T(e)))}function Bs(e){return e<=0?function(){return ii}:ve((function(t,n){var r=[];t.subscribe(ge(n,(function(t){r.push(t),e<r.length&&r.shift()}),(function(){var e,t;try{for(var o=O(r),i=o.next();!i.done;i=o.next()){var a=i.value;n.next(a)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}n.complete()}),void 0,(function(){r=null})))}))}function qs(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?be((function(t,n){return e(t,n,r)})):ae,Bs(1),n?si(t):ci((function(){return new oi})))}}function Zs(e){return ve((function(t,n){var r=!1,o=0;t.subscribe(ge(n,(function(t){return(r||(r=!e(t,o++)))&&n.next(t)})))}))}var Fs=new ue(H);let Vs,Hs,Ws,Gs;Vs=!0,Hs=!1,Gs=new Promise((e=>{Ws=e}));const Ks=(e,t)=>{Gt({category:"script",message:"Preemptive ads requested"}),ko.mark("Preemptive ads requested");const n=(e=>Object.keys(e).filter((t=>null!==e[t])))(e),r=((e,t)=>e.map((e=>t[e])).filter((e=>!e.data.lazyload)))(n,t).map((e=>{const t=fs({lazyload:e.data.lazyload||!1});return Object.assign(e.data.dfp.targeting,t),e}));return Vn(r,ds)};let Qs,Js,Ys,Xs;Qs=!0,Js=!1,Xs=new Promise((e=>{Ys=e}));const ec=(e,t)=>{if(!((e,t)=>t[e]&&"destroyed"===t[e].status)(e.id,t))return!1;const n=t[e.id],r=ps({name:n.data.name,lazyload:n.data.lazyload||!1});return Object.assign(n.data.dfp.targeting,r),Vn([n],r)},tc=new me(15),nc=e=>{if(void 0===e.dynamicConfig)return void je.error("Error in handle dynamic slot, config is undefined");const t=Array.from(Ra(e.dynamicConfig.root));var n;n=()=>{if(void 0===e.dynamicConfig)return void je.error("Error in handle dynamic slot callback, config is undefined");const t=e.name.replace(/[\s-]/g,""),n=Array.from(Ra(e.dynamicConfig.hook)).filter((e=>"true"!==e.dataset[t]));0!==n.length&&(n.forEach((e=>{e.dataset[t]="true"})),tc.next({type:"ADD_DYNAMIC_SLOTS",slotHookElements:n,slot:e}))},t.forEach((e=>{new MutationObserver(n).observe(e,{childList:!0}),n()}))};let rc=0;const oc="left",ic="right",ac=e=>`inline_${e}`;let sc=(e,t,n)=>(je.warn(`Placeholder match called. Data - ${e} ${t} ${n}`),{});const cc=e=>{const t={};return e.split(";").forEach((e=>{const n=e.split(":",2);n.length>1&&(t[n[0].trim().replace(/-([a-z])/gi,((e,t)=>t.toUpperCase()))]=n[1].trim())})),t},uc=/@media/g;sc=(e,t,n)=>t.match(uc)?n.matchMedia(t.slice(7)).matches?((e,t)=>Object.keys(e).reduce(((n,r)=>Object.assign(Object.assign({},n),sc(e,r,t))),{}))(e[t],n):{}:{[t]:e[t]};let lc=!1;const dc=()=>lc,pc=y(),fc=(e,t,n)=>{pc.requestAnimationFrame((()=>{Ia("Ads",n,400,{onChange(){},onBufferEnter(){e.next((e=>({source:"Actions",eventID:$n(),type:ur,id:e}))(t))},onBufferLeave(){e.next((e=>({source:"Actions",eventID:$n(),type:"buffer-viewport-leave",id:e}))(t))},onContentsEnter(){e.next((e=>({source:"Actions",eventID:$n(),type:lr,id:e}))(t))},onContentsLeave(){e.next((e=>({source:"Actions",eventID:$n(),type:dr,id:e}))(t))}})}))},hc=(e,t)=>{if(void 0===e.hook||null===e.hook)throw new Error("Error in add slot handler, slot hook is undefined");switch(e.position){case"before":if(null===e.hook.parentNode)throw new Error(`No parent node of hook for ${e.name}`);return void e.hook.parentNode.insertBefore(t,e.hook);case"after":if(null===e.hook.parentNode)throw new Error(`No parent node of hook for ${e.name}`);return void e.hook.parentNode.insertBefore(t,e.hook.nextSibling);case"prepend":return void e.hook.insertBefore(t,e.hook.firstElementChild);default:e.hook.appendChild(t)}},mc="font-size: 12px; width: 100%; height: 30px; text-align: center; line-height: 30px; z-index: 1; background-color: #EDEDED; position: relative;",vc=y(),gc=new Map,yc=e=>{const t=vc.document.createElement("div");return Object.assign(t.style,e),t},bc=(e,t)=>{const n="before"===t?document.createElement("a"):document.createElement("div");n.textContent="before"===t?"Skip advert":"";const r="before"===t?{class:"sr-only",href:`#skip-to-div-${e}`,style:"background: #2c2e32;\n    color: #fff;\n    height: 0;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n    transition-property: none;\n    width: 0;\n    z-index: 100000;"}:{id:`skip-to-div-${e}`,class:"sr-only"};return Object.keys(r).forEach((e=>n.setAttribute(e,r[e]))),n},wc=(e,t,n,r)=>new Promise((o=>{if(void 0===r.data.id)return je.error("Error in add slot handler, id is undefined"),void o();const i={display:"flex",flexDirection:"column",margin:"auto"};ss()&&Object.assign(i,{overflow:"hidden",clip:"rect(0,auto,auto,0)",clipPath:"polygon(0px 0px,100% 0px,100% 100%,0px 100%)"}),dc()&&Object.assign(i,{display:"block",clipPath:"inset(0)"});const a=yc(i);a.id=r.data.id,a.classList.add("bordeaux-slot");const s=Object.assign(Object.assign({},r.data),{element:a,onMount(o){return k(this,void 0,void 0,(function*(){return xa.mutate(((e,t,n,r,o,i)=>()=>{var a,s,c,u,l;if(void 0===n.data.id||void 0===e.id)throw new Error("Error in add slot on mount handler, slot or tile id is undefined");o.set(n.data.id,Object.assign(Object.assign({},o.get(n.data.id)),{tileID:e.id}));const d=!n.data.label||ha(n.data.label)?null:yc(cc((null===(a=n.data.label)||void 0===a?void 0:a.style)||mc));((e,t)=>{Object.assign(e.style,t)})(t,((e,t,n)=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.data.width?{width:`${e.data.width}px`}:{}),e.data.height?{height:`${e.data.height+parseInt(t,10)}px`}:{}),e.data.type===ac(oc)||e.data.type===ac(ic)?{float:e.data.type===ac(oc)?oc:ic}:{}),e.data.type===ac("left_right")?{float:n%2!=0?oc:ic}:{}),e.data.style?e.data.style:{}))(n,(null==d?void 0:d.style.height)||"0",(e=>{let t=0;return e&&(void 0!==gc.get(e)&&(t=(gc.get(e)||0)+1),gc.set(e,t)),t})(n.data.genericName)));const p=i.get(e.id),f=bc(n.data.id||"ad","before"),h=bc(n.data.id||"ad","after");if(void 0===p||void 0===p.element||null===p.element)throw new Error("Error in add slot on mount mutate handler, tile data is undefined");t.classList.add("bordeaux-filled-slot"),t.appendChild(p.element),t.insertBefore(f,t.firstChild),t.append(h),d&&(d.id=`${n.data.id}-label`,d.textContent=(null===(s=n.data.label)||void 0===s?void 0:s.text)||"Advertisement","above"===(null===(c=n.data.label)||void 0===c?void 0:c.position)&&t.insertBefore(d,t.firstChild),"below"===(null===(u=n.data.label)||void 0===u?void 0:u.position)&&(d.style.zIndex="0",t.style.justifyContent="space-between",null===(l=t.lastChild)||void 0===l||l.after(d))),fc(r,e.id,p.element)})(o,a,r,e,t,n)).then((()=>{e.next(sr(o))})).catch((e=>{e instanceof Error&&je.error(e.message)}))}))}});xa.mutate((()=>{hc(s,a),((e,t,n)=>{if(void 0===t.data.id)throw new Error("Error in add slot handler, id is undefined");n.set(t.data.id,e),(e=>{void 0!==e.id&&(Ua.has(e.id)||(e.additionalAvoidance&&(e=>{e.additionalAvoidance&&e.additionalAvoidance.forEach((e=>{const t=ua(e.hook);null!==t&&(e.coordinates=Va(t.getBoundingClientRect(),t.clientHeight),new MutationObserver((n=>{n.forEach((()=>{e.coordinates=Va(t.getBoundingClientRect(),t.clientHeight)}))})).observe(t,{attributes:!0,childList:!0,subtree:!0}))}))})(e),Ua.set(e.id,e),Ba&&Wa(e)))})(e)})(s,r,t)})).then((()=>{var t;e.next((t=s,{source:"Actions",eventID:$n(),type:nr,data:t})),o()})).catch((e=>{e instanceof Error&&je.error(e.message),o()}))})),_c=e=>"%"===e.slice(-1),xc=e=>"px"===e.slice(-2),Ec=(e,t)=>k(void 0,void 0,void 0,(function*(){const n=xc(t),r=_c(t);if(n)return Number(t.slice(0,-2)||0);if(r){const n=yield e.getWidth();return Math.round(Number(t.slice(0,-1))*n/100)}return 0})),kc=e=>{const t=new pe;return e.subscribe((({container:e,slot:n})=>k(void 0,void 0,void 0,(function*(){const r=yield((e,t)=>k(void 0,void 0,void 0,(function*(){var n;if(!e.generatedSlotsConfig)return je.error("Attempted to calculate the number of slots for a non-generative slot definition. This may be a configuration error."),{count:1};const{generatedSlotsConfig:r,generatedSpacerStyle:o,generatedContainerStyle:i}=e;if(r.minimumSlots===r.maximumSlots)return{count:r.maximumSlots};const a=((e,t)=>{let n=null;const r=()=>k(void 0,void 0,void 0,(function*(){return n||(n=yield xa.measure((()=>t.getBoundingClientRect()))),n}));return{getWidth:()=>k(void 0,void 0,void 0,(function*(){const{generatedContainerStyle:t}=e;return xc((null==t?void 0:t.width)||"")?Number(((null==t?void 0:t.width)||"").slice(0,-2)||0):(yield r()).width})),getHeight:()=>k(void 0,void 0,void 0,(function*(){return(yield r()).height})),getTop:()=>k(void 0,void 0,void 0,(function*(){return(yield r()).top}))}})(e,t),s=yield((e,t,n)=>k(void 0,void 0,void 0,(function*(){if(void 0!==n){const e=y();let r;try{r=document.querySelectorAll(n)}catch(e){je.error("Error executing end selector for generated slot.")}const[o,i]=yield Promise.all([t.getTop(),xa.measure((()=>({stop:[...r||[]].map((e=>e.getBoundingClientRect())),documentHeight:Math.max(e.document.body.clientHeight,e.document.body.scrollHeight,e.document.body.offsetHeight,e.document.documentElement.clientHeight,e.document.documentElement.scrollHeight,e.document.documentElement.offsetHeight)-e.scrollY})))]),a=i.stop.filter((e=>e.top>o)),s=Math.min(i.documentHeight,...a.map((e=>e.top)));return Math.max(0,s-o)}return xc(e.height||"")?Number((e.height||"").slice(0,-2)||0):t.getHeight()})))(i||{},a,r.endSelector),c=yield((e,t,n)=>k(void 0,void 0,void 0,(function*(){if(void 0!==n)return{top:0,bottom:n};const r=(e=>{const t=e.marginTop||e["margin-top"]||"",n=e.marginBottom||e["margin-bottom"]||"",r=(e.margin||"").split(/\s+/);return{top:t||r[0]||"",bottom:n||(r.length>2?r[2]:r[0])||""}})(e||{});return{top:yield Ec(t,r.top),bottom:yield Ec(t,r.bottom)}})))(o||{},a,r.slotGap),u=yield((e,t,n,r,o)=>k(void 0,void 0,void 0,(function*(){var i,a;if(void 0!==o)return o;if(xc(e.height||""))return Number((e.height||"").slice(0,-2)||0);if(_c(e.height||"")){const n=yield t.getHeight(),r=Number((e.height||"").slice(0,-1)||0);return Math.round(n*r/100)}return r?xc(n.height||"")?r+Number((null===(i=n.height)||void 0===i?void 0:i.slice(0,-2))||0):_c(n.height||"")?100*r/(100-Number((null===(a=n.height)||void 0===a?void 0:a.slice(0,-1))||0)):r:0})))(o||{},a,ha(e.label)?{}:cc((null===(n=e.label)||void 0===n?void 0:n.style)||mc),e.height,r.slotHeight);return null===s?(je.error("Attempted to calculate slot count for container with no height."),{count:1,margin:c,height:u}):{count:Math.min(r.maximumSlots||1/0,Math.max(r.minimumSlots||0,Math.floor((s-Math.min(c.top,c.bottom))/(u+Math.max(c.top,c.bottom))))),margin:c,height:u}})))(n,e),{count:o}=r,i=E(r,["count"]),a=Object.assign(Object.assign({},n),{generatedSpacerStyle:Object.assign(Object.assign(Object.assign({},n.generatedSpacerStyle),i.height?{height:`${i.height}px`}:{}),i.margin?{marginBottom:`${i.margin.bottom}px`,marginTop:`${i.margin.top}px`}:{})});Array(o).fill(0).forEach(((n,r)=>{t.next(((e,t,n)=>({source:"Bordeaux",eventID:$n(),type:br,slot:e,container:t,index:n}))(a,e,r))}))})))),t},Sc=(e,t,n)=>{const r=e=>e.length>0?Li(e):Fs,o=r(n.placement.adUnits.preemptive().map(or)),i=e.pipe(be((e=>e.type===ar)),di((e=>e)),(a=e=>e.data.id,ve((function(e,t){var n=new Set;e.subscribe(ge(t,(function(e){var r=a?a(e):e;n.has(r)||(n.add(r),t.next(e))})))}))),Qi((()=>r(n.placement.adUnits.incremental().map(or)))));var a;const s=((e,t)=>Li(e).pipe(Cs((()=>t)),di(((e,t)=>Object.assign(Object.assign({},e),{id:`bordeaux-static-slot-${t}`}))),di((e=>tr(e)))))(n.placement.slots.static,t),c=((e,t)=>(e.forEach(nc),tc.pipe(Cs((()=>t)),ki((({slotHookElements:e,slot:t})=>Li(e).pipe(di((e=>((e,t)=>{const n=Object.assign(Object.assign({},t),{name:`dynamic-slot-${rc}-${t.name}`,coordinates:{top:0,bottom:0,left:0,right:0},hook:e});return rc+=1,n})(e,t)))))),di(((e,t)=>Object.assign(Object.assign({},e),{id:`bordeaux-dynamic-slot-${t}`}))),di((e=>e.generatedSlotsConfig?_r(e):tr(e))))))(n.placement.slots.dynamic,t),u=((e,t)=>Li(e).pipe(Cs((()=>t)),di(((e,t)=>Object.assign(Object.assign({},e),{id:`bordeaux-generated-slot-${t}`}))),di((e=>_r(e)))))(n.placement.slots.generated,t);return{activePreemptive$:o,activeIncremental$:i,staticSlots$:s,dynamicSlots$:c,generatedSlots$:u}},Oc=(e,t,n)=>{e[t]||je.error(`${t} has no id inside state (${Object.keys(e).join(", ")}). Event: ${((e,t)=>{const n=[];return JSON.stringify(e,((e,t)=>{if(null!==t&&t instanceof Object){if(n.includes(t))return"--cyclic object--";n.push(t)}return t}),2)})(n)}`)},Tc={},jc=(e,t)=>{const n=new me(100),r=new pe,o=Wi(t.pipe(be((e=>e.type===Bn)),di((e=>e))),{connector:()=>new me(1),resetOnDisconnect:!1}),i=o.pipe(di((()=>({source:"Logic",eventID:$n(),type:qn}))));t.subscribe(da);const{activePreemptive$:a,activeIncremental$:s,staticSlots$:c,dynamicSlots$:u,generatedSlots$:l}=Sc(t,o,e),d=Ri(c,u,l),p=(e=>Ri(e.pipe(be((({type:e})=>e===gr))).pipe(di((({slot:e,container:t,index:n})=>tr(Object.assign(Object.assign({},e),{hook:t,name:`${e.name}-${n}`,id:`${e.id}-${n}`,type:"block",position:"append"}))))),kc(e.pipe(be((({type:e})=>e===yr))))))(t),f=function(e,t,n){const r=n.pipe(be((({type:e})=>e===ir))),o=n.pipe(be((({type:e})=>e===ar))),i=n.pipe(be((({type:e})=>e===Qn))),a=n.pipe(be((({type:e})=>e===nr))),s=n.pipe(be((({type:e})=>e===ur))),c=t.pipe(Cs((()=>Li(Gs))),Cs((()=>a)),be((e=>null!==e)),di(((e,t)=>({source:"Logic",eventID:e.eventID,type:e.type,data:Object.assign(Object.assign({},e.data),{id:`bordeaux-preemptive-ad-${t}`})}))),Gi()),u=Ri(c.pipe(be((e=>"slotify"===e.data.mode)),di((e=>t=>void 0===e.data.id?(je.error("Error in preemptive tile placeholder tile added, id is undefined"),t):Object.assign(Object.assign({},t),{[e.data.id]:void 0})))),r.pipe(di((e=>t=>void 0===e.data.id?(je.error("Error in preemptive tile mapped tile added, id is undefined"),t):void 0===t[e.data.id]?Object.assign(Object.assign({},t),{[e.data.id]:e.eventID}):t)))).pipe(Ls(((e,t)=>t(e)),{}),sa({}),$s(c.pipe(qs())),di((([e])=>e)),Zs((e=>Object.values(e).some((e=>void 0===e)))),li()).pipe(di((()=>({source:"Logic",type:Jn,eventID:$n()})))),l=i.pipe(li(),di((()=>({source:"Logic",type:Yn,eventID:$n()})))),d=Ri(c.pipe(di((e=>t=>void 0===e.data.id?(je.error("Error in preemptive tile placeholder mounted, id is undefined"),t):Object.assign(Object.assign({},t),{[e.data.id]:void 0})))),o.pipe(di((e=>t=>void 0===e.data.id?(je.error("Error in preemptive tile mapped mounted, id is undefined"),t):void 0===t[e.data.id]?Object.assign(Object.assign({},t),{[e.data.id]:e.eventID}):t)))).pipe(Ls(((e,t)=>t(e)),{}),sa({}),$s(c.pipe(qs())),di((([e])=>e)),Zs((e=>Object.values(e).some((e=>void 0===e)))),li()).pipe(ts(e,Ks)),p=ki((e=>void 0===e.data.id?(je.error("Error in preemptive tile matched mounted lazyload, id is undefined"),Fs):o.pipe(be((t=>t.data.id===e.data.id)),be((e=>void 0!==e.data.id)),di((e=>e.data.id))))),f=ki((e=>s.pipe(be((({id:t})=>e===t)),li(),oa(e)))),h=c.pipe(be((e=>void 0!==e.data.lazyload&&e.data.lazyload)),p,f,ts(e,((e,t)=>{const n=t[e],r=fs({lazyload:n.data.lazyload||!1});return Object.assign(n.data.dfp.targeting,r),Vn([n],ds)})));return Wi(Ri(c,u,l,d,h).pipe(be((e=>null!==e))))}(r,a,t),h=f.pipe(be((({type:e})=>e===Fn))),m=f.pipe(be((({type:e})=>e!==Fn))),v=function(e,t,n){if(!t)return Wi(ii);const r=n.pipe(be((({type:e})=>e===ar))),o=n.pipe(be((({type:e})=>e===ur))),i=t.pipe(Cs((()=>Li(Xs))),Cs((()=>Li(As))),ts(Li(As),((e,t)=>t?null:e)),be((e=>null!==e)),di((e=>e)),di(((e,t)=>({source:"Logic",eventID:e.eventID,type:e.type,data:Object.assign(Object.assign({},e.data),{id:`bordeaux-incremental-ad-${t}`})}))),Gi()),a=ki((e=>r.pipe(be((t=>t.data.id===e.data.id)),di((e=>e.data.id))))),s=ki((e=>o.pipe(be((({id:t})=>e===t)),li(),oa(e)))),c=i.pipe(be((e=>void 0!==e.data.lazyload&&e.data.lazyload)),a,s,ts(e,((e,t)=>{const n=t[e],r=ps({name:n.data.name,lazyload:n.data.lazyload||!1});return Object.assign(n.data.dfp.targeting,r),Vn([n],r)}))),u=i.pipe(be((e=>!e.data.lazyload)),a,ts(e,((e,t)=>t[e])),be((e=>void 0!==e)),di((e=>{const t=ps({name:e.data.name,lazyload:e.data.lazyload||!1});return Object.assign(e.data.dfp.targeting,t),Vn([e],t)})));return Wi(Ri(i,c,u).pipe(be((e=>null!==e))))}(r,s,t),g=((e,t,n,r)=>{var o;ys={isRoadblocked:!1,isRefreshFeatureEnabled:!1,isFlyingCarpetAdsEnabled:!1,isSimpleRefresh:!1,userActiveRecently:!1,ads:{},slots:{},refreshToggledOff:!1},r.then((e=>{return t=e,void(ys.isRoadblocked=t);var t})),gs.then((e=>{return t=e,void(ys.isRefreshFeatureEnabled=t);var t})),(e=>{ys.isFlyingCarpetAdsEnabled=e})(ss()),o=cs,ys.isSimpleRefresh=o;const i=y();let a=-1;return t.pipe(be((({type:e})=>e===vr))).subscribe((()=>{_s(!0),a&&i.clearTimeout(a),a=i.setTimeout((()=>{_s(!1)}),6e4)})),t.pipe(be((({type:e})=>e===Qn))).subscribe((e=>(e=>{let t=!1;Object.values(ys.slots).forEach((n=>{n.adID===e.id&&(t=n.inView)})),ys.ads[e.id]={ad:ys.ads[e.id]?ys.ads[e.id].ad:{data:{name:"",mode:"slotify",dfp:{targeting:{}},adUnitPath:""},status:"pending"},canRefresh:!!ys.ads[e.id]&&ys.ads[e.id].canRefresh,inView:!!ys.ads[e.id]&&ys.ads[e.id].inView,slotInView:t,visible:!!ys.ads[e.id]&&ys.ads[e.id].visible,viewedTime:0}})(e))),e.subscribe((e=>{Object.values(e).forEach((e=>(e=>{void 0!==e.data.id&&e.data.id in ys.ads&&(ys.ads[e.data.id].ad=e,ys.ads[e.data.id].canRefresh=os(e),ys.ads[e.data.id].visible=e.visible||!1)})(e)))})),t.pipe(be((({type:e})=>e===pr))).subscribe((e=>{xs(e.id,!0)})),t.pipe(be((({type:e})=>e===fr))).subscribe((e=>{xs(e.id,!1)})),n.subscribe((e=>{if(void 0!==e.tileId)switch(e.type){case"slot-viewport-enter":Es(e.tileId,e.id,!0);break;case"slot-viewport-leave":Es(e.tileId,e.id,!1)}})),bs=Os,i.setInterval(ks,1e3),Ss})(r,t,qa,As),b=((e,t)=>Wi(t.pipe(be((e=>null!=e)),be((({payload:{type:e}})=>e===Gn)),es(1e3),ts(e),di((([e,t])=>(({payload:{adUnits:e,inView:t}},n)=>{const r=Object.values(n).filter((e=>(e=>{const t="pending"!==e.status&&"mounted"!==e.status&&"configured"!==e.status,n="oop"===e.data.mode,r="sponsored-post"===e.data.category,{refreshDisabled:o}=e.data;let i=!0;return e.info&&(i=os(e)),t&&!o&&!n&&!r&&i})(e))),o=r.filter((({data:t})=>((e,t)=>0===t.length||-1!==t.indexOf(e))(t.name,e))),i=o.filter((e=>(e=>{const t="viewed"===e.status&&e.visible,n="anchored"===e.data.mode,r="skyscraper"===e.data.mode,o="oop"===e.data.mode;return t||n||r||o})(e)));return t?i:o})(e,t))),be((e=>e.length>0)),di((e=>Wn(e))))))(r,is),w=t.pipe(be((({type:e})=>e===Qn)),di((e=>e)),di((e=>((e,t)=>({source:"Logic",eventID:$n(),type:Xn,id:e,name:t}))(e.id,e.name)))),_=((e,t)=>e.pipe(be((({type:e})=>e===ur)),di((e=>e)),ts(t,ec),be(Boolean)))(t,r),x=((e,t,n)=>{const r=(e=>e.pipe(be((({type:e})=>e===rr)),di((e=>e)),di((e=>t=>{if(void 0===e.data.id)return je.error("Error in ad-sate create, id is undefined"),t;t[e.data.id]&&je.error(`Adverts cannot share an ID: new advert ${e.data.name}(${e.data.id}) vs ${t[e.data.id].data.name}(${t[e.data.id].data.id})`);const n=Object.assign(Object.assign({},e),{status:"pending",eventID:e.eventID});return Object.assign(Object.assign({},t),{[e.data.id]:n})}))))(Ri(e,t)),o=(e=>e.pipe(be((({type:e})=>e===cr)),di((e=>e)),di((e=>t=>{const n=Object.assign(Object.assign({},t[e.id]),{status:"configured",eventID:e.eventID});return Object.assign(Object.assign({},t),{[e.id]:n})}))))(n),i=(e=>e.pipe(be((({type:e})=>e===Qn)),di((e=>e)),di((e=>t=>{const n=Object.assign(Object.assign({},t[e.id]),{gptSlot:e.gptSlot,info:e.info,status:"loaded",width:e.width,height:e.height,eventID:e.eventID});return Object.assign(Object.assign({},t),{[e.id]:n})}))))(n),a=(e=>e.pipe(be((({type:e})=>e===Kn)),di((e=>e)),di((e=>t=>{const n=Object.assign(Object.assign({},t[e.id]),{status:"undelivered",eventID:e.eventID});return Object.assign(Object.assign({},t),{[e.id]:n})}))))(n),s=(e=>e.pipe(be((({type:e})=>e===Zn)),di((e=>e)),di((e=>t=>{if(void 0===e.id)return t;Oc(t,e.id,e);const n=Object.assign(Object.assign({},t[e.id]),{status:"destroyed",eventID:e.eventID,timeViewed:0});return Object.assign(Object.assign({},t),{[e.id]:n})}))))(n),c=(e=>e.pipe(be((({type:e})=>e===ar)),di((e=>e)),di((e=>t=>{if(void 0===e.data.id)return t;Oc(t,e.data.id,e);const n=Object.assign(Object.assign({},t[e.data.id]),{status:"mounted",eventID:e.eventID});return Object.assign(Object.assign({},t),{[e.data.id]:n})}))))(n),u=(e=>e.pipe(be((({type:e})=>e===mr)),di((e=>e)),di((e=>t=>{const n=Object.assign(Object.assign({},t[e.id]),{status:"viewed",timeViewed:e.timeViewed,eventID:e.eventID});return Object.assign(Object.assign({},t),{[e.id]:n})}))))(n),l=(e=>e.pipe(be((({type:e})=>e===lr)),di((e=>e)),di((e=>t=>{const n=Object.assign(Object.assign({},t[e.id]),{visible:!0,eventID:e.eventID});return Object.assign(Object.assign({},t),{[e.id]:n})}))))(n),d=(e=>e.pipe(be((({type:e})=>e===dr)),di((e=>e)),di((e=>t=>{const n=Object.assign(Object.assign({},t[e.id]),{visible:!1,eventID:e.eventID});return Object.assign(Object.assign({},t),{[e.id]:n})}))))(n);return Wi(Ri(r,c,i,a,o,u,l,d,s).pipe(Ls(((e,t)=>t(e)),{}),(m=P(p=e=>{Object.assign(Tc,e)})?{next:p,error:f,complete:h}:p)?ve((function(e,t){var n;null===(n=m.subscribe)||void 0===n||n.call(m);var r=!0;e.subscribe(ge(t,(function(e){var n;null===(n=m.next)||void 0===n||n.call(m,e),t.next(e)}),(function(){var e;r=!1,null===(e=m.complete)||void 0===e||e.call(m),t.complete()}),(function(e){var n;r=!1,null===(n=m.error)||void 0===n||n.call(m,e),t.error(e)}),(function(){var e,t;r&&(null===(e=m.unsubscribe)||void 0===e||e.call(m)),null===(t=m.finalize)||void 0===t||t.call(m)})))})):ae),{connector:()=>new me(1),resetOnDisconnect:!1});var p,f,h,m})(f,v,t);x.subscribe(r);const E=Ri(i,d,p,h,m,v,_,w,g,b);var k;return k=t,E.pipe(be((({type:e})=>e===rr))).subscribe((e=>{!0===e.data.inRoadblock&&(js[e.data.name]={status:"requested",lineItem:-1})})),k.pipe(be((({type:e})=>e===Qn))).subscribe((e=>{js[e.name]&&(js[e.name].status="delivered",js[e.name].lineItem=e.info.lineItem||-1),Ps()})),k.pipe(be((({type:e})=>e===Kn))).subscribe((e=>{js[e.name]&&(js[e.name].status="undelivered"),Ps()})),x.connect(),f.connect(),v.connect(),b.connect(),o.connect(),E.subscribe((e=>{n.next(e)})),n};function Ic(e){const t=y(),{top:n}=t;let r=t;do{try{if(e in r)break}catch(e){}r=r.parent}while(r&&r!==n);return Boolean(r)&&e in r?r[e]:null}const Ac=()=>k(void 0,void 0,void 0,(function*(){const e=new Promise(((e,t)=>{const n=Ic("__tcfapi");null!==n?e(n):t(new Error("__tcfapi API does not exist in window frames"))})),t=new Promise(((e,t)=>{y().setTimeout((()=>t(new Error("Timeout retrieving __tcfapi API after 5000ms"))),5e3)}));return Promise.race([e,t]).catch((e=>(je.error(e),(e,t,n)=>{const r={cmpId:10,cmpVersion:23,gdprApplies:!0,tcfPolicyVersion:t,eventStatus:"tcloaded",cmpStatus:"loaded",tcString:"",isServiceSpecific:!0,useNonStandardStacks:!1,purposeOneTreatment:!1,publisherCC:"GB",outOfBand:{allowedVendors:{},disclosedVendors:{}},purpose:{consents:{},legitimateInterests:{}},vendor:{consents:{},legitimateInterests:{}},specialFeatureOptins:{},publisher:{consents:{},legitimateInterests:{},customPurpose:{consents:{},legitimateInterests:{}},restrictions:{}}},o={cmpId:10,cmpVersion:23,apiVersion:"23",gdprApplies:!0,tcfPolicyVersion:t,cmpLoaded:!0,cmpStatus:"loaded",displayStatus:"hidden"};switch(e){case"getTCData":case"addEventListener":n(r,!0);break;case"ping":n(o);break;case"removeEventListener":n(!0);break;case"displayConsentUi":n();break;default:je.error(`Unknown command for mocked __tcfapi: ${e}`)}})))}));var Pc;if(!pt("usprivacy")){const e=y();ft("usprivacy","1YNN",31536e3,null===(Pc=e.window.top)||void 0===Pc?void 0:Pc.location.host)}const Cc=()=>k(void 0,void 0,void 0,(function*(){const e=yield k(void 0,void 0,void 0,(function*(){let e;const t=new Promise((t=>{const n=y();e=n.setInterval((()=>{Ac().then((r=>{r("ping",2,(r=>{"stub"===r.cmpStatus&&Qo("cmp_pending",1,"CmpPending"),"loaded"===r.cmpStatus&&(Qo("cmp_loaded",1,"CmpLoaded"),n.clearInterval(e),t(!0))}))})).catch((r=>{je.error(`Error retrieving GDPR loaded. ${r.message}`),n.clearInterval(e),t(!1)}))}),50)}));return t}));let t=null;return e&&(t=yield new Promise(((e,t)=>{Ac().then((n=>{n("addEventListener",2,((n,r)=>{r||t(new Error("Failed to get GDPR consent data, __tcfapi addEventListener request failed")),"tcloaded"!==n.eventStatus&&"useractioncomplete"!==n.eventStatus||e(n)}))}))})).catch((e=>(je.error(`Error retrieving GDPR consent. ${e.message}`),null)))),null===t?{askedForConsent:!1,consent:null}:{askedForConsent:!0,consent:t}})),Dc=()=>k(void 0,void 0,void 0,(function*(){const e=yield new Promise(((e,t)=>{k(void 0,void 0,void 0,(function*(){const e=new Promise(((e,t)=>{const n=Ic("__uspapi");null!==n?e(n):t(new Error("__uspapi API does not exist in window frames"))})),t=new Promise(((e,t)=>{y().setTimeout((()=>t(new Error("Timeout retrieving __uspapi API after 5000ms"))),5e3)}));return Promise.race([e,t]).catch((e=>(je.error(e),(e,t,n)=>{"getUSPData"===e&&n({version:t,uspString:"1---"},!0)})))})).then((n=>{n("getUSPData",1,((n,r)=>{n&&r&&Object.keys(n).includes("uspString")?e(n):t(new Error("Failed to get USP consent data, __uspapi getUSPData request failed"))}))}))})).catch((e=>(je.error(`Error retrieving USP consent. ${e.message}`),null)));return null===e?{askedForConsent:!1,consent:null,ccpaApplies:!1}:e.uspString.includes("1---")?{askedForConsent:!0,consent:null,ccpaApplies:!1}:{askedForConsent:!0,consent:e,ccpaApplies:!0}})),Lc=e=>k(void 0,void 0,void 0,(function*(){const t=yield Cc();if(null===t.consent)return!1;const{gdprApplies:n,vendor:r}=t.consent,o=void 0!==e&&r&&r.consents&&r.consents[e];return!n||o})),Rc="function"==typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,r=arguments.length;n<r;){var o=arguments[n];if(null!=o)for(var i in o)Ve(i,o)&&(t[i]=o[i]);n+=1}return t},Nc=Ue((function(e){return Rc.apply(null,[{}].concat(e))})),Mc=e=>t=>t.indexOf(e)>-1?t.substr(0,t.indexOf(e)):t,zc=Mc("@"),Uc=Mc("%40");function $c(e){return(e=>Uc(zc(e)))(e).replace(/[#",*()=+<>\[\]]/g,(e=>`%${e.charCodeAt(0).toString(16)}`))}const Bc=/(&(.*?)=)/g,qc=e=>e.substring(1,e.length-1),Zc=(e,t)=>{var n;return(n=Bc,t.match(n)||[]).map(qc).reduce(((e,n)=>{const r=tt(n,t);return r?Object.assign(Object.assign({},e),{[n]:r}):e}),e)},Fc=y(),Vc=dt(),Hc={},Wc=new me,Gc=(e={})=>{Object.assign(Hc,e),Wc.next({})};function Kc(e){if(void 0===e)throw new Error("Width should not be undefined");const t={small:{min:0,max:1279},large:{min:1280,max:12e3}};let n="small";return Object.keys(t).forEach((r=>{e>=t[r].min&&e<=t[r].max&&(n=r)})),n}function Qc(){return k(this,void 0,void 0,(function*(){const e=yield _t(),t=Object.assign(Object.assign({site:Vc.site,url:Fc.location.href,test:Math.random()>=.5?"A":"B",screen:Kc(Fc.screen.width)},e?{h_id:e}:{}),Boolean(Fc.localStorage&&Fc.localStorage.getItem("adblock"))?{adblock:"disabled"}:{}),n=Nc([t,Hc]),r=ot?Zc(n,Fc.location.href):n;return Object.keys(r).forEach((e=>{var t;r[e]="string"==typeof(t=r[e])?$c(t):Array.isArray(t)?t.map($c):t})),r}))}let Jc;const Yc=e=>Object.assign({name:"AdServer",scriptLocation:""},e),Xc=e=>k(void 0,void 0,void 0,(function*(){return Jc=e,e.enabled?Yc({enabled:!0,success:!0}):Yc({enabled:!1,success:!1})}));class eu extends Error{}const tu=5e3,nu="Took too long to resolve and timed out. Threshold exceeded",ru=y(),ou="https://c.amazon-adsystem.com/aax2/apstag.js",iu={pubID:"3032",adServer:"googletag",deals:!0};let au;const su=e=>Object.assign({name:"Amazon",scriptLocation:ou,config:Object.assign({IABVendorId:"793"},iu)},e),cu="https://d4el4parm0zb3.cloudfront.net/script.js";let uu;const lu=e=>Object.assign({name:"clean.io",scriptLocation:cu},e),du=y(),pu="https://securepubads.g.doubleclick.net/tag/js/gpt.js",fu=e=>Object.assign({name:"GPT",scriptLocation:pu},e),hu=y(),mu="https://cdn.adsafeprotected.com/iasPET.1.js",vu="923193";let gu;const yu=e=>Object.assign({name:"IAS",scriptLocation:mu,config:{pubId:vu}},e),bu=y();let wu,_u;const xu=e=>Object.assign({name:"Index_Exchange",scriptLocation:wu,config:{IABVendorId:"10",id:_u.id,mode:_u.mode}},e),Eu=e=>new Promise(((t,n)=>{var r;bu.googletag=bu.googletag||{cmd:[]},bu.googletag.cmd=(null===(r=bu.googletag)||void 0===r?void 0:r.cmd)||[],wu=`https://js-sec.indexww.com/ht/p/184056-${e.id}.js`;const o=bu.document.createElement("script");o.id="index-exchange-script",o.src=wu,o.async=!0,o.onload=()=>t("success"),o.onerror=e=>n(e),bu.document.body.appendChild(o)})),ku=y();let Su,Ou;const Tu=e=>Object.assign({name:"LiveRamp",scriptLocation:Su,config:{IABVendorId:"97"}},e);let ju;const Iu=()=>{const e=y();if(Au.enabled&&e.PWT)return e.PWT.getUserIds()};let Au;const Pu=e=>Object.assign({name:"Pubmatic",scriptLocation:ju,config:Object.assign({IABVendorId:"76",pubId:"156007"},Au)},e),Cu=e=>new Promise(((t,n)=>{const r=y(),o=r.location.href;let i="";if(o.indexOf("pwtv=")>0){const e=/pwtv=(.*?)(&|$)/g.exec(o);e&&e.length>=2&&e[1].length>0&&(i=`/${e[1]}`)}ju=`https://ads.pubmatic.com/AdServer/js/pwt/156007/${e.profileId}${i}/pwt.js`;const a=r.document.createElement("script");a.id="bordeaux-pubmatic",a.type="text/javascript",a.src=ju,a.async=!0,a.onload=()=>t("success"),a.onerror=e=>n(e),r.document.body.appendChild(a)}));let Du;const Lu=new Promise((e=>{Du=e})),Ru={adServer:{enabled:!1},amazon:{enabled:!1},amClio:{enabled:!1},ias:{enabled:!1},indexExchange:{enabled:!1,id:"",mode:"standard"},liveRamp:{enabled:!1,configurationId:""},pubmatic:{enabled:!1,profileId:""}};function Nu(e,t){return function(e,t,n){var r,o;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(o=e[n])&&1/o===r)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(o=e[n])&&o!=o)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if(jn(e[n],t))return n;n+=1}return-1}(t,e,0)>=0}const Mu=Fe(Nu),zu=()=>{const e=e=>e<=9?`0${e}`:`${e}`,t=new Date;return`${t.getFullYear()}-${e(t.getMonth()+1)}-${e(t.getDate())} ${e(t.getHours())}:${e(t.getMinutes())}:${e(t.getSeconds())}`};class Uu{constructor(){this.placement=null,this.refreshMode=null,this.location=null,this.pageTitle=null,this.personalizedAdsMode="allowed",this.gdprConsent=null,this.uspConsent=null,this.targeting=[],this.discovery=null,this.adunits=[],this.pageTemplate=null,this.segments=null}setPlacement(e){return this.placement=e,this}setRefreshMode(e=!1){return this.refreshMode=e,this}setLocation(e){return this.location=e,this}setPageTitle(e){return this.pageTitle=e,this}setPersonalizedAdsMode(e){return["allowed","managed","blocked"].includes(e)&&(this.personalizedAdsMode=e),this}setGdprConsent(e){return this.gdprConsent=e,this}setUSPConsent(e){return this.uspConsent=e,this}setTargeting(e){return this.targeting=e,this}setDiscovery(e){return this.discovery=e,this}setAdunits(e){return this.adunits=e,this}setPageTemplate(e){return this.pageTemplate=e,this}setSegments(e){return this.segments=e,this}execute(){return k(this,void 0,void 0,(function*(){const e=[["r",Math.round(1e3*Math.random())],["o",JSON.stringify(this.getState())],["uuid",mt()]];null!=this.discovery&&e.push(["discovery",this.discovery]);const t=`https://ads.servebom.com/ramp?${e.map((e=>e.join("="))).join("&")}`;return Promise.race([fetch(t,{credentials:"include"}).then((e=>{try{return e.json()}catch(e){return je.warn(`AdServer /ramp request error prasing JSON response: ${e}`),Promise.reject(e)}})).catch((e=>(je.warn(`AdServer /ramp request error: ${e}`),Promise.reject(e)))),new Promise(((e,t)=>{setTimeout((()=>t(new eu("Took more than 5000ms to resolve and timed out"))),5e3)}))])}))}getState(){return{f:this.refreshMode?1:"",p:this.placement,l:this.location,rf:encodeURIComponent(yt()),tt:(e=this.pageTitle,e?e.replace(/[^a-z0-9+]+/gi," "):null),fs:0,t:zu(),tz:(new Date).getTimezoneOffset(),r:gt(),pam:this.personalizedAdsMode,gdprConsent:this.gdprConsent,ccpa:this.uspConsent,g:this.targeting,a:this.adunits,ex:[],identities:Iu(),tpl:this.pageTemplate,seg:this.segments};var e}}const $u=y();let Bu;const qu=()=>Bu,Zu=y(),Fu=new Map,Vu=[[5,5],[15,3]],Hu=(e,t)=>{let n=[];if("oop"===t.data.mode?n=[[1,1]]:t.data.dfp.sizes&&(n=t.data.dfp.sizes.reduce(((e,t)=>Mu(t,Vu)?e:[...e,t]),[])),!n.length)return e;if(void 0===t.data.id)return je.error("Error fetching AdServer bids, id is undefined"),e;const r={s:t.data.adUnitPath,z:n,d:t.data.id};return e.concat([r])};Zu.tmntag_triggerEvent=function(e,t={}){let n=Object.entries(t).filter((([,e])=>"string"!=typeof e||0!==e.indexOf("$"))).map((([e,t])=>`${e}=${t}`)).join("&");n=`t=${e}&r=${Math.floor(11e3*Math.random())}&${n}`,"CP"===e&&t&&t.ts&&-1===t.ts.indexOf("$")&&(n+="&tm_alt="+(Date.now()-Number(t.ts)));const r=ht.document.createElement("script");r.src=`//ads2.servebom.com/event.js?${n}`;const o=ht.document.getElementsByTagName("script")[0];o&&o.parentNode&&o.parentNode.insertBefore(r,o)},Zu.tmntag_render=(e,t)=>{const n=Fu.get(t);if(!n)return;if(!n.adm)return;const r=n.adm.replace(/'\r\n|\r|\n/gm,""),o=n.size?n.size.w:1,i=n.size?n.size.h:1,a={ad:r,bidder:`purch_${n.bidder.name}`,size:`${o}x${i}`,cpm:n.price};e.write(a.ad),e.close();const s=Zu.googletag&&Zu.googletag.pubads().getSlots().find((e=>e&&n.divid===e.getSlotElementId()));s&&s.setTargeting("_bd","none"),Fu.delete(t),((e,{width:t,height:n})=>{if(e.defaultView&&e.defaultView.frameElement){const r=`${t}px`,o=`${n}px`;xa.mutate((function(){if(!e.defaultView)return;const{frameElement:t}=e.defaultView;t.width=r,t.height=o,window.self&&window.top!==window.self&&window.self.frameElement&&(window.self.frameElement.width=r,window.self.frameElement.height=o)}))}})(e,{width:o,height:i})};const Wu=y(),Gu=[[970,250],[970,90],[728,90],[336,280],[320,100],[320,50],[300,600],[300,250],[300,50],[160,600],[120,600]],Ku=(e,t)=>{if("oop"===t.data.mode)return e;if("interstitial"===t.data.mode)return e;if(void 0===t.data.id)return je.error("Error fetching Amazon bids, id is undefined"),e;if(void 0===t.data.dfp||void 0===t.data.dfp.sizes){const n=t.data.name?`Tile name: ${t.data.name}`:"";return je.error(`Error fetching Amazon bids, DFP or DFP sizes are undefined ${n}`),e}const{sizes:n}=t.data.dfp,r=n.filter((e=>{let t=!1;return Gu.forEach((n=>{e[0]===n[0]&&e[1]===n[1]&&(t=!0)})),t}));return 0===r.length?e:e.concat([{slotID:t.data.id,slotName:t.data.adUnitPath,sizes:r}])},Qu=y(),Ju=[1,1],Yu=y(),Xu=(e,t)=>k(void 0,void 0,void 0,(function*(){var n,r,o,i,a,s,c,u,l,d;const p=yield k(void 0,void 0,void 0,(function*(){const e={};return(yield Lu).forEach((t=>{e[t.name]=t})),e})),f=_u,h=(null===(n=p.Index_Exchange)||void 0===n?void 0:n.enabled)&&(null===(r=p.Index_Exchange)||void 0===r?void 0:r.success)&&"standard"===f.mode?3e3:1500,m=[];return(null===(o=p.AdServer)||void 0===o?void 0:o.enabled)&&(null===(i=p.AdServer)||void 0===i?void 0:i.success)&&m.push(((e,t,n)=>{Gt({category:"script",message:"AdServer requested"});const r=ko.mark("AdServer requested"),o=Qo("hybrid",n,"PartnerRequest");let i;const a=new Promise((e=>{i=e}));return setTimeout((()=>{null!==i&&(i("Timeout"),i=null,Gt({category:"script",message:"AdServer timeout"}),ko.mark("AdServer timeout",r),o(null,"REQUEST_STATUS_TIMEOUT"))}),t),((e,t)=>{k(void 0,void 0,void 0,(function*(){var n;const[{consent:r},{consent:o}]=yield Promise.all([Cc(),Dc()]),i=yield new Promise((e=>{try{e(JSON.parse($u.localStorage._pdfps||"[]").slice(0,100))}catch(t){e(null)}})),a=!r||r.gdprApplies,s=(null==r?void 0:r.tcString)||null,c=(null==o?void 0:o.uspString)||null,u=e.reduce(Hu,[]);0!==u.length?(new Uu).setLocation(encodeURIComponent(Zu.location.toString().replace("%",""))).setPageTitle(encodeURIComponent(document.title)).setPersonalizedAdsMode(a?"managed":"allowed").setGdprConsent(s).setUSPConsent(c).setAdunits(u).setPageTemplate(null!==(n=qu())&&void 0!==n?n:null).setSegments(i?i.toString():"").execute().then((e=>{!function(e){if(!e)return;const t=Zu.googletag&&Zu.googletag.pubads().getSlots();t&&t.forEach((t=>{const n=t.getSlotElementId(),r=e.find((e=>e.divid===n));r&&"1"!==r.bidder.bdrid&&(t.setTargeting("adunit",r.divid),t.setTargeting("_bd","bid"),t.setTargeting("_cp",r.price),t.setTargeting("_pl",r.price_level),t.setTargeting("_br",r.bidder.reportid),t.setTargeting("_wb",r.id),t.setTargeting("_sz",r.size_code),t.setTargeting("_bn",r.bidder.name),t.setTargeting("_bi",r.bidder.bdrid),r.dealid&&t.setTargeting("_pdid",r.dealid),Fu.set(n,r))}))}(e.bids),(e=>{const{googletag:t}=Zu;e&&t&&(Object.entries(e).forEach((([e,n])=>{t.pubads().setTargeting(e,n.toString())})),t.pubads().setTargeting("_chnl","WEB"))})(e.targeting)})).catch((e=>{je.error(`Error parsing AdServer bids and targeting: ${e}`)})).finally((()=>{t()})):t()}))})(e,(()=>{null!==i&&(i("Complete"),i=null,Gt({category:"script",message:"AdServer response"}),ko.mark("AdServer response",r),o())})),a})(e,h,t)),(null===(a=p.Amazon)||void 0===a?void 0:a.enabled)&&(null===(s=p.Amazon)||void 0===s?void 0:s.success)&&m.push(((e,t,n)=>{const{apstag:r}=Wu;if(!r)return Promise.resolve("Error");Gt({category:"script",message:"Amazon requested"});const o=ko.mark("Amazon requested"),i=Qo("amazon",n,"PartnerRequest"),a={slots:e.reduce(Ku,[])};if(0===a.slots.length)return Promise.resolve("No slots to bid on");let s;const c=new Promise((e=>{s=e}));return setTimeout((()=>{null!==s&&(s("Timeout"),s=null,Gt({category:"script",message:"Amazon timeout"}),ko.mark("Amazon timeout",o),i(null,"REQUEST_STATUS_TIMEOUT"))}),t),r.fetchBids(a,(()=>{r.setDisplayBids(),null!==s&&(s("Complete"),s=null,Gt({category:"script",message:"Amazon response"}),ko.mark("Amazon response",o),i())})),c})(e,h,t)),(null===(c=p.IAS)||void 0===c?void 0:c.enabled)&&(null===(u=p.IAS)||void 0===u?void 0:u.success)&&m.push(((e,t,n)=>{const{__iasPET:r}=Qu;if(!r)return Promise.resolve("Error");Gt({category:"script",message:"IAS requested"});const o=ko.mark("IAS requested"),i=Qo("ias",n,"PartnerRequest"),a=[];let s;e.forEach((e=>{if(void 0===e.data.id)return void je.error("Error fetching IAS bids, id is undefined");if(void 0===e.data.dfp)return void je.error("Error fetching IAS bids, DFP is undefined");const t=e.data.dfp.sizes?e.data.dfp.sizes.filter((e=>"string"!=typeof e&&e.length>1)):[Ju];a.push({adSlotId:e.data.id,size:t,adUnitPath:e.data.adUnitPath})}));const c=new Promise((e=>{s=e})),u=setTimeout((()=>{null!==s&&(s("Timeout"),s=null,Gt({category:"script",message:"IAS timeout"}),ko.mark("IAS timeout",o),i(null,"REQUEST_STATUS_TIMEOUT"))}),t);return r.queue.push({adSlots:a,dataHandler:()=>{clearTimeout(u),r.setTargetingForGPT(),null!==s&&(s("Complete"),s=null,Gt({category:"script",message:"IAS response"}),ko.mark("IAS response",o),i())}}),c})(e,h,t)),(null===(l=p.Index_Exchange)||void 0===l?void 0:l.enabled)&&(null===(d=p.Index_Exchange)||void 0===d?void 0:d.success)&&"custom"===f.mode&&m.push(((e,t)=>{var n;const{headertag:r,googletag:o}=Yu;if(!r||!o)return Promise.resolve("Error, missing headertag or googletag");r.cmd=null!==(n=r.cmd)&&void 0!==n?n:[],Gt({category:"script",message:"Index Exchange requested"});const i=ko.mark("Index Exchange requested"),a=Qo("index_exchange",t,"PartnerRequest");let s;const c=new Promise((e=>{s=e})),u=o.pubads().getSlots().map((e=>({slot:e})));return setTimeout((()=>{null!==s&&(s("Timeout"),s=null,Gt({category:"script",message:"Index Exchange timeout"}),ko.mark("Index Exchange timeout",i),a(null,"REQUEST_STATUS_TIMEOUT"))}),e),r.cmd.push((()=>{r.retrieveAndSetDemand(u,(()=>{null!==s&&(s("Complete"),s=null,Gt({category:"script",message:"Index Exchange response"}),ko.mark("Index Exchange response",i),a())}),{timeout:e})})),c})(h,t)),Promise.all(m)})),el=new Map,tl=new Map,nl=y();let rl=0;const ol=e=>{const t=tl.get(e.slot);t&&t.slotVisibilityChanged&&t.slotVisibilityChanged(e.inViewPercentage)},il=e=>{const t=tl.get(e.slot);t&&t.slotRenderEnded&&(Gt({category:"advert",message:"Ad slotRenderEnded"}),ko.mark("Ad slotRenderEnded"),t.slotRenderEnded(e))},al=e=>{Gt({category:"advert",message:"Ad slotOnLoad"}),ko.mark("Ad slotOnLoad");const t=tl.get(e.slot);t&&t.slotOnload&&t.slotOnload()},sl=e=>{const t=tl.get(e.slot);t&&t.impressionViewable&&t.impressionViewable()};function cl(e,t){return k(this,void 0,void 0,(function*(){const{googletag:n}=nl;return n?(e.forEach((e=>{const r=el.get(e);void 0!==r&&(n.destroySlots([r]),t.next((e=>({source:"Actions",eventID:$n(),type:Zn,id:e}))(e)))})),Promise.resolve()):(je.error("googletag is unavailable, unable to destroy."),Promise.resolve())}))}const ul=(e,t)=>()=>{void 0!==e.data.id?t(e.data.id):je.error("Error handling GPT impression viewed, id is undefined.")},ll=(e,t,n)=>()=>{if(void 0===e.data.id)return void je.error("Error handling GPT slot loaded, id is undefined.");const r=el.get(e.data.id);void 0!==r?(t.next(((e,t,n)=>({source:"Actions",type:"creative-loaded",eventID:$n(),gptSlot:n,name:t,id:e}))(e.data.id,e.data.name,r)),n()):je.error("Error handling GPT slot loaded, GPT slot is undefined.")},dl=(e,t,n)=>r=>{var o;if(void 0!==e.data.id)if(r.isEmpty){const t=el.get(e.data.id);if(void 0===t)return void je.error("Error handling GPT slot render ended (undelivered), GPT slot is undefined.");n.next(((e,t,n)=>({source:"Actions",eventID:$n(),type:Kn,id:e,name:t,gptSlot:n}))(e.data.id,e.data.name,t))}else{const i=el.get(e.data.id);if(void 0===i)return void je.error("Error handling GPT slot render ended (loaded), GPT slot is undefined.");const a={isEmpty:r.isEmpty,size:r.size,advertiser:r.advertiserId,campaign:r.campaignId,lineItem:r.lineItemId,creative:r.creativeId,creativeTemplate:"",loadTime:nl.performance.now()-t,gptSlot:i};n.next((o={gptSlot:i,width:r.size[0],height:r.size[1],name:e.data.name,id:e.data.id,info:a},Object.assign(Object.assign({},o),{source:"Actions",eventID:$n(),type:Qn})))}else je.error("Error handling GPT slot render ended, id is undefined.")},pl=(e,t)=>n=>{t(e,n)};function fl(e,t,n,r){return k(this,void 0,void 0,(function*(){const{googletag:o}=nl;if(!o)return je.error("googletag is unavailable, unable to fetch."),Promise.resolve();Gt({category:"script",message:"Ad fetch"}),ko.mark("Ad fetch");const i=++rl,a=Qo("auction",i,"Auction"),s=Qo("ad_load",i,"AdRequest");e.forEach(((e,t,n,r)=>o=>{const i=nl.performance.now(),a=(e=>{const{googletag:t}=nl;if(!t)return je.error("googletag is unavailable, unable to define slot."),null;const{id:n,dfp:r,mode:o,name:i,adUnitPath:a}=e.data,s="oop"===o,c="interstitial"===o,u=s?[[1,1]]:r.sizes;let l=null;try{if(s)l=t.defineOutOfPageSlot(a,n);else if(c)l=t.defineOutOfPageSlot(a,t.enums.OutOfPageFormat.INTERSTITIAL);else{if(void 0===u)throw new Error("Error defining GPT slot, sizes are undefined.");l=t.defineSlot(a,u,n)}}catch(e){return e instanceof Error&&je.error(`Error defining GPT slot. ${e.toString()}`),null}return null===l?(je.error(`Unable to define GPT slot. advert: ${i}, adUnitPath: ${a}`),null):(Object.keys(r.targeting).forEach((e=>{null!==l&&l.setTargeting(e,r.targeting[e])})),l.addService(t.pubads()),c||t.display(n),l)})(o);if(null===a)return void je.error("Fetch error, GPT slot is null");if(void 0===o.data.id)return void je.error("Fetch error, tile ID is undefined");const s={impressionViewable:ul(o,e),slotOnload:ll(o,n,r),slotRenderEnded:dl(o,i,n),slotVisibilityChanged:pl(o,t)};el.set(o.data.id,a),tl.set(a,s),a.setTargeting("auctionId",rl.toString())})(t,n,r,s));const c=yield Qc();Object.keys(c).forEach((e=>{o.pubads().setTargeting(e,c[e])})),Gt({category:"script",message:"Ad third party requests"});const u=ko.mark("Ad third party requests");return Xu(e,i).then((()=>{Gt({category:"script",message:"Ad third party responses"}),a(),ko.mark("Ad third party responses",u);const t=e.map((e=>{if(void 0!==e.data.id)return el.get(e.data.id)})).filter((e=>void 0!==e));o.pubads().refresh(t,{changeCorrelator:!1}),Gt({category:"script",message:"Ad GAM request"}),ko.mark("Ad GAM request")})).catch((e=>{je.error("GAM API fetch error: ",e)}))}))}let hl=!1;const ml=()=>hl,vl=e=>"add-tile"===e.type&&"interstitial"===e.data.mode||"ack-loaded"===e.type&&"interstitial"===e.name;const gl=y(),yl=(e,t)=>{const n=document.createElement(e);return Object.assign(n.style,t),n},bl=y(),wl=y(),_l=(e,t,n)=>new Promise((r=>{if(void 0===n.id)return je.error("Error in Slotify add tile on mount handler, tile id is undefined"),void r();const o=Object.assign(Object.assign({},n),{onMount(t){var r;return k(this,void 0,void 0,(function*(){if(void 0===n.id)return void je.error("Error in Slotify add tile on mount handler, tile id is undefined");if(!e.has(n.id))return void je.error("Error in Slotify add tile on mount handler, tile store does not have the tile data");let o;const i=wl.document.createElement("div");if(i.id=n.id,i.style.position="sticky",i.style.top="0",i.style.margin="0 auto",ss()&&(i.style.position="fixed",i.style.top="50%",i.style.transform="translateY(-50%)"),!0===n.verticallyCentered&&(i.style.margin="auto auto"),n.topPosition&&n.topPosition>0&&(i.style.top=`${n.topPosition}px`),(null===(r=n.dfp.sizes)||void 0===r?void 0:r.includes("fluid"))&&(i.style.width="100%",i.style.height="100%"),o=i,dc()){const e=wl.document.createElement("div");e.style.position="relative",e.style.zIndex="0",e.style.height=t.height?2*t.height+"px":"100%",e.style.top=t.height?`-${t.height}px`:"0",e.appendChild(i),o=e}e.set(n.id,Object.assign(Object.assign({},e.get(n.id)),{element:o,slotID:t.id}))}))}});var i;e.set(n.id,n),(e=>{void 0!==e.id&&($a.has(e.id)||$a.set(e.id,e))})(o),t.next((i=n,{source:"Actions",eventID:$n(),type:ir,data:i})),r()})),xl=y(),El=e=>t=>{e.next(((e,t)=>({source:"Actions",type:mr,eventID:$n(),id:e,timeViewed:t}))(t,performance&&performance.now()))},kl=(e,t,n)=>function(e,t,n,r){return k(this,void 0,void 0,(function*(){return Gt({category:"script",message:"GAM API refresh"}),ko.mark("GAM API refresh"),cl(e.map((e=>e.data.id)).filter((e=>void 0!==e||(je.error("GAM API refresh error, id is undefined."),!1))),r).then((()=>fl(e,t,n,r)))}))}(n.ads,El(e),t(e),e),Sl=e=>Object.entries(e).map((([e,t])=>`${e.replace(/[a-z][A-Z]/g,(e=>`${e[0]}-${e[1].toLowerCase()}`))}: ${t};`)).join("\n"),Ol=(e,t,n,r)=>{const o=y(),i=o.document.createElement("style");n[t]=i,xa.measure((function(){return null===e||"static"===o.getComputedStyle(e).getPropertyValue("position")})).then((n=>{xa.mutate((function(){if(null===e)return;const o=n?`#${e.id} {\n              position: relative;\n            }`:"";i.innerHTML=`${o}\n        #${e.id}:before {\n          content: " ";\n          ${Sl(r.highlight)}\n        }\n        #${e.id}:after {\n          content: "${t}${r.name}";\n          ${Sl(r.information)}\n        }`,e.parentElement&&e.parentElement.insertBefore(i,e)}))}))},Tl={};let jl,Il=!1;const Al={position:"absolute",top:"-20px",left:"-20px",border:"solid 20px rgba(255,192,203, 0.66)",zIndex:"10001",boxSizing:"content-box",width:"100%",height:"100%"},Pl={fontFamily:"'Fira Mono', monospace",fontWeight:"700",color:"black",marginTop:"-20px",marginLeft:"-20px",fontSize:"20px",width:"fit-content",backgroundColor:"rgba(230, 127, 144)",zIndex:"10002",position:"absolute",top:"0px"},Cl=e=>{let t=null;jl.forEach((n=>{n.name===e&&(t=n.element||null)})),t&&Ol(t,e,Tl,{name:" - slot",id:"-bdx-slot-highlight",highlight:Al,information:Pl})},Dl=e=>{const t=Tl[e];t&&(t.parentElement&&t.parentElement.removeChild(t),delete Tl[e])},Ll=()=>{jl.forEach((e=>{Object.keys(Tl).includes(e.name)||Cl(e.name)})),Il=!0},Rl={};let Nl,Ml=!1;const zl={position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",backgroundColor:"rgba(186, 255, 186, 0.66)",zIndex:"10003"},Ul={fontFamily:"'Fira Mono', monospace",fontWeight:"700",color:"black",fontSize:"20px",width:"fit-content",backgroundColor:"rgba(186, 255, 186)",zIndex:"10004",position:"absolute",top:"0px"},$l=e=>{let t=null;Nl.forEach((n=>{n.name===e&&(t=n.element||null)})),t&&Ol(t,e,Rl,{name:" - ad",id:"-bdx-tile-highlight",highlight:zl,information:Ul})},Bl=e=>{const t=Rl[e];t&&(t.parentElement&&t.parentElement.removeChild(t),delete Rl[e])},ql=()=>{Nl.forEach((e=>{Object.keys(Rl).includes(e.name)||$l(e.name)})),Ml=!0};function Zl(e,t){return e===t}const Fl=y();let Vl=!1;try{const e=Object.defineProperty({},"passive",{get(){Vl=!0}});Fl.addEventListener("test",null,e)}catch(e){}const Hl=Vl,Wl=y(),Gl=e=>{let t=!1;const n=()=>{t=!0};Wl.addEventListener("mousemove",n);const r=setInterval((()=>{t&&(e.next(null),t=!1)}),1e3);return()=>{clearInterval(r),Wl.removeEventListener("mousemove",n)}},Kl=e=>{document.addEventListener("visibilitychange",(()=>{e.next(!document.hidden)}),!1)},Ql=e=>{let t=!1;const n=()=>{e.next(null),t=!1};Wl.addEventListener("scroll",(()=>{t||setTimeout(Wl.requestAnimationFrame,1e3,n),t=!0}),!!Hl&&{passive:!0})},Jl=e=>{const t=Wi(new ue(Kl).pipe(sa(!document.hidden),(void 0===r&&(r=ae),n=null!=n?n:Zl,ve((function(e,t){var o,i=!0;e.subscribe(ge(t,(function(e){var a=r(e);!i&&n(o,a)||(i=!1,o=a,t.next(e))})))})))),{connector:()=>new me(1),resetOnDisconnect:!1});var n,r,o,i,a;t.connect(),Ri(t.pipe(Qi((e=>e?new ue(Gl):ii))),new ue(Ql)).pipe((o=2e3,void 0===i&&(i=Qa),a=function(){return Xa(o,i)},ve((function(e,t){var n=!1,r=null,o=null,i=!1,s=function(){if(null==o||o.unsubscribe(),o=null,n){n=!1;var e=r;r=null,t.next(e)}i&&t.complete()},c=function(){o=null,i&&t.complete()};e.subscribe(ge(t,(function(e){n=!0,r=e,o||_i(a()).subscribe(o=ge(t,s,c))}),(function(){i=!0,(!n||!o||o.closed)&&t.complete()})))})))).subscribe((()=>e.next({source:"Actions",eventID:$n(),type:vr})))};var Yl=n(204),Xl=n.n(Yl);const ed=y(),td=new Map,nd=new Map,rd=e=>{const t=new me(100);jl=td,Nl=nd,t.pipe(be((({type:e})=>e===nr))).subscribe((()=>{Il&&Ll()})),e.pipe(be((({type:e})=>e===Xn))).subscribe((()=>{Ml&&ql()})),Jl(t),y().dfp={deliveringCreativeTemplate(){je.info("window.dfp.deliveringCreativeTemplate is deprecated")},applying(){je.info("window.dfp.applying is deprecated")},passback(){je.info("window.dfp.passback is deprecated")},nonSticky(){je.info("window.dfp.nonSticky is deprecated")},shrinkwrap(){je.info("window.dfp.shrinkwrap is deprecated")}},ed.addEventListener("message",(({data:e})=>{var t;if(e&&"creative-template"===e.message){const n=null===(t=ed.dfp)||void 0===t?void 0:t[Xl()(e.type)];n&&n(e)}}),!1);const n=(o=new Map,e=>(t,n)=>{if((e=>e>=50)(n)){if(void 0===t.data.id)return void je.error("Error in coverage inView handler, id is undefined");o.set(t.data.id,n),e.next((e=>({source:"Actions",eventID:$n(),type:pr,id:e}))(t.data.id))}else if((e=>e<50)(n)){if(void 0===t.data.id)return void je.error("Error in coverage outOfView handler, id is undefined");o.set(t.data.id,n),e.next(hr(t.data.id))}}),r=e=>{switch(e.type){case qn:return function(){return k(this,void 0,void 0,(function*(){const e=yield k(void 0,void 0,void 0,(function*(){const e=yield Dc();return!(!(e&&e.ccpaApplies&&e.consent)||e.consent.uspString.length<3)&&"Y"===e.consent.uspString[2]})),t=yield _t(),{googletag:n}=nl;n?(t&&n.pubads().setPublisherProvidedId(t),n.pubads().enableAsyncRendering(),n.pubads().collapseEmptyDivs(!0),n.pubads().enableSingleRequest(),n.pubads().disableInitialLoad(),n.pubads().setCentering(!0),e&&n.pubads().setPrivacySettings({restrictDataProcessing:!0}),n.pubads().addEventListener("slotVisibilityChanged",ol),n.pubads().addEventListener("slotRenderEnded",il),n.pubads().addEventListener("slotOnload",al),n.pubads().addEventListener("impressionViewable",sl),n.setAdIframeTitle("Advertisement"),n.enableServices()):je.error("googletag is unavailable, unable to initialise.")}))}();case br:return((e,t)=>k(void 0,void 0,void 0,(function*(){const{slot:n}=t,r=y().document.createElement("div");r.classList.add("bordeaux-generated-spacer"),n.generatedSpacerStyle&&Object.assign(r.style,n.generatedSpacerStyle),yield xa.mutate((()=>t.container.appendChild(r))),e.next(((e,t,n)=>({source:"Bordeaux",eventID:$n(),type:gr,slot:e,container:t,index:n}))(n,r,t.index))})))(t,e);case wr:return((e,t)=>k(void 0,void 0,void 0,(function*(){const{slot:n}=t,r=y().document.createElement("div");r.classList.add("bordeaux-generated-container"),n.generatedContainerStyle&&Object.assign(r.style,n.generatedContainerStyle),yield xa.mutate((()=>hc(n,r))),e.next(((e,t)=>({source:"Bordeaux",eventID:$n(),type:yr,slot:e,container:t}))(n,r))})))(t,e);case er:return wc(t,td,nd,e);case rr:return((e,t,n)=>n.data.mode?"anchored"===n.data.mode?((e,t,n)=>new Promise((r=>{xa.mutate(((e,t,n)=>()=>{if(void 0===e.id)throw new Error("Error in anchored add tile handler, tile id is undefined");const r=et()!==Qe,o=yl("div",{});o.id=e.id;const i=yl("div",{boxShadow:"0 0 5px 0 rgba(0,0,0,0.2)",width:"100%",background:"white",minHeight:r?"90px":"50px"});i.classList.add("bordeaux-anchored-inner"),i.classList.add("mobile-leaderboard-320-50"),i.appendChild(o);const a=yl("div",{display:"flex",flexDirection:"column",justifyContent:"center",position:"fixed",bottom:"0",left:"0",width:"100%",height:r?"90px":"50px",zIndex:9995});if(a.classList.add("bordeaux-anchored-container"),a.appendChild(i),r||e.closeButton){const t=yl("div",{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"28px",height:"28px",top:"-28px",right:"0",backgroundColor:"#fff",backgroundRepeat:"no-repeat",boxShadow:"0 -1px 1px 0 rgb(0 0 0 / 20%)",border:"none",borderRadius:"12px 0 0 0"});t.classList.add("bordeaux-anchored-close"),t.innerHTML='\n    <svg fill="rgb(178, 178, 178)" width="13" height="13" viewBox="341 8 13 13" xmlns="http://www.w3.org/2000/svg"><path fill="%234F4F4F" d="M354 9.31 352.69 8l-5.19 5.19L342.31 8 341 9.31l5.19 5.19-5.19 5.19 1.31 1.31 5.19-5.19 5.19 5.19 1.31-1.31-5.19-5.19z" fill-rule="evenodd"/></svg>\n    ',t.addEventListener("click",(()=>{void 0!==e.id?(n.next(hr(e.id)),a.parentNode&&a.parentNode.removeChild(a)):je.error("Error in anchored add tile close handler, tile id is undefined")})),a.appendChild(t)}gl.document.body.appendChild(a),t.set(e.id,Object.assign(Object.assign({},e),{element:o,mode:e.mode}))})(n,e,t)).then((()=>{t.next(sr(n)),r()})).catch((e=>{e instanceof Error&&je.error(e.message),r()}))})))(t,e,n.data):"oop"===n.data.mode?((e,t,n)=>new Promise((r=>{xa.mutate((()=>{if(void 0===n.id)throw new Error("Error in out of page add tile handler, tile id is undefined");const t=bl.document.createElement("div");t.id=n.id;const r=bl.document.createElement("div");r.style.display="none",r.appendChild(t),e.set(n.id,Object.assign(Object.assign({},n),{element:t,mode:n.mode})),bl.document.body.appendChild(r)})).then((()=>{t.next(sr(n)),r()})).catch((e=>{e instanceof Error&&je.error(e.message),r()}))})))(t,e,n.data):(e=>"slotify"===e.data.mode)(n)?_l(t,e,n.data):(e=>"progressive-realhomes"===e.data.mode)(n)?((e,t,n)=>new Promise((r=>{xa.mutate((()=>{if(void 0===n.id)throw new Error("Error in out of page add tile handler, tile id is undefined");const r=xl.document.createElement("div");r.id=n.id;const o=document.createElement("div");o.classList.add("bordeaux-container");const i={display:"flex",justifyContent:"center",width:`${n.width}px`,height:`${n.height}px`,margin:"10px"};Object.assign(o.style,i),o.appendChild(r);const a="progressive-realhomes-container",s=xl.document.getElementsByClassName(a),c="progressive-realhomes-ads",u=xl.document.getElementsByClassName(c);if(0===s.length){const e=xl.document.createElement("div");e.classList.add(c),Object.assign(e.style,{display:"flex",flexFlow:"row wrap",justifyContent:"center",width:"600px"}),e.appendChild(o);const t=xl.document.createElement("h2");t.textContent="SPONSORS",Object.assign(t.style,{fontSize:"16px",fontWeight:"600",marginTop:"10px",marginBottom:"30px",flexBasis:"20%"});const n=xl.document.createElement("div");Object.assign(n.style,{display:"flex",flexFlow:"row wrap",justifyContent:"center",margin:"0 auto",maxWidth:"1000px"}),n.appendChild(t),n.appendChild(e);const r=xl.document.createElement("div");r.classList.add(a),Object.assign(r.style,{borderTop:"1px solid black",padding:"40px 0",textAlign:"center"}),r.appendChild(n),xl.document.body.appendChild(r);const i=ua("body > .footer");if(!i||!i.parentElement)throw new Error("Realhomes Logos cannot be added to the page, check footer hook");i.parentElement.insertBefore(r,i)}else u[0].appendChild(o);fc(t,n.id,u),e.set(n.id,Object.assign(Object.assign({},n),{element:r}))})).then((()=>{t.next(sr(n)),r()})).catch((e=>{e instanceof Error&&je.error(e.message),r()}))})))(t,e,n.data):(e=>"skyscraper"===e.data.mode)(n)?((e,t,n)=>new Promise((r=>{xa.mutate((()=>{if(void 0===n.id)throw new Error("Error in skyscraper add tile handler, tile id is undefined");const t=y(),r=t.document.getElementById("main");if(!r)throw new Error("Error in skyscraper setup, #main element not found");if(!r.parentNode)throw new Error("Error in skyscraper setup, #main element has no parent");const{position:o}=n,i=t.document.createElement("div");i.classList.add(`skyscraper-gpt-${o}`),Object.assign(i.style,{width:"160px",height:"600px"}),i.id=n.id;const a=t.document.createElement("div");a.classList.add(`skyscraper-inner-${o}`),Object.assign(a.style,{width:"160px",height:"600px",pointerEvents:"auto"}),a.appendChild(i);const s=t.document.createElement("div");s.classList.add(`skyscraper-outer-${o}`);const c=Object.assign(Object.assign({width:"160px",height:"600px",position:"absolute",top:"10px"},o?{[o]:"-200px"}:{}),{zIndex:9995});Object.assign(s.style,c),s.appendChild(a);const{width:u}=r.getBoundingClientRect(),l=ua(".skyscraper-container")||t.document.createElement("div");l.classList.add("skyscraper-container");const d={width:`${u}px`,height:0,margin:"auto",position:"sticky",top:0,"pointer-events":"none"};Object.assign(l.style,d),l.appendChild(s),r.parentNode.insertBefore(l,r),e.set(n.id,Object.assign(Object.assign({},n),{element:i,mode:n.mode}))})).then((()=>{t.next(sr(n)),r()})).catch((e=>{e instanceof Error&&je.error(e.message),r()}))})))(t,e,n.data):vl(n)?((e,t)=>new Promise((n=>{void 0!==t.id?(e.next(sr(t)),n()):je.error("Error in interstitial add tile handler, tile id is undefined")})))(e,n.data):(je.error(`Add tile handler error - mode not recognised: ${JSON.stringify(n.data,null,2)}`),Promise.resolve()):(je.error(`Add tile handler error - no mode set: ${JSON.stringify(n.data,null,2)}`),Promise.resolve()))(t,nd,e);case Jn:return ko.mark("Slotify start preemptive handling"),$a.forEach((e=>{if(void 0===e.affinitySlotID)return;let t;Ua.forEach((n=>{n.name===e.affinitySlotID&&(t=n)})),void 0!==t&&void 0===t.tileID&&void 0===e.slotID&&Za(e,t)})),ml()||Ka(),Promise.resolve();case Yn:return ml()&&Ka(),Promise.resolve();case Fn:return((e,t,n)=>fl(n.ads,El(e),t(e),e))(t,n,e);case Hn:return kl(t,n,e);case Xn:return function(e,t){return void 0===t.id||(e.next((e=>({source:"Actions",type:cr,eventID:$n(),id:e}))(t.id)),vl(t)),Promise.resolve()}(t,e);case"destroy":return function(e,t){return cl(t.ads,e)}(t,e);default:return je.error("message received that driver did not recognise:",e),Promise.resolve()}};var o;return e.subscribe({next:e=>{Array.isArray(e)?e.forEach((e=>r(e))):r(e)},complete:()=>{je.error("Driver: stream complete! (this should not happen)")}}),t};var od;!function(e){e.ADS_IN_ARTICLE="ADS_IN_ARTICLE",e.ADS_INCREMENTAL="ADS_INCREMENTAL",e.ADS_PREEMPTIVE="ADS_PREEMPTIVE",e.ADS_REFRESH="ADS_REFRESH"}(od||(od={}));const id=()=>{Js=!0,Qs&&Ys(!0),Hs=!0,Vs&&Ws(!0),ms=!0,hs&&vs(!0)},ad=y(),sd=(e="Logged from the console")=>{ad.setTimeout((()=>{const t=new Error(e);je.error(t)}))},cd=y(),ud=(e="Reported from the console")=>{cd.setTimeout((()=>{const t=new Error(e);Ht(t)}))},ld=y(),dd=(e="Triggered from the console")=>{ld.setTimeout((()=>{(e=>{if(e instanceof Error)throw e;if("string"==typeof e)throw new Error(e)})(e)}))},pd=e=>{void 0!==e?e.forEach((e=>{$l(e)})):ql()},fd=e=>{void 0!==e?e.forEach((e=>{Cl(e)})):Ll()},hd=e=>{if(void 0===e)return Object.keys(Rl).forEach((e=>{Bl(e)})),void(Ml=!1);e.forEach((e=>{Bl(e)}))},md=e=>{if(void 0===e)return Object.keys(Tl).forEach((e=>{Dl(e)})),void(Il=!1);e.forEach((e=>{Dl(e)}))},vd=new Promise((e=>{_t().then((t=>e(t))).catch((e=>je.warn(e)))}));let gd=()=>{};const yd=new Promise((e=>{gd=e})),bd=()=>{gd()},wd=()=>{Ce()},_d=()=>Fi,xd=()=>Tc,Ed=()=>"master";let kd=-1;const Sd=()=>kd;let Od=-1;const Td=()=>Od,jd=()=>Da,Id=()=>td;let Ad;const Pd=new Promise((e=>{Ad=e})),Cd=()=>Pd,Dd=()=>Qc(),Ld=()=>k(void 0,void 0,void 0,(function*(){return[...yield Lu]}));let Rd;const Nd=()=>Rd,Md=()=>{const e=y(),t={cmd:e.bordeaux&&e.bordeaux.cmd||[],disableFeature:e=>((e=>{switch(e){case od.ADS_INCREMENTAL:return Js?(je.warn("Cannot disable the ads incremental feature after Bordeaux has initialised."),!1):(Qs=!1,!0);case od.ADS_PREEMPTIVE:return Hs?(je.warn("Cannot disable the ads Preemptive feature after Bordeaux has initialised."),!1):(Vs=!1,!0);case od.ADS_REFRESH:return ms?(je.warn("Cannot disable the ads incremental feature after Bordeaux has initialised."),!1):(hs=!1,!0);default:je.warn(`Unable to disable feature ${e}, no handler specified.`)}})(e),t),enableFeature:e=>((e=>{switch(e){case od.ADS_INCREMENTAL:return Qs=!0,Ys(!0),!0;case od.ADS_PREEMPTIVE:return Vs=!0,Ws(!0),!0;case od.ADS_REFRESH:return hs=!0,vs(!0),!0;default:je.warn(`Unable to enable feature ${e}, no handler specified.`)}})(e),t),error:{logError:sd,reportError:ud,triggerError:dd},features:od,highlight:{addAdHighlights:pd,addSlotHighlights:fd,removeAdHighlights:hd,removeSlotHighlights:md},hybridId:vd,init:bd,log:Oe,metrics:ko,mobileBigtop:(n=pa(da),new Promise((function(e,t){var r=new te({next:function(t){e(t),r.unsubscribe()},error:t,complete:function(){t(new oi)}});n.subscribe(r)}))),onNotification:()=>t,openTool:wd,refresh:(e,n)=>(((e=[],t=!0)=>{As.then((n=>{!0!==n&&(({adUnits:e,inView:t})=>{is.next(((e,t)=>({source:"Logic",eventID:$n(),type:Gn,payload:{type:"api-refresh",adUnits:e,inView:t}}))(e,t))})({adUnits:e,inView:t})})).catch((e=>{je.error(e)}))})(e,n),t),roadblock:As,getAdBlock:_d,getAdInfo:xd,getBranchName:Ed,getMessages:Zi,getPageCategory:Nd,getPageTemplate:qu,getPlacementId:Sd,getPlatformId:Td,getSlotAvoidanceDistance:jd,getSlotInfo:Id,getSommelierResponse:Cd,getTargeting:Dd,getThirdPartyAPIInfo:Ld,setAdToolVersion:e=>(Pe(e),t),setAssignSpaceOnLoad:()=>(je.warn("setAssignSpaceOnLoad has been deprecated. This api call should be removed in the future."),t),setDelayedIncrementalAds:()=>(hl=!0,t),setEagerSpaceAllocation:()=>(je.warn("setEagerSpaceAllocation has been deprecated. This api call should be removed in the future. There is no replacement as this setting is now the default."),t),setFlyingCarpetAds:()=>(as=!0,t),setHiddenScrollAds:()=>(lc=!0,t),setIndividualAdUnits:()=>(je.warn("setIndividualAdUnits() has been deprecated. This api call should be removed in the future."),t),setLazyloadIncremental:()=>(je.warn("setLazyloadIncremental() has been deprecated. This api call should be removed in the future."),t),setPageCategory:e=>((e=>{"string"==typeof e?Rd=e.replace(/[^a-zA-Z0-9-_]/g,""):je.error("Page category must be a string")})(e),t),setPageTemplate:e=>((e=>{"string"==typeof e?Bu=e.replace(/[^a-zA-Z0-9-_]/g,""):je.error("Page template must be a string")})(e),t),setPlacement:()=>(je.warn("setPlacement() has been deprecated. This api call should be removed in the future."),t),setSimpleRefresh:e=>(us(e),t),setSlotActivationDistance:e=>((e=>{ma=e})(e),t),setSlotAvoidanceDistance:e=>((e=>{"mobile"in e&&"number"==typeof e.mobile&&"tablet"in e&&"number"==typeof e.tablet&&"desktop"in e&&"number"==typeof e.desktop&&(Aa=e)})(e),t),setTargeting:e=>(Gc(e),t),setToggleAdsRefresh:()=>(ws=!ws,t),version:"4.28.0"};var n;((e,t)=>{if(!Array.isArray(e))return void je.error("Command queue commands is not an array");const n=e=>("function"!=typeof e?je.error(`Command queue will only accept a function callback command, '${typeof e}' given.`):e(),0);t((()=>{e.forEach((e=>{e()})),e.push=n}))})(t.cmd,(e=>Re().then(e))),e.bordeaux=t,e.bdx=t};class zd{constructor(){this.templateName="",this.location="",this.screenWidth=""}setTemplateName(e){return this.templateName=e,this}setLocation(e){return this.location=e,this}setScreenWidth(e){return this.screenWidth=e,this}execute(){return k(this,void 0,void 0,(function*(){const e=nt("force_plc"),t=nt("force_plc_db"),n=`https://sommelier.futurehybrid.tech/config/?${[["r",Math.round(1e3*Math.random())],["tpl",this.templateName],...e?[["force_plc",e]]:[],...t?[["force_plc_db",t]]:[],["l",this.location],["sw",this.screenWidth]].map((e=>e.join("="))).join("&")}`;return Promise.race([fetch(n,{credentials:"omit",cache:"no-store"}).then((e=>{try{return e.json()}catch(e){return je.warn(`AdServer /config request error parsing JSON response: ${e}`),Promise.reject(e)}})).catch((e=>(je.warn(`AdServer /config request error: ${e}`),Promise.reject(e)))),new Promise(((e,t)=>{setTimeout((()=>t(new eu("Took more than 5000ms to resolve and timed out"))),5e3)}))])}))}}const Ud={type:"incremental",name:"incr-billboard",sizes:[{w:728,h:90},{w:970,h:250}],targeting:{pos:["2"],placement:["dfp_rs_desktop_billboard"]},properties:{refresh:"true",ignoreAvoidance:"true",centerVertically:"true"}},$d={type:"incremental",name:"incr-leaderboard",sizes:[{w:728,h:90}],targeting:{pos:["2"],placement:["dfp_rs_desktop_leaderboard"]},properties:{refresh:"true",centerVertically:"true"}},Bd={type:"incremental",name:"incr-mpu",sizes:[{w:300,h:250},{w:300,h:600}],targeting:{pos:["2"],placement:["dfp_rs_desktop_mpu"]},properties:{ignoreAvoidance:"true",refresh:"true"}},qd={type:"standard",name:"leaderboard",slotAffinity:"leaderboard",sizes:[{w:728,h:90},{w:970,h:90},{w:970,h:250}],targeting:{pos:["1"],placement:["dfp_rs_desktop_leaderboard_1"]},properties:{centerVertically:"true"}},Zd={type:"oop",name:"skin",sizes:[{w:1,h:1}],targeting:{placement:["dfp_rs_desktop_skin_oop_1"],oop:["skin"]},properties:{}},Fd={type:"oop",name:"overlay",sizes:[{w:1,h:1}],targeting:{placement:["dfp_rs_desktop_overlay_oop_1"],oop:["overlay"]},properties:{}},Vd=728,Hd=600,Wd=400,Gd=300,Kd="#ededed",Qd={name:"leaderboard",hook:"#top-leaderboard, .dfp-leaderboard-container",type:"block",position:"prepend",size:{w:980,h:250},properties:{style:{marginLeft:"auto",marginRight:"auto",clear:"both",marginTop:"20px",marginBottom:"20px"}}},Jd={name:"title-leaderboard",hook:"h3, h2",type:"block",position:"before",size:{w:Vd,h:90},properties:{style:{clear:"both",marginTop:"20px",marginBottom:"20px",marginLeft:"auto",marginRight:"auto"},config:{multiple:"true"}}},Yd={name:"media-leaderboard",hook:".article__body > [data-bordeaux-image-check], .article__body > .inlinegallery",type:"block",position:"after",size:{w:Vd,h:90},properties:{style:{clear:"both",marginTop:"20px",marginBottom:"20px",marginLeft:"auto",marginRight:"auto"},config:{multiple:"true"}}},Xd={name:"leaderboard",hook:".leaderboard__container, .static-leaderboard",type:"block",position:"append",size:{w:980,h:250},properties:{config:{multiple:"true"}}},ep=(e,t,n)=>({name:`${t}`,hook:e,type:"block",position:n,size:{w:5,h:5},properties:{style:{fluid:"true"},config:{ignoreExclusion:"true",allowList:"sponsored-post",multiple:"true"}}}),tp=ep(".sponsored-post","sponsored","prepend"),np=ep(".article-sponsored-post","article-sponsored","append"),rp={name:"topOfSidebar",hook:"#sidebar-top",type:"block",position:"prepend",size:{w:Gd,h:Hd},properties:{config:{ignoreExclusion:"true"}}},op={name:"beforePopularBox",hook:"#sidebar-popular-top",type:"block",position:"prepend",size:{w:Gd,h:Hd},properties:{config:{ignoreExclusion:"true"}}},ip={name:"afterPopularBox",hook:"#sidebar-popular-bottom",type:"block",position:"prepend",size:{w:Gd,h:Hd},properties:{config:{ignoreExclusion:"true"}}},ap={name:"mpu-image",hook:"#article-body > [data-bordeaux-image-check]",type:"block",position:"before",size:{w:Gd,h:Hd},properties:{style:{margin:"5px -325px 10px 25px",position:"absolute",right:"0"},config:{multiple:"true"}}},sp={name:"mpu-furniture",hook:"#article-body > .fancy-box, #article-body > FIGURE > BLOCKQUOTE",type:"block",position:"before",size:{w:Gd,h:Hd},properties:{style:{margin:"5px -325px 10px 25px",position:"absolute",right:"0"},config:{multiple:"true"}}},cp={name:"mpu-before-comments",hook:"#article-comments",type:"block",position:"before",size:{w:Gd,h:Hd},properties:{style:{margin:"5px -325px 10px 25px",position:"absolute",right:"0"}}},up={name:"mpu-comments",hook:".xenforo-comment",type:"block",position:"before",size:{w:Gd,h:Hd},properties:{style:{margin:"5px -325px 10px 25px",position:"absolute",right:"0"},config:{multiple:"true"}}},lp={name:"mpu-paragraph",type:"block",hook:"#article-body > p",position:"before",size:{w:Gd,h:Hd},properties:{style:{margin:"5px -325px 10px 25px",position:"absolute",right:"0"},config:{multiple:"true"}}},dp={type:"standard",name:"leaderboard",slotAffinity:"leaderboard",sizes:[{w:728,h:90},{w:728,h:91}],targeting:{pos:["1"],placement:["dfp_rs_tablet_leaderboard_1"]},properties:{}},pp={type:"incremental",name:"incr-leaderboard",sizes:[{w:728,h:90}],targeting:{pos:["2"],placement:["dfp_rs_tablet_leaderboard"],format:["roadblock"]},properties:{category:"leaderboard"}},fp={type:"incremental",name:"incr-mpu",sizes:[{w:300,h:250},{w:300,h:600}],targeting:{pos:["2"],placement:["dfp_rs_tablet_mpu"],format:["roadblock"]},properties:{ignoreAvoidance:"true",refresh:"true"}},hp={type:"incremental",name:"incr-mpu",sizes:[{w:300,h:250}],targeting:{pos:["2"],placement:["dfp_rs_tablet_mpu"],format:["roadblock"]},properties:{refresh:"true"}},mp={type:"oop",name:"overlay",sizes:[{w:1,h:1}],targeting:{placement:["dfp_rs_tablet_overlay_oop_1"],oop:["overlay"]},properties:{}},vp={type:"oop",name:"skin",sizes:[{w:1,h:1}],targeting:{oop:["skin"]},properties:{}},gp={name:"leaderboard",hook:".dfp-leaderboard-container, #top-leaderboard",type:"block",position:"prepend",size:{w:Vd,h:90},properties:{}},yp={name:"leaderboard",hook:".leaderboard__container, .static-leaderboard",type:"block",position:"append",size:{w:Vd,h:90},properties:{config:{multiple:"true"}}},bp={name:"mpu-paragraph",type:"block",hook:"#article-body > p, .article__body > p",position:"before",size:{w:Gd,h:250},properties:{label:{position:"above",backgroundColour:Kd},style:{marginBottom:"20px",backgroundColor:Kd},config:{multiple:"true"}}},wp={name:"topOfSidebar",hook:"#sidebar-top",type:"block",position:"prepend",size:{w:Gd,h:Hd},properties:{config:{ignoreExclusion:"true"}}},_p={name:"beforePopularBox",hook:"#sidebar-popular-top",type:"block",position:"prepend",size:{w:Gd,h:Hd},properties:{config:{ignoreExclusion:"true"}}},xp={name:"afterPopularBox",hook:"#sidebar-popular-bottom",type:"block",position:"prepend",size:{w:Gd,h:Hd},properties:{config:{ignoreExclusion:"true"}}},Ep={type:"oop",name:"interstitial",sizes:[{w:1,h:1}],targeting:{}},kp={type:"anchored",name:"anchored-leaderboard",sizes:[{w:320,h:50},{w:300,h:50},{w:300,h:31}],targeting:{pos:["mobile_anchored_leaderboard","mobile_sticky_leaderboard","1"],placement:["dfp_rs_mobile_anchored_leaderboard","dfp_rs_mobile_sticky_leaderboard"]},properties:{refresh:"true"}},Sp={type:"standard",name:"top-leaderboard",slotAffinity:"top-leaderboard",sizes:[{w:320,h:50},{w:300,h:50}],targeting:{pos:["mobile_top_leaderboard","2"],placement:["dfp_rs_top_leaderboard"]},properties:{centerVertically:"true"}},Op={type:"standard",name:"mpu1",slotAffinity:"mpu1",sizes:[{w:300,h:250}],targeting:{pos:["1"],placement:["dfp_rs_mobile_mpu_1"]},properties:{refresh:"true"}},Tp={type:"standard",name:"mpu2",slotAffinity:"mpu2",sizes:[{w:300,h:250}],targeting:{pos:["2"],placement:["dfp_rs_mobile_mpu_2"]},properties:{refresh:"true"}},jp={type:"incremental",name:"incr-mpu",sizes:[{w:300,h:250}],targeting:{pos:["3"],placement:["dfp_rs_mobile_mpu_3"]},properties:{refresh:"true"}},Ip={type:"oop",name:"overlay",sizes:[{w:1,h:1}],targeting:{placement:["dfp_rs_mobile_overlay_oop_1"],oop:["overlay"]},properties:{}},Ap={name:"top-leaderboard",hook:"#top-leaderboard",type:"block",position:"prepend",size:{w:320,h:100},properties:{}},Pp={name:"paragraph",type:"block",hook:"#article-body > p, .article__body > p",position:"after",size:{w:Gd,h:Wd},properties:{label:{position:"above",text:"Advertisement"},style:{marginBottom:"20px",backgroundColor:Kd},config:{multiple:"true"}}},Cp={name:"mpu-heading",type:"block",hook:"#article-body > h3, #article-body > h2, .article__body > h3, .article__body > h2",position:"before",size:{w:Gd,h:Wd},properties:{label:{position:"above",text:"Advertisement"},style:{marginBottom:"20px",backgroundColor:Kd},config:{multiple:"true"}}},Dp={name:"mpu1",hook:"#ad-unit-1",type:"block",position:"prepend",size:{w:Gd,h:Wd},properties:{label:{position:"above",text:"Advertisement"},style:{backgroundColor:Kd}}},Lp={name:"mpu2",hook:"#ad-unit-2",type:"block",position:"prepend",size:{w:Gd,h:Wd},properties:{label:{text:"Advertisement",position:"above"},style:{backgroundColor:Kd}}},Rp={name:"static-mpu",type:"block",hook:".static-leaderboard",position:"append",size:{w:Gd,h:250},properties:{label:{position:"above",text:"Advertisement"},style:{backgroundColor:Kd},config:{multiple:"true"}}},Np=()=>({placement:{id:99997,platformId:-1,linkedIds:[],siteAdUnitPath:"/10518929/HAAS-Fallback",placementAdUnitPath:"fallback",slots:[Qd,Jd,Yd,Xd,cp,rp,op,ip,ap,sp,up,lp,tp,np],adunits:[qd,Fd,Zd,Ud,$d,Bd],settings:{refreshTime:20,adUnitNameInPath:"true",adDensity:{avoidanceDistance:400}}},config:{adServer:{enabled:!0},amClio:{enabled:!1},amazon:{enabled:!0},ias:{enabled:!0},indexExchange:{enabled:!1,id:"",mode:"standard"},liveRamp:{enabled:!1,configurationId:""},pubmatic:{enabled:!1,profileId:""}}}),Mp=()=>({placement:{id:99998,platformId:-1,linkedIds:[],siteAdUnitPath:"/10518929/HAAS-Fallback",placementAdUnitPath:"fallback",slots:[gp,wp,_p,xp,bp,yp],adunits:[dp,mp,vp,fp,hp,pp],settings:{refreshTime:20,adUnitNameInPath:"true",adDensity:{avoidanceDistance:400}}},config:{adServer:{enabled:!0},amClio:{enabled:!1},amazon:{enabled:!0},ias:{enabled:!0},indexExchange:{enabled:!1,id:"",mode:"standard"},liveRamp:{enabled:!1,configurationId:""},pubmatic:{enabled:!1,profileId:""}}}),zp=()=>({placement:{id:99999,platformId:-1,linkedIds:[],siteAdUnitPath:"/10518929/HAAS-Fallback",placementAdUnitPath:"fallback",slots:[Ap,Dp,Lp,Rp,Pp,Cp],adunits:[Sp,Op,Tp,Ep,kp,Ip,jp],settings:{refreshTime:20,adUnitNameInPath:"true",adDensity:{avoidanceDistance:400}}},config:{adServer:{enabled:!0},amClio:{enabled:!1},amazon:{enabled:!0},ias:{enabled:!0},indexExchange:{enabled:!1,id:"",mode:"standard"},liveRamp:{enabled:!1,configurationId:""},pubmatic:{enabled:!1,profileId:""}}});var Up=function(e,t){return(Up=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function $p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Up(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Bp,qp,Zp=function(){return(Zp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Fp(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function Vp(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,(a=o?[2&a[0],o.value]:a)[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function Hp(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wp(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Gp(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}(qp=Bp=Bp||{}).assertNever=function(e){throw new Error},qp.arrayToEnum=function(e){var t,n,r={};try{for(var o=Hp(e),i=o.next();!i.done;i=o.next()){var a=i.value;r[a]=a}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},qp.getValidEnumValues=function(e){var t,n,r=qp.objectKeys(e).filter((function(t){return"number"!=typeof e[e[t]]})),o={};try{for(var i=Hp(r),a=i.next();!a.done;a=i.next()){var s=a.value;o[s]=e[s]}}catch(n){t={error:n}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return qp.objectValues(o)},qp.objectValues=function(e){return qp.objectKeys(e).map((function(t){return e[t]}))},qp.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n},qp.find=function(e,t){var n,r;try{for(var o=Hp(e),i=o.next();!i.done;i=o.next()){var a=i.value;if(t(a))return a}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},qp.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};var Kp=Bp.arrayToEnum(["invalid_type","custom","invalid_union","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]),Qp=function(e){function t(t){var n=this.constructor,r=e.call(this)||this;return r.issues=[],r.format=function(){var e={_errors:[]},t=function(n){var r,o;try{for(var i=Hp(n.issues),a=i.next();!a.done;a=i.next()){var s=a.value;if("invalid_union"===s.code)s.unionErrors.map(t);else if("invalid_return_type"===s.code)t(s.returnTypeError);else if("invalid_arguments"===s.code)t(s.argumentsError);else if(0===s.path.length)e._errors.push(s.message);else for(var c=e,u=0;u<s.path.length;){var l,d=s.path[u];u===s.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(s.message)):"string"==typeof d?c[d]=c[d]||{_errors:[]}:"number"==typeof d&&((l=[])._errors=[],c[d]=c[d]||l),c=c[d],u++}}}catch(n){r={error:n}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}};return t(r),e},r.addIssue=function(e){r.issues=Gp(Gp([],Wp(r.issues),!1),[e],!1)},r.addIssues=function(e){void 0===e&&(e=[]),r.issues=Gp(Gp([],Wp(r.issues),!1),Wp(e),!1)},r.flatten=function(e){var t,n;void 0===e&&(e=function(e){return e.message});var o={},i=[];try{for(var a=Hp(r.issues),s=a.next();!s.done;s=a.next()){var c=s.value;0<c.path.length?(o[c.path[0]]=o[c.path[0]]||[],o[c.path[0]].push(e(c))):i.push(e(c))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return{formErrors:i,fieldErrors:o}},n=n.prototype,Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n,r.name="ZodError",r.issues=t,r}return $p(t,e),Object.defineProperty(t.prototype,"errors",{get:function(){return this.issues},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.message},Object.defineProperty(t.prototype,"message",{get:function(){return JSON.stringify(this.issues,null,2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.issues.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"formErrors",{get:function(){return this.flatten()},enumerable:!1,configurable:!0}),t.create=function(e){return new t(e)},t}(Error),Jp=function(e,t){var n;switch(e.code){case Kp.invalid_type:n="undefined"===e.received?"Required":"Expected "+e.expected+", received "+e.received;break;case Kp.unrecognized_keys:n="Unrecognized key(s) in object: "+e.keys.map((function(e){return"'"+e+"'"})).join(", ");break;case Kp.invalid_union:n="Invalid input";break;case Kp.invalid_enum_value:n="Invalid enum value. Expected "+e.options.map((function(e){return"string"==typeof e?"'"+e+"'":e})).join(" | ")+", received "+("string"==typeof t.data?"'"+t.data+"'":t.data);break;case Kp.invalid_arguments:n="Invalid function arguments";break;case Kp.invalid_return_type:n="Invalid function return type";break;case Kp.invalid_date:n="Invalid date";break;case Kp.invalid_string:n="regex"!==e.validation?"Invalid "+e.validation:"Invalid";break;case Kp.too_small:n="array"===e.type?"Should have "+(e.inclusive?"at least":"more than")+" "+e.minimum+" items":"string"===e.type?"Should be "+(e.inclusive?"at least":"over")+" "+e.minimum+" characters":"number"===e.type?"Value should be greater than "+(e.inclusive?"or equal to ":"")+e.minimum:"Invalid input";break;case Kp.too_big:n="array"===e.type?"Should have "+(e.inclusive?"at most":"less than")+" "+e.maximum+" items":"string"===e.type?"Should be "+(e.inclusive?"at most":"under")+" "+e.maximum+" characters long":"number"===e.type?"Value should be less than "+(e.inclusive?"or equal to ":"")+e.maximum:"Invalid input";break;case Kp.custom:n="Invalid input";break;case Kp.invalid_intersection_types:n="Intersection results could not be merged";break;case Kp.not_multiple_of:n="Should be multiple of "+e.multipleOf;break;default:n=t.defaultError,Bp.assertNever(e)}return{message:n}},Yp=Jp,Xp=Bp.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);function ef(e,t,n){return n&&n.set(e,t),t}var tf=function(e,t){if(t&&t.has(e))return t.get(e);switch(typeof e){case"undefined":return ef(e,Xp.undefined,t);case"string":return ef(e,Xp.string,t);case"number":return ef(e,isNaN(e)?Xp.nan:Xp.number,t);case"boolean":return ef(e,Xp.boolean,t);case"function":return ef(e,Xp.function,t);case"bigint":return ef(e,Xp.bigint,t);case"object":return Array.isArray(e)?ef(e,Xp.array,t):null===e?ef(e,Xp.null,t):e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?ef(e,Xp.promise,t):e instanceof Map?ef(e,Xp.map,t):e instanceof Set?ef(e,Xp.set,t):e instanceof Date?ef(e,Xp.date,t):ef(e,Xp.object,t);default:return ef(e,Xp.unknown,t)}},nf=function(e){var t,n,r=e.data,o=e.path,i=e.errorMaps,a=(e=e.issueData,o=Gp(Gp([],Wp(o),!1),Wp(e.path||[]),!1),Zp(Zp({},e),{path:o})),s="";i=i.filter((function(e){return!!e})).slice().reverse();try{for(var c=Hp(i),u=c.next();!u.done;u=c.next())s=(0,u.value)(a,{data:r,defaultError:s}).message}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return Zp(Zp({},e),{path:o,message:e.message||s})};function rf(e,t){t=nf({issueData:t,data:e.data,path:e.path,errorMaps:[e.contextualErrorMap,e.schemaErrorMap,Yp,Jp].filter((function(e){return!!e}))}),e.issues.push(t)}var of,af,sf=function(){function e(){this.value="valid"}return e.prototype.dirty=function(){"valid"===this.value&&(this.value="dirty")},e.prototype.abort=function(){"aborted"!==this.value&&(this.value="aborted")},e.mergeArray=function(e,t){var n,r,o=[];try{for(var i=Hp(t),a=i.next();!a.done;a=i.next()){var s=a.value;if("aborted"===s.status)return cf;"dirty"===s.status&&e.dirty(),o.push(s.value)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return{status:e.value,value:o}},e.mergeObjectAsync=function(t,n){return Fp(this,void 0,void 0,(function(){var r,o,i,a,s,c,u,l,d;return Vp(this,(function(p){switch(p.label){case 0:r=[],p.label=1;case 1:p.trys.push([1,7,8,9]),o=Hp(n),i=o.next(),p.label=2;case 2:return i.done?[3,6]:(a=i.value,c=(s=r).push,d={},[4,a.key]);case 3:return d.key=p.sent(),[4,a.value];case 4:c.apply(s,[(d.value=p.sent(),d)]),p.label=5;case 5:return i=o.next(),[3,2];case 6:return[3,9];case 7:return u={error:u=p.sent()},[3,9];case 8:try{i&&!i.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}return[7];case 9:return[2,e.mergeObjectSync(t,r)]}}))}))},e.mergeObjectSync=function(e,t){var n,r,o={};try{for(var i=Hp(t),a=i.next();!a.done;a=i.next()){var s=a.value,c=s.key,u=s.value;if("aborted"===c.status)return cf;if("aborted"===u.status)return cf;"dirty"===c.status&&e.dirty(),"dirty"===u.status&&e.dirty(),void 0===u.value&&!s.alwaysSet||(o[c.value]=u.value)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return{status:e.value,value:o}},e}(),cf=Object.freeze({status:"aborted"}),uf=function(e){return{status:"valid",value:e}},lf=function(e){return"aborted"===e.status},df=function(e){return"dirty"===e.status},pf=function(e){return"valid"===e.status},ff=function(e){return e instanceof Promise};(af=of=of||{}).errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},af.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message};var hf=function(e,t){if(pf(t))return{success:!0,data:t.value};if(!e.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new Qp(e.issues)}};function mf(e){if(!e)return{};if(e.errorMap&&(e.invalid_type_error||e.required_error))throw new Error('Can\'t use "invalid" or "required" in conjunction with custom error map.');return e.errorMap?{errorMap:e.errorMap}:{errorMap:function(t,n){return"invalid_type"!==t.code?{message:n.defaultError}:void 0===n.data&&e.required_error?{message:e.required_error}:e.invalid_type_error?{message:e.invalid_type_error}:{message:n.defaultError}}}}var vf,gf=function(){function e(e){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=e,this.transform=this.transform.bind(this),this.default=this.default.bind(this)}return Object.defineProperty(e.prototype,"description",{get:function(){return this._def.description},enumerable:!1,configurable:!0}),e.prototype._processInputParams=function(e){return{status:new sf,ctx:Zp(Zp({},e.parent),{data:e.data,parsedType:tf(e.data,e.parent.typeCache),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent})}},e.prototype._parseSync=function(e){if(e=this._parse(e),ff(e))throw new Error("Synchronous parse encountered promise.");return e},e.prototype._parseAsync=function(e){return e=this._parse(e),Promise.resolve(e)},e.prototype.parse=function(e,t){if((t=this.safeParse(e,t)).success)return t.data;throw t.error},e.prototype.safeParse=function(e,t){return t={path:(null==t?void 0:t.path)||[],issues:[],contextualErrorMap:null==t?void 0:t.errorMap,schemaErrorMap:this._def.errorMap,async:null!==(t=null==t?void 0:t.async)&&void 0!==t&&t,typeCache:new Map,parent:null,data:e,parsedType:tf(e)},e=this._parseSync({data:e,path:t.path,parent:t}),hf(t,e)},e.prototype.parseAsync=function(e,t){return Fp(this,void 0,void 0,(function(){var n;return Vp(this,(function(r){switch(r.label){case 0:return[4,this.safeParseAsync(e,t)];case 1:if((n=r.sent()).success)return[2,n.data];throw n.error}}))}))},e.prototype.safeParseAsync=function(e,t){return Fp(this,void 0,void 0,(function(){var n,r;return Vp(this,(function(o){switch(o.label){case 0:return n={path:(null==t?void 0:t.path)||[],issues:[],contextualErrorMap:null==t?void 0:t.errorMap,schemaErrorMap:this._def.errorMap,async:!0,typeCache:new Map,parent:null,data:e,parsedType:tf(e)},r=this._parse({data:e,path:[],parent:n}),[4,ff(r)?r:Promise.resolve(r)];case 1:return r=o.sent(),[2,hf(n,r)]}}))}))},e.prototype.refine=function(e,t){return this._refinement((function(n,r){function o(){return r.addIssue(Zp({code:Kp.custom},"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(n):t))}var i=e(n);return i instanceof Promise?i.then((function(e){return!!e||(o(),!1)})):!!i||(o(),!1)}))},e.prototype.refinement=function(e,t){return this._refinement((function(n,r){return!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)}))},e.prototype._refinement=function(e){return new Jf({schema:this,typeName:Wf.ZodEffects,effect:{type:"refinement",refinement:e}})},e.prototype.optional=function(){return Yf.create(this)},e.prototype.nullable=function(){return Xf.create(this)},e.prototype.nullish=function(){return this.optional().nullable()},e.prototype.array=function(){return Cf.create(this)},e.prototype.promise=function(){return Qf.create(this)},e.prototype.or=function(e){return Nf.create([this,e])},e.prototype.and=function(e){return zf.create(this,e)},e.prototype.transform=function(e){return new Jf({schema:this,typeName:Wf.ZodEffects,effect:{type:"transform",transform:e}})},e.prototype.default=function(e){return new eh({innerType:this,defaultValue:"function"==typeof e?e:function(){return e},typeName:Wf.ZodDefault})},e.prototype.describe=function(e){return new this.constructor(Zp(Zp({},this._def),{description:e}))},e.prototype.isOptional=function(){return this.safeParse(void 0).success},e.prototype.isNullable=function(){return this.safeParse(null).success},e}(),yf=/^c[^\s-]{8,}$/i,bf=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[89ab][a-f0-9]{3}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,wf=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,_f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._regex=function(e,n,r){return t.refinement((function(t){return e.test(t)}),Zp({validation:n,code:Kp.invalid_string},of.errToObj(r)))},t.nonempty=function(e){return t.min(1,of.errToObj(e))},t}return $p(t,e),t.prototype._parse=function(e){var t,n,r=(e=this._processInputParams(e)).status,o=e.ctx;if(o.parsedType!==Xp.string)return rf(o,{code:Kp.invalid_type,expected:Xp.string,received:o.parsedType}),cf;try{for(var i=Hp(this._def.checks),a=i.next();!a.done;a=i.next()){var s=a.value;if("min"===s.kind)o.data.length<s.value&&(rf(o,{code:Kp.too_small,minimum:s.value,type:"string",inclusive:!0,message:s.message}),r.dirty());else if("max"===s.kind)o.data.length>s.value&&(rf(o,{code:Kp.too_big,maximum:s.value,type:"string",inclusive:!0,message:s.message}),r.dirty());else if("email"===s.kind)wf.test(o.data)||(rf(o,{validation:"email",code:Kp.invalid_string,message:s.message}),r.dirty());else if("uuid"===s.kind)bf.test(o.data)||(rf(o,{validation:"uuid",code:Kp.invalid_string,message:s.message}),r.dirty());else if("cuid"===s.kind)yf.test(o.data)||(rf(o,{validation:"cuid",code:Kp.invalid_string,message:s.message}),r.dirty());else if("url"===s.kind)try{new URL(o.data)}catch(e){rf(o,{validation:"url",code:Kp.invalid_string,message:s.message}),r.dirty()}else"regex"===s.kind&&(s.regex.lastIndex=0,s.regex.test(o.data)||(rf(o,{validation:"regex",code:Kp.invalid_string,message:s.message}),r.dirty()))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{status:r.value,value:o.data}},t.prototype._addCheck=function(e){return new t(Zp(Zp({},this._def),{checks:Gp(Gp([],Wp(this._def.checks),!1),[e],!1)}))},t.prototype.email=function(e){return this._addCheck(Zp({kind:"email"},of.errToObj(e)))},t.prototype.url=function(e){return this._addCheck(Zp({kind:"url"},of.errToObj(e)))},t.prototype.uuid=function(e){return this._addCheck(Zp({kind:"uuid"},of.errToObj(e)))},t.prototype.cuid=function(e){return this._addCheck(Zp({kind:"cuid"},of.errToObj(e)))},t.prototype.regex=function(e,t){return this._addCheck(Zp({kind:"regex",regex:e},of.errToObj(t)))},t.prototype.min=function(e,t){return this._addCheck(Zp({kind:"min",value:e},of.errToObj(t)))},t.prototype.max=function(e,t){return this._addCheck(Zp({kind:"max",value:e},of.errToObj(t)))},t.prototype.length=function(e,t){return this.min(e,t).max(e,t)},Object.defineProperty(t.prototype,"isEmail",{get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isURL",{get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUUID",{get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCUID",{get:function(){return!!this._def.checks.find((function(e){return"cuid"===e.kind}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minLength",{get:function(){var e=-1/0;return this._def.checks.map((function(t){"min"===t.kind&&(null===e||t.value>e)&&(e=t.value)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLength",{get:function(){var e=null;return this._def.checks.map((function(t){"max"===t.kind&&(null===e||t.value<e)&&(e=t.value)})),e},enumerable:!1,configurable:!0}),t.create=function(e){return new t(Zp({checks:[],typeName:Wf.ZodString},mf(e)))},t}(gf),xf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.min=t.gte,t.max=t.lte,t.step=t.multipleOf,t}return $p(t,e),t.prototype._parse=function(e){var t,n,r=(e=this._processInputParams(e)).status,o=e.ctx;if(o.parsedType!==Xp.number)return rf(o,{code:Kp.invalid_type,expected:Xp.number,received:o.parsedType}),cf;try{for(var i=Hp(this._def.checks),a=i.next();!a.done;a=i.next()){var s=a.value;"int"===s.kind?Bp.isInteger(o.data)||(rf(o,{code:Kp.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):"min"===s.kind?(s.inclusive?o.data<s.value:o.data<=s.value)&&(rf(o,{code:Kp.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,message:s.message}),r.dirty()):"max"===s.kind?(s.inclusive?o.data>s.value:o.data>=s.value)&&(rf(o,{code:Kp.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,message:s.message}),r.dirty()):"multipleOf"===s.kind?o.data%s.value!=0&&(rf(o,{code:Kp.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):Bp.assertNever(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{status:r.value,value:o.data}},t.prototype.gte=function(e,t){return this.setLimit("min",e,!0,of.toString(t))},t.prototype.gt=function(e,t){return this.setLimit("min",e,!1,of.toString(t))},t.prototype.lte=function(e,t){return this.setLimit("max",e,!0,of.toString(t))},t.prototype.lt=function(e,t){return this.setLimit("max",e,!1,of.toString(t))},t.prototype.setLimit=function(e,n,r,o){return new t(Zp(Zp({},this._def),{checks:Gp(Gp([],Wp(this._def.checks),!1),[{kind:e,value:n,inclusive:r,message:of.toString(o)}],!1)}))},t.prototype._addCheck=function(e){return new t(Zp(Zp({},this._def),{checks:Gp(Gp([],Wp(this._def.checks),!1),[e],!1)}))},t.prototype.int=function(e){return this._addCheck({kind:"int",message:of.toString(e)})},t.prototype.positive=function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:of.toString(e)})},t.prototype.negative=function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:of.toString(e)})},t.prototype.nonpositive=function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:of.toString(e)})},t.prototype.nonnegative=function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:of.toString(e)})},t.prototype.multipleOf=function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:of.toString(t)})},Object.defineProperty(t.prototype,"minValue",{get:function(){var e,t,n=null;try{for(var r=Hp(this._def.checks),o=r.next();!o.done;o=r.next()){var i=o.value;"min"===i.kind&&(null===n||i.value>n)&&(n=i.value)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){var e,t,n=null;try{for(var r=Hp(this._def.checks),o=r.next();!o.done;o=r.next()){var i=o.value;"max"===i.kind&&(null===n||i.value<n)&&(n=i.value)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInt",{get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind}))},enumerable:!1,configurable:!0}),t.create=function(e){return new t(Zp(Zp({checks:[],typeName:Wf.ZodNumber},mf(e)),mf(e)))},t}(gf),Ef=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType!==Xp.bigint?(rf(e,{code:Kp.invalid_type,expected:Xp.bigint,received:e.parsedType}),cf):uf(e.data)},t.create=function(e){return new t(Zp({typeName:Wf.ZodBigInt},mf(e)))},t}(gf),kf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType!==Xp.boolean?(rf(e,{code:Kp.invalid_type,expected:Xp.boolean,received:e.parsedType}),cf):uf(e.data)},t.create=function(e){return new t(Zp({typeName:Wf.ZodBoolean},mf(e)))},t}(gf),Sf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){var t;return e=(t=this._processInputParams(e)).status,(t=t.ctx).parsedType!==Xp.date?(rf(t,{code:Kp.invalid_type,expected:Xp.date,received:t.parsedType}),cf):isNaN(t.data.getTime())?(rf(t,{code:Kp.invalid_date}),cf):{status:e.value,value:new Date(t.data.getTime())}},t.create=function(e){return new t(Zp({typeName:Wf.ZodDate},mf(e)))},t}(gf),Of=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType!==Xp.undefined?(rf(e,{code:Kp.invalid_type,expected:Xp.undefined,received:e.parsedType}),cf):uf(e.data)},t.create=function(e){return new t(Zp({typeName:Wf.ZodUndefined},mf(e)))},t}(gf),Tf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType!==Xp.null?(rf(e,{code:Kp.invalid_type,expected:Xp.null,received:e.parsedType}),cf):uf(e.data)},t.create=function(e){return new t(Zp({typeName:Wf.ZodNull},mf(e)))},t}(gf),jf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._any=!0,t}return $p(t,e),t.prototype._parse=function(e){return e=this._processInputParams(e).ctx,uf(e.data)},t.create=function(e){return new t(Zp({typeName:Wf.ZodAny},mf(e)))},t}(gf),If=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._unknown=!0,t}return $p(t,e),t.prototype._parse=function(e){return e=this._processInputParams(e).ctx,uf(e.data)},t.create=function(e){return new t(Zp({typeName:Wf.ZodUnknown},mf(e)))},t}(gf),Af=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){return rf(e=this._processInputParams(e).ctx,{code:Kp.invalid_type,expected:Xp.never,received:e.parsedType}),cf},t.create=function(e){return new t(Zp({typeName:Wf.ZodNever},mf(e)))},t}(gf),Pf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType!==Xp.undefined?(rf(e,{code:Kp.invalid_type,expected:Xp.void,received:e.parsedType}),cf):uf(e.data)},t.create=function(e){return new t(Zp({typeName:Wf.ZodVoid},mf(e)))},t}(gf),Cf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){var t=(e=this._processInputParams(e)).status,n=e.ctx,r=this._def;return n.parsedType!==Xp.array?(rf(n,{code:Kp.invalid_type,expected:Xp.array,received:n.parsedType}),cf):(null!==r.minLength&&n.data.length<r.minLength.value&&(rf(n,{code:Kp.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,message:r.minLength.message}),t.dirty()),null!==r.maxLength&&n.data.length>r.maxLength.value&&(rf(n,{code:Kp.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,message:r.maxLength.message}),t.dirty()),n.async?Promise.all(n.data.map((function(e,t){return r.type._parseAsync({parent:n,path:Gp(Gp([],Wp(n.path),!1),[t],!1),data:e})}))).then((function(e){return sf.mergeArray(t,e)})):(e=n.data.map((function(e,t){return r.type._parseSync({parent:n,path:Gp(Gp([],Wp(n.path),!1),[t],!1),data:e})})),sf.mergeArray(t,e)))},Object.defineProperty(t.prototype,"element",{get:function(){return this._def.type},enumerable:!1,configurable:!0}),t.prototype.min=function(e,n){return new t(Zp(Zp({},this._def),{minLength:{value:e,message:of.toString(n)}}))},t.prototype.max=function(e,n){return new t(Zp(Zp({},this._def),{maxLength:{value:e,message:of.toString(n)}}))},t.prototype.length=function(e,t){return this.min(e,t).max(e,t)},t.prototype.nonempty=function(e){return this.min(1,e)},t.create=function(e,n){return new t(Zp({type:e,minLength:null,maxLength:null,typeName:Wf.ZodArray},mf(n)))},t}(gf);(vf||(vf={})).mergeShapes=function(e,t){return Zp(Zp({},e),t)};var Df=function(e){return function(t){return new Rf(Zp(Zp({},e),{shape:function(){return Zp(Zp({},e.shape()),t)}}))}};function Lf(e){if(e instanceof Rf){var t,n={};for(t in e.shape){var r=e.shape[t];n[t]=Yf.create(Lf(r))}return new Rf(Zp(Zp({},e._def),{shape:function(){return n}}))}return e instanceof Cf?Cf.create(Lf(e.element)):e instanceof Yf?Yf.create(Lf(e.unwrap())):e instanceof Xf?Xf.create(Lf(e.unwrap())):e instanceof Uf?Uf.create(e.items.map((function(e){return Lf(e)}))):e}var Rf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._cached=null,t.nonstrict=t.passthrough,t.augment=Df(t._def),t.extend=Df(t._def),t}return $p(t,e),t.prototype._getCached=function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=Bp.objectKeys(e);return this._cached={shape:e,keys:t}},t.prototype._parse=function(e){var t,n,r,o,i,a=this,s=(l=this._processInputParams(e)).status,c=l.ctx;if(c.parsedType!==Xp.object)return rf(c,{code:Kp.invalid_type,expected:Xp.object,received:c.parsedType}),cf;var u=(e=this._getCached()).shape,l=e.keys,d=(e=Bp.objectKeys(c.data).filter((function(e){return!(e in u)})),[]);try{for(var p=Hp(l),f=p.next();!f.done;f=p.next()){var h=f.value,m=u[h],v=c.data[h];d.push({key:{status:"valid",value:h},value:m._parse({parent:c,data:v,path:Gp(Gp([],Wp(c.path),!1),[h],!1)}),alwaysSet:h in c.data})}}catch(e){g={error:e}}finally{try{f&&!f.done&&(t=p.return)&&t.call(p)}finally{if(g)throw g.error}}if(this._def.catchall instanceof Af){var g=this._def.unknownKeys;if("passthrough"===g)try{for(var y=Hp(e),b=y.next();!b.done;b=y.next())h=b.value,d.push({key:{status:"valid",value:h},value:{status:"valid",value:c.data[h]}})}catch(e){n={error:e}}finally{try{b&&!b.done&&(r=y.return)&&r.call(y)}finally{if(n)throw n.error}}else if("strict"===g)0<e.length&&(rf(c,{code:Kp.unrecognized_keys,keys:e}),s.dirty());else if("strip"!==g)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var w=this._def.catchall;try{for(var _=Hp(e),x=_.next();!x.done;x=_.next())h=x.value,v=c.data[h],d.push({key:{status:"valid",value:h},value:w._parse({parent:c,path:Gp(Gp([],Wp(c.path),!1),[h],!1),data:v}),alwaysSet:h in c.data})}catch(e){o={error:e}}finally{try{x&&!x.done&&(i=_.return)&&i.call(_)}finally{if(o)throw o.error}}}return c.async?Promise.resolve().then((function(){return Fp(a,void 0,void 0,(function(){var e,t,n,r,o,i,a,s,c;return Vp(this,(function(u){switch(u.label){case 0:e=[],u.label=1;case 1:u.trys.push([1,7,8,9]),t=Hp(d),n=t.next(),u.label=2;case 2:return n.done?[3,6]:[4,(r=n.value).key];case 3:return c=u.sent(),i=(o=e).push,c={key:c},[4,r.value];case 4:i.apply(o,[(c.value=u.sent(),c.alwaysSet=r.alwaysSet,c)]),u.label=5;case 5:return n=t.next(),[3,2];case 6:return[3,9];case 7:return a={error:a=u.sent()},[3,9];case 8:try{n&&!n.done&&(s=t.return)&&s.call(t)}finally{if(a)throw a.error}return[7];case 9:return[2,e]}}))}))})).then((function(e){return sf.mergeObjectSync(s,e)})):sf.mergeObjectSync(s,d)},Object.defineProperty(t.prototype,"shape",{get:function(){return this._def.shape()},enumerable:!1,configurable:!0}),t.prototype.strict=function(e){var n=this;return of.errToObj,new t(Zp(Zp(Zp({},this._def),{unknownKeys:"strict"}),void 0!==e?{errorMap:function(t,r){var o,i;return r=null!==(i=null===(o=(i=n._def).errorMap)||void 0===o?void 0:o.call(i,t,r).message)&&void 0!==i?i:r.defaultError,"unrecognized_keys"===t.code?{message:null!==(t=of.errToObj(e).message)&&void 0!==t?t:r}:{message:r}}}:{}))},t.prototype.strip=function(){return new t(Zp(Zp({},this._def),{unknownKeys:"strip"}))},t.prototype.passthrough=function(){return new t(Zp(Zp({},this._def),{unknownKeys:"passthrough"}))},t.prototype.setKey=function(e,t){var n;return this.augment(((n={})[e]=t,n))},t.prototype.merge=function(e){var n=vf.mergeShapes(this._def.shape(),e._def.shape());return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return n},typeName:Wf.ZodObject})},t.prototype.catchall=function(e){return new t(Zp(Zp({},this._def),{catchall:e}))},t.prototype.pick=function(e){var n=this,r={};return Bp.objectKeys(e).map((function(e){r[e]=n.shape[e]})),new t(Zp(Zp({},this._def),{shape:function(){return r}}))},t.prototype.omit=function(e){var n=this,r={};return Bp.objectKeys(this.shape).map((function(t){-1===Bp.objectKeys(e).indexOf(t)&&(r[t]=n.shape[t])})),new t(Zp(Zp({},this._def),{shape:function(){return r}}))},t.prototype.deepPartial=function(){return Lf(this)},t.prototype.partial=function(e){var n,r=this,o={};if(e)return Bp.objectKeys(this.shape).map((function(t){-1===Bp.objectKeys(e).indexOf(t)?o[t]=r.shape[t]:o[t]=r.shape[t].optional()})),new t(Zp(Zp({},this._def),{shape:function(){return o}}));for(n in this.shape){var i=this.shape[n];o[n]=i.optional()}return new t(Zp(Zp({},this._def),{shape:function(){return o}}))},t.prototype.required=function(){var e,n={};for(e in this.shape){for(var r=this.shape[e];r instanceof Yf;)r=r._def.innerType;n[e]=r}return new t(Zp(Zp({},this._def),{shape:function(){return n}}))},t.create=function(e,n){return new t(Zp({shape:function(){return e},unknownKeys:"strip",catchall:Af.create(),typeName:Wf.ZodObject},mf(n)))},t.strictCreate=function(e,n){return new t(Zp({shape:function(){return e},unknownKeys:"strict",catchall:Af.create(),typeName:Wf.ZodObject},mf(n)))},t.lazycreate=function(e,n){return new t(Zp({shape:e,unknownKeys:"strip",catchall:Af.create(),typeName:Wf.ZodObject},mf(n)))},t}(gf),Nf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){var t=this,n=this._processInputParams(e).ctx;function r(e){var t,r,o,i,a;try{for(var s=Hp(e),c=s.next();!c.done;c=s.next())if("valid"===(u=c.value).result.status)return u.result}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}try{for(var u,l=Hp(e),d=l.next();!d.done;d=l.next())if("dirty"===(u=d.value).result.status)return(a=n.issues).push.apply(a,Gp([],Wp(u.ctx.issues),!1)),u.result}catch(e){o={error:e}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}return e=e.map((function(e){return new Qp(e.ctx.issues)})),rf(n,{code:Kp.invalid_union,unionErrors:e}),cf}return e=this._def.options,n.async?Promise.all(e.map((function(e){return Fp(t,void 0,void 0,(function(){var t,r;return Vp(this,(function(o){switch(o.label){case 0:return t=Zp(Zp({},n),{issues:[],parent:null}),r={},[4,e._parseAsync({data:n.data,path:n.path,parent:t})];case 1:return[2,(r.result=o.sent(),r.ctx=t,r)]}}))}))}))).then(r):r(e.map((function(e){var t=Zp(Zp({},n),{issues:[],parent:null});return{result:e._parseSync({data:n.data,path:n.path,parent:t}),ctx:t}})))},Object.defineProperty(t.prototype,"options",{get:function(){return this._def.options},enumerable:!1,configurable:!0}),t.create=function(e,n){return new t(Zp({options:e,typeName:Wf.ZodUnion},mf(n)))},t}(gf);function Mf(e,t){var n,r,o=tf(e),i=tf(t);if(e===t)return{valid:!0,data:e};if(o===Xp.object&&i===Xp.object){var a=Bp.objectKeys(t),s=Bp.objectKeys(e).filter((function(e){return-1!==a.indexOf(e)})),c=Zp(Zp({},e),t);try{for(var u=Hp(s),l=u.next();!l.done;l=u.next()){var d=l.value;if(!(p=Mf(e[d],t[d])).valid)return{valid:!1};c[d]=p.data}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return{valid:!0,data:c}}if(o!==Xp.array||i!==Xp.array)return{valid:!1};if(e.length!==t.length)return{valid:!1};for(var p,f=[],h=0;h<e.length;h++){if(!(p=Mf(e[h],t[h])).valid)return{valid:!1};f.push(p.data)}return{valid:!0,data:f}}var zf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){function t(e,t){if(lf(e)||lf(t))return cf;var o=Mf(e.value,t.value);return o.valid?((df(e)||df(t))&&n.dirty(),{status:n.value,value:o.data}):(rf(r,{code:Kp.invalid_intersection_types}),cf)}var n=(e=this._processInputParams(e)).status,r=e.ctx;return r.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((function(e){var n;return t(e=(n=Wp(e,2))[0],n=n[1])})):t(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))},t.create=function(e,n,r){return new t(Zp({left:e,right:n,typeName:Wf.ZodIntersection},mf(r)))},t}(gf),Uf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){var t=this,n=(e=this._processInputParams(e)).status,r=e.ctx;return r.parsedType!==Xp.array?(rf(r,{code:Kp.invalid_type,expected:Xp.array,received:r.parsedType}),cf):r.data.length<this._def.items.length?(rf(r,{code:Kp.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),cf):(!this._def.rest&&r.data.length>this._def.items.length&&(rf(r,{code:Kp.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),n.dirty()),e=r.data.map((function(e,n){var o=t._def.items[n]||t._def.rest;return o?o._parse({data:e,path:Gp(Gp([],Wp(r.path),!1),[n],!1),parent:r}):null})).filter((function(e){return!!e})),r.async?Promise.all(e).then((function(e){return sf.mergeArray(n,e)})):sf.mergeArray(n,e))},Object.defineProperty(t.prototype,"items",{get:function(){return this._def.items},enumerable:!1,configurable:!0}),t.prototype.rest=function(e){return new t(Zp(Zp({},this._def),{rest:e}))},t.create=function(e,n){return new t(Zp({items:e,typeName:Wf.ZodTuple,rest:null},mf(n)))},t}(gf),$f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),Object.defineProperty(t.prototype,"keySchema",{get:function(){return this._def.keyType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"valueSchema",{get:function(){return this._def.valueType},enumerable:!1,configurable:!0}),t.prototype._parse=function(e){var t=this._processInputParams(e),n=(e=t.status,t.ctx);if(n.parsedType!==Xp.object)return rf(n,{code:Kp.invalid_type,expected:Xp.object,received:n.parsedType}),cf;var r,o=[],i=this._def.keyType,a=this._def.valueType;for(r in n.data)o.push({key:i._parse({data:r,path:Gp(Gp([],Wp(n.path),!1),[r],!1),parent:n}),value:a._parse({data:n.data[r],path:Gp(Gp([],Wp(n.path),!1),[r],!1),parent:n})});return n.async?sf.mergeObjectAsync(e,o):sf.mergeObjectSync(e,o)},Object.defineProperty(t.prototype,"element",{get:function(){return this._def.valueType},enumerable:!1,configurable:!0}),t.create=function(e,n,r){return new t(n instanceof gf?Zp({keyType:e,valueType:n,typeName:Wf.ZodRecord},mf(r)):Zp({keyType:_f.create(),valueType:e,typeName:Wf.ZodRecord},mf(n)))},t}(gf),Bf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){var t,n,r=this,o=(e=this._processInputParams(e)).status,i=e.ctx;if(i.parsedType!==Xp.map)return rf(i,{code:Kp.invalid_type,expected:Xp.map,received:i.parsedType}),cf;var a=this._def.keyType,s=this._def.valueType,c=Gp([],Wp(i.data.entries()),!1).map((function(e,t){e=(n=Wp(e,2))[0];var n=n[1];return{key:a._parse({data:e,path:Gp(Gp([],Wp(i.path),!1),[t,"key"],!1),parent:i}),value:s._parse({data:n,path:Gp(Gp([],Wp(i.path),!1),[t,"value"],!1),parent:i})}}));if(i.async){var u=new Map;return Promise.resolve().then((function(){return Fp(r,void 0,void 0,(function(){var e,t,n,r,i,a,s;return Vp(this,(function(l){switch(l.label){case 0:l.trys.push([0,6,7,8]),e=Hp(c),t=e.next(),l.label=1;case 1:return t.done?[3,5]:[4,(n=t.value).key];case 2:return r=l.sent(),[4,n.value];case 3:if(i=l.sent(),"aborted"===r.status||"aborted"===i.status)return[2,cf];"dirty"!==r.status&&"dirty"!==i.status||o.dirty(),u.set(r.value,i.value),l.label=4;case 4:return t=e.next(),[3,1];case 5:return[3,8];case 6:return a={error:a=l.sent()},[3,8];case 7:try{t&&!t.done&&(s=e.return)&&s.call(e)}finally{if(a)throw a.error}return[7];case 8:return[2,{status:o.value,value:u}]}}))}))}))}var l=new Map;try{for(var d=Hp(c),p=d.next();!p.done;p=d.next()){var f=p.value,h=f.key,m=f.value;if("aborted"===h.status||"aborted"===m.status)return cf;"dirty"!==h.status&&"dirty"!==m.status||o.dirty(),l.set(h.value,m.value)}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return{status:o.value,value:l}},t.create=function(e,n,r){return new t(Zp({valueType:n,keyType:e,typeName:Wf.ZodMap},mf(r)))},t}(gf),qf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){var t=(e=this._processInputParams(e)).status,n=e.ctx;if(n.parsedType!==Xp.set)return rf(n,{code:Kp.invalid_type,expected:Xp.set,received:n.parsedType}),cf;var r=this._def.valueType;function o(e){var n,r,o=new Set;try{for(var i=Hp(e),a=i.next();!a.done;a=i.next()){var s=a.value;if("aborted"===s.status)return cf;"dirty"===s.status&&t.dirty(),o.add(s.value)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return{status:t.value,value:o}}return e=Gp([],Wp(n.data.values()),!1).map((function(e,t){return r._parse({data:e,path:Gp(Gp([],Wp(n.path),!1),[t],!1),parent:n})})),n.async?Promise.all(e).then(o):o(e)},t.create=function(e,n){return new t(Zp({valueType:e,typeName:Wf.ZodSet},mf(n)))},t}(gf),Zf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.validate=t.implement,t}return $p(t,e),t.prototype._parse=function(e){var t=this,n=this._processInputParams(e).ctx;if(n.parsedType!==Xp.function)return rf(n,{code:Kp.invalid_type,expected:Xp.function,received:n.parsedType}),cf;function r(e,t){return nf({data:e,path:n.path,errorMaps:[n.contextualErrorMap,n.schemaErrorMap,Yp,Jp].filter((function(e){return!!e})),issueData:{code:Kp.invalid_arguments,argumentsError:t}})}function o(e,t){return nf({data:e,path:n.path,errorMaps:[n.contextualErrorMap,n.schemaErrorMap,Yp,Jp].filter((function(e){return!!e})),issueData:{code:Kp.invalid_return_type,returnTypeError:t}})}var i={errorMap:n.contextualErrorMap},a=n.data;return this._def.returns instanceof Qf?uf((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Fp(t,void 0,void 0,(function(){var t,n,s;return Vp(this,(function(c){switch(c.label){case 0:return t=new Qp([]),[4,this._def.args.parseAsync(e,i).catch((function(n){throw t.addIssue(r(e,n)),t}))];case 1:return n=c.sent(),[4,a.apply(void 0,Gp([],Wp(n),!1))];case 2:return s=c.sent(),[4,this._def.returns._def.type.parseAsync(s,i).catch((function(e){throw t.addIssue(o(s,e)),t}))];case 3:return[2,c.sent()]}}))}))})):uf((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!(s=t._def.args.safeParse(e,i)).success)throw new Qp([r(e,s.error)]);var s,c=a.apply(void 0,Gp([],Wp(s.data),!1));if(!(s=t._def.returns.safeParse(c,i)).success)throw new Qp([o(c,s.error)]);return s.data}))},t.prototype.parameters=function(){return this._def.args},t.prototype.returnType=function(){return this._def.returns},t.prototype.args=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new t(Zp(Zp({},this._def),{args:Uf.create(e).rest(If.create())}))},t.prototype.returns=function(e){return new t(Zp(Zp({},this._def),{returns:e}))},t.prototype.implement=function(e){return this.parse(e)},t.prototype.strictImplement=function(e){return this.parse(e)},t.create=function(e,n,r){return new t(Zp({args:(e||Uf.create([])).rest(If.create()),returns:n||If.create(),typeName:Wf.ZodFunction},mf(r)))},t}(gf),Ff=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),Object.defineProperty(t.prototype,"schema",{get:function(){return this._def.getter()},enumerable:!1,configurable:!0}),t.prototype._parse=function(e){return e=this._processInputParams(e).ctx,this._def.getter()._parse({data:e.data,path:e.path,parent:e})},t.create=function(e,n){return new t(Zp({getter:e,typeName:Wf.ZodLazy},mf(n)))},t}(gf),Vf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){var t;return e=(t=this._processInputParams(e)).status,(t=t.ctx).data!==this._def.value?(rf(t,{code:Kp.invalid_type,expected:this._def.value,received:t.data}),cf):{status:e.value,value:t.data}},Object.defineProperty(t.prototype,"value",{get:function(){return this._def.value},enumerable:!1,configurable:!0}),t.create=function(e,n){return new t(Zp({value:e,typeName:Wf.ZodLiteral},mf(n)))},t}(gf);function Hf(e){return new Gf({values:e,typeName:Wf.ZodEnum})}var Wf,Gf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){return e=this._processInputParams(e).ctx,-1===this._def.values.indexOf(e.data)?(rf(e,{code:Kp.invalid_enum_value,options:this._def.values}),cf):uf(e.data)},Object.defineProperty(t.prototype,"options",{get:function(){return this._def.values},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enum",{get:function(){var e,t,n={};try{for(var r=Hp(this._def.values),o=r.next();!o.done;o=r.next()){var i=o.value;n[i]=i}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Values",{get:function(){var e,t,n={};try{for(var r=Hp(this._def.values),o=r.next();!o.done;o=r.next()){var i=o.value;n[i]=i}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Enum",{get:function(){var e,t,n={};try{for(var r=Hp(this._def.values),o=r.next();!o.done;o=r.next()){var i=o.value;n[i]=i}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),t.create=Hf,t}(gf),Kf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return-1===(e=Bp.getValidEnumValues(this._def.values)).indexOf(t.data)?(rf(t,{code:Kp.invalid_enum_value,options:Bp.objectValues(e)}),cf):uf(t.data)},t.create=function(e,n){return new t(Zp({values:e,typeName:Wf.ZodNativeEnum},mf(n)))},t}(gf),Qf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){var t=this,n=this._processInputParams(e).ctx;return n.parsedType!==Xp.promise&&!1===n.async?(rf(n,{code:Kp.invalid_type,expected:Xp.promise,received:n.parsedType}),cf):(e=n.parsedType===Xp.promise?n.data:Promise.resolve(n.data),uf(e.then((function(e){return t._def.type.parseAsync(e,{path:n.path,errorMap:n.contextualErrorMap})}))))},t.create=function(e,n){return new t(Zp({type:e,typeName:Wf.ZodPromise},mf(n)))},t}(gf),Jf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype.innerType=function(){return this._def.schema},t.prototype._parse=function(e){var t=this,n=(e=this._processInputParams(e)).status,r=e.ctx,o=this._def.effect||null;if("preprocess"===o.type)return e=o.transform(r.data),r.async?Promise.resolve(e).then((function(e){return t._def.schema._parseAsync({data:e,path:r.path,parent:r})})):this._def.schema._parseSync({data:e,path:r.path,parent:r});if("refinement"===o.type){var i={addIssue:function(e){rf(r,e),e.fatal?n.abort():n.dirty()},get path(){return r.path}};function s(e){var t=o.refinement(e,i);if(r.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e}if(i.addIssue=i.addIssue.bind(i),!1!==r.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((function(e){return"aborted"===e.status?cf:("dirty"===e.status&&n.dirty(),s(e.value).then((function(){return{status:n.value,value:e.value}})))}));var a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===a.status?cf:("dirty"===a.status&&n.dirty(),s(a.value),{status:n.value,value:a.value})}if("transform"===o.type){if(!1!==r.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((function(e){return pf(e)?Promise.resolve(o.transform(e.value)).then(uf):e}));if(a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r}),!pf(a))return a;if((a=o.transform(a.value))instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return uf(a)}Bp.assertNever(o)},t.create=function(e,n,r){return new t(Zp({schema:e,typeName:Wf.ZodEffects,effect:n},mf(r)))},t.createWithPreprocess=function(e,n,r){return new t(Zp({schema:n,effect:{type:"preprocess",transform:e},typeName:Wf.ZodEffects},mf(r)))},t}(gf),Yf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType===Xp.undefined?uf(void 0):this._def.innerType._parse({data:e.data,path:e.path,parent:e})},t.prototype.unwrap=function(){return this._def.innerType},t.create=function(e,n){return new t(Zp({innerType:e,typeName:Wf.ZodOptional},mf(n)))},t}(gf),Xf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){return(e=this._processInputParams(e).ctx).parsedType===Xp.null?uf(null):this._def.innerType._parse({data:e.data,path:e.path,parent:e})},t.prototype.unwrap=function(){return this._def.innerType},t.create=function(e,n){return new t(Zp({innerType:e,typeName:Wf.ZodNullable},mf(n)))},t}(gf),eh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $p(t,e),t.prototype._parse=function(e){var t=this._processInputParams(e).ctx;return e=t.data,t.parsedType===Xp.undefined&&(e=this._def.defaultValue()),this._def.innerType._parse({data:e,path:t.path,parent:t})},t.prototype.removeDefault=function(){return this._def.innerType},t.create=function(e,t){return new Yf(Zp({innerType:e,typeName:Wf.ZodOptional},mf(t)))},t}(gf),th=function(e,t){return e?jf.create().refine(e,t):jf.create()},nh={object:Rf.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodPromise="ZodPromise"}(Wf=Wf||{});var rh=_f.create,oh=xf.create,ih=Ef.create,ah=kf.create,sh=Sf.create,ch=Of.create,uh=Tf.create,lh=jf.create,dh=If.create,ph=Af.create,fh=Pf.create,hh=Cf.create,mh=Rf.create,vh=Rf.strictCreate,gh=Nf.create,yh=zf.create,bh=Uf.create,wh=$f.create,_h=Bf.create,xh=qf.create,Eh=Zf.create,kh=Ff.create,Sh=Vf.create,Oh=Gf.create,Th=Kf.create,jh=Qf.create,Ih=Jf.create,Ah=Yf.create,Ph=Xf.create,Ch=Jf.createWithPreprocess,Dh=Object.freeze({__proto__:null,ZodParsedType:Xp,getParsedType:tf,makeIssue:nf,EMPTY_PATH:[],addIssueToContext:rf,ParseStatus:sf,INVALID:cf,DIRTY:function(e){return{status:"dirty",value:e}},OK:uf,isAborted:lf,isDirty:df,isValid:pf,isAsync:ff,ZodType:gf,ZodString:_f,ZodNumber:xf,ZodBigInt:Ef,ZodBoolean:kf,ZodDate:Sf,ZodUndefined:Of,ZodNull:Tf,ZodAny:jf,ZodUnknown:If,ZodNever:Af,ZodVoid:Pf,ZodArray:Cf,get objectUtil(){return vf},ZodObject:Rf,ZodUnion:Nf,ZodIntersection:zf,ZodTuple:Uf,ZodRecord:$f,ZodMap:Bf,ZodSet:qf,ZodFunction:Zf,ZodLazy:Ff,ZodLiteral:Vf,ZodEnum:Gf,ZodNativeEnum:Kf,ZodPromise:Qf,ZodEffects:Jf,ZodTransformer:Jf,ZodOptional:Yf,ZodNullable:Xf,ZodDefault:eh,custom:th,Schema:gf,ZodSchema:gf,late:nh,get ZodFirstPartyTypeKind(){return Wf},any:lh,array:hh,bigint:ih,boolean:ah,date:sh,effect:Ih,enum:Oh,function:Eh,instanceof:function(e,t){return void 0===t&&(t={message:"Input not instance of "+e.name}),th((function(t){return t instanceof e}),t)},intersection:yh,lazy:kh,literal:Sh,map:_h,nativeEnum:Th,never:ph,null:uh,nullable:Ph,number:oh,object:mh,oboolean:function(){return ah().optional()},onumber:function(){return oh().optional()},optional:Ah,ostring:function(){return rh().optional()},preprocess:Ch,promise:jh,record:wh,set:xh,strictObject:vh,string:rh,transformer:Ih,tuple:bh,undefined:ch,union:gh,unknown:dh,void:fh,ZodIssueCode:Kp,quotelessJson:function(e){return JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")},ZodError:Qp,defaultErrorMap:Jp,get overrideErrorMap(){return Yp},setErrorMap:function(e){Yp=e}});const Lh=Dh.union([Dh.literal("block"),Dh.literal("inline"),Dh.literal("inline_left"),Dh.literal("inline_right"),Dh.literal("inline_left_right"),Dh.literal("generated")]),Rh=Dh.union([Dh.literal("before"),Dh.literal("after"),Dh.literal("prepend"),Dh.literal("append")]),Nh=Dh.union([Dh.literal("above"),Dh.literal("below")]),Mh=Dh.union([Dh.literal("mpu"),Dh.literal("dmpu"),Dh.literal("leaderboard"),Dh.literal("sponsored-post"),Dh.literal("sponsored-brand")]),zh=Dh.union([Dh.literal("standard"),Dh.literal("incremental"),Dh.literal("skyscraper"),Dh.literal("anchored"),Dh.literal("native"),Dh.literal("oop"),Dh.literal("sponsored"),Dh.literal("interstitial")]),Uh=Dh.object({refreshTime:Dh.number().optional(),adUnitNameInPath:Dh.string().optional(),adDensity:Dh.object({avoidanceDistance:Dh.number()}).optional()}),$h=Dh.object({text:Dh.string().optional(),style:Dh.string().optional(),position:Nh.optional().default("above"),backgroundColor:Dh.string().optional()}),Bh=Dh.object({multiple:Dh.string().optional(),dynamicRoot:Dh.string().optional(),category:Dh.string().optional(),ignoreExclusion:Dh.string().optional(),fluid:Dh.string().optional(),allowList:Dh.string().optional(),additionalAvoidance:Dh.string().optional(),generatedMaximumSlots:Dh.number().optional(),generatedMinimumSlots:Dh.number().optional(),generatedEndSelector:Dh.string().optional(),generatedSlotHeight:Dh.number().optional(),generatedSlotGap:Dh.number().optional()}),qh=Dh.record(Dh.string()),Zh=Dh.object({config:Bh.optional().default({}),label:$h.optional().default({}),style:qh.optional().default({}),generatedContainerStyle:qh.optional().default({}),generatedSpacerStyle:qh.optional().default({})}),Fh=Dh.object({name:Dh.string(),hook:Dh.string(),type:Lh,position:Rh,size:Dh.object({w:Dh.number(),h:Dh.number()}),multiple:Dh.boolean().optional(),style:Dh.record(Dh.string()).optional(),reserved:Dh.boolean().optional(),properties:Zh.partial().nullable()}),Vh=Dh.string(),Hh=Dh.record(Vh),Wh=Dh.object({category:Mh.optional(),slotAffinity:Dh.string().optional(),refresh:Dh.string().optional(),lazyload:Dh.string().optional(),shrinkWrap:Dh.string().optional(),position:Dh.union([Dh.literal("left"),Dh.literal("right")]).optional(),centerVertically:Dh.string().optional(),topPosition:Dh.number().optional(),centerHorizontally:Dh.string().optional(),disabledCountries:Dh.string().optional(),enabledCountries:Dh.string().optional(),addFluidSize:Dh.string().optional(),closeButton:Dh.string().optional(),fluid:Dh.string().optional(),rules:Dh.string().optional(),refreshDisable:Dh.string().optional(),hook:Dh.string().optional(),stayInSlot:Dh.string().optional(),doNotRestrict:Dh.string().optional(),ignoreAvoidance:Dh.string().optional(),inRoadblock:Dh.string().optional()}),Gh=Dh.object({name:Dh.string(),sizes:Dh.array(Dh.object({w:Dh.number(),h:Dh.number()})),type:zh,slotAffinity:Dh.string().optional(),stayInSlot:Dh.boolean().optional(),lazyload:Dh.boolean().optional(),targeting:Dh.record(Dh.array(Dh.string()).or(Dh.string())).optional().default({}),properties:Wh.nullish().default({})}),Kh=Dh.object({id:Dh.number().default(-1),platformId:Dh.number().default(-1),linkedIds:Dh.array(Dh.number()).default([]),siteAdUnitPath:Dh.string().default(""),placementAdUnitPath:Dh.string().default(""),slots:Dh.array(Fh).default([]),adunits:Dh.array(Gh).default([]),settings:Uh.default({})}),Qh=Dh.record(Dh.union([Dh.number(),Dh.array(Dh.record(Dh.unknown()))])).default({}),Jh=Dh.object({message:Dh.string().optional()}).default({}),Yh=Dh.object({adServer:Dh.object({enabled:Dh.boolean().default(!1)}),amazon:Dh.object({enabled:Dh.boolean().default(!1)}),amClio:Dh.object({enabled:Dh.boolean().default(!1)}),ias:Dh.object({enabled:Dh.boolean().default(!1)}),indexExchange:Dh.object({enabled:Dh.boolean().default(!1),id:Dh.string().default(""),mode:Dh.union([Dh.literal("standard"),Dh.literal("custom")]).default("standard")}),liveRamp:Dh.object({enabled:Dh.boolean().default(!1),configurationId:Dh.string().default("")}),pubmatic:Dh.object({enabled:Dh.boolean().default(!1),profileId:Dh.string().default("")})}),Xh=Dh.object({id:Dh.number(),server:Dh.string(),ts:Dh.number(),debug:Qh.default({}),error:Jh,placement:Kh,targeting:Hh,config:Yh}).strip().partial(),em={w:0,h:0},tm=(e,t)=>t.w>e.w?t:e,nm=(e,t)=>t.h>e.h?t:e;function rm(e){var t,n,r,o;const i=st().toLowerCase();if(null===(t=e.properties)||void 0===t?void 0:t.enabledCountries){const t=null===(n=e.properties)||void 0===n?void 0:n.enabledCountries.toLowerCase().split(",").map((e=>e.trim()));if(-1===t.indexOf(i))return!1}if(null===(r=e.properties)||void 0===r?void 0:r.disabledCountries){const t=null===(o=e.properties)||void 0===o?void 0:o.disabledCountries.toLowerCase().split(",").map((e=>e.trim()));if(t.indexOf(i)>-1)return!1}return!0}function om(e,t,n){var r,o,i,a,s,c,u,l,d,p,f,h,m,v,g,y,b,w,_,x,E,k;const S=n;if((null===(r=e.properties)||void 0===r?void 0:r.category)&&(S.category=null===(o=e.properties)||void 0===o?void 0:o.category),(null===(i=e.properties)||void 0===i?void 0:i.position)&&(S.position=null===(a=e.properties)||void 0===a?void 0:a.position),(null===(s=e.properties)||void 0===s?void 0:s.refreshDisable)&&(S.refreshDisabled="true"===(null===(c=e.properties)||void 0===c?void 0:c.refreshDisable)),(null===(u=e.properties)||void 0===u?void 0:u.centerVertically)&&(S.verticallyCentered="true"===(null===(l=e.properties)||void 0===l?void 0:l.centerVertically)),(null===(d=e.properties)||void 0===d?void 0:d.topPosition)&&(S.topPosition=null===(p=e.properties)||void 0===p?void 0:p.topPosition),"true"===(null===(f=e.properties)||void 0===f?void 0:f.refresh)&&t.refreshTime&&(S.refresh=t.refreshTime),"true"===(null===(h=e.properties)||void 0===h?void 0:h.addFluidSize)&&S.dfp.sizes&&S.dfp.sizes.push("fluid"),"true"===(null===(m=e.properties)||void 0===m?void 0:m.fluid)&&(n.fluid="true"===(null===(v=e.properties)||void 0===v?void 0:v.fluid)),"true"===(null===(g=e.properties)||void 0===g?void 0:g.ignoreAvoidance)&&(n.ignoreCategoryAvoidance="true"===(null===(y=e.properties)||void 0===y?void 0:y.ignoreAvoidance)),"true"===(null===(b=e.properties)||void 0===b?void 0:b.closeButton)&&(n.closeButton="true"===(null===(w=e.properties)||void 0===w?void 0:w.closeButton)),"true"===(null===(_=e.properties)||void 0===_?void 0:_.inRoadblock)&&(n.inRoadblock="true"===(null===(x=e.properties)||void 0===x?void 0:x.inRoadblock)),null===(E=e.properties)||void 0===E?void 0:E.rules)try{S.categoryAvoidanceRules=JSON.parse(null===(k=e.properties)||void 0===k?void 0:k.rules)}catch(t){je.error(`Invalid JSON structure for rules of ad unit ${e.name}`)}return S}function im(e,t){return()=>{if(!e.placement)return[];const n=e.placement.adunits.filter((e=>"incremental"!==e.type)).filter(rm).map((n=>{var r;let o={mode:"standard"===n.type||"incremental"===n.type||"native"===n.type||"sponsored"===n.type?"slotify":n.type,name:n.name,width:n.sizes.reduce(tm,em).w,height:n.sizes.reduce(nm,em).h,affinitySlotID:n.slotAffinity,lazyload:n.lazyload,dfp:{sizes:n.sizes.map((e=>[e.w,e.h])),targeting:Object.assign(Object.assign({},n.targeting),{adUnitName:[n.name]})},adUnitPath:t(n.name)};return o=om(n,(null===(r=e.placement)||void 0===r?void 0:r.settings)||{},o),"sponsored"===n.type&&(o.category="sponsored-post",o.fluid=!0),o}));return n}}function am(e,t){let n=0;const r={},o="${autoincrement}",i=e=>{const t={};return Object.entries(e.targeting).forEach((([n,i])=>{Array.isArray(i)&&(t[n]=i.map((t=>{if(t.includes(o)){r[e.name]||(r[e.name]={}),r[e.name][n]||(r[e.name][n]=1);const i=t.replace(o,r[e.name][n].toString());return r[e.name][n]++,i}return t})))})),t};return()=>{var r;if(!e.placement)return[];const o=null===(r=e.placement)||void 0===r?void 0:r.adunits.filter((e=>"incremental"===e.type)).filter(rm).map((r=>{var o;const a={mode:"slotify",name:`${r.name}${n}`,width:r.sizes.reduce(tm,em).w,height:r.sizes.reduce(nm,em).h,dfp:{sizes:r.sizes.map((e=>[e.w,e.h])),targeting:Object.assign(Object.assign({},i(r)),{adUnitName:[`${r.name}${n}`]})},adUnitPath:t(`${r.name}-${Math.min(10,n)}`)};return om(r,(null===(o=e.placement)||void 0===o?void 0:o.settings)||{},a),a}));return n+=1,o}}const sm=y(),cm={page_background:()=>sm.getComputedStyle(document.body,null).getPropertyValue("background-color"),page_text:()=>sm.getComputedStyle(document.body,null).getPropertyValue("color")},um=(e,t)=>Object.fromEntries(Object.entries(e).map((([e,n])=>[e,t.reduce(((e,[t,n])=>null==e?void 0:e.replace(new RegExp(t,"gmi"),n)),n)]))),lm=/^\/+|\/+$/g,dm=(e="")=>e.replace(lm,""),pm=function(e){var t,n,r,o,i,a;const s={id:-1,platformId:-1,adUnitPath:"",linkedIds:[],adUnits:{preemptive:()=>[],incremental:()=>[]},slots:{static:[],dynamic:[],generated:[]},settings:{}},c=Nd(),u=`/${[null===(t=e.placement)||void 0===t?void 0:t.siteAdUnitPath,...c?[c]:[],null===(n=e.placement)||void 0===n?void 0:n.placementAdUnitPath].map(dm).join("/")}`;return s.id=(null===(r=e.placement)||void 0===r?void 0:r.id)||s.id,s.platformId=(null===(o=e.placement)||void 0===o?void 0:o.platformId)||s.platformId,s.adUnitPath=u,s.linkedIds=(null===(i=e.placement)||void 0===i?void 0:i.linkedIds)||s.linkedIds,s.slots=function(e){var t;const n={static:[],dynamic:[],generated:[]};return Object.values((null===(t=e.placement)||void 0===t?void 0:t.slots)||{}).forEach((e=>{var t,r,o,i;if(null===(r=null===(t=e.properties)||void 0===t?void 0:t.label)||void 0===r?void 0:r.backgroundColor){const t=(null===(i=null===(o=e.properties)||void 0===o?void 0:o.label)||void 0===i?void 0:i.style)||"";e.properties.label.style=t.concat(" backgroundColor: ",e.properties.label.backgroundColor)}n.static.push(...function(e){var t,n;const{properties:r,size:o=!1}=e,i=E(e,["properties","size"]);if("generated"===i.type.toLowerCase())return[];if(null===(t=null==r?void 0:r.config)||void 0===t?void 0:t.dynamicRoot)return[];const a=Object.entries(cm).map((([e,t])=>[e,t()]));let s;const c="true"===(null===(n=null==r?void 0:r.config)||void 0===n?void 0:n.multiple);if(c)s=Ra(i.hook);else{s=[];const e=ua(i.hook);e&&s.push(e)}const u=[];return s.forEach(((e,t)=>{var n,s,l,d,p,f;const h=Object.assign({},i);c&&(h.name=`${h.name}-${t}`),u.push(Object.assign(Object.assign({},h),{name:h.name,genericName:i.name,type:h.type.toLowerCase(),ignoreExclusion:"true"===(null===(n=null==r?void 0:r.config)||void 0===n?void 0:n.ignoreExclusion)||!1,fluid:"true"===(null===(s=null==r?void 0:r.config)||void 0===s?void 0:s.fluid)||!1,tileCategoryAllowList:(null===(d=null===(l=null==r?void 0:r.config)||void 0===l?void 0:l.allowList)||void 0===d?void 0:d.split(","))||[],additionalAvoidance:(null===(f=null===(p=null==r?void 0:r.config)||void 0===p?void 0:p.additionalAvoidance)||void 0===f?void 0:f.split(",").map((e=>({hook:e,coordinates:{top:0,bottom:0,left:0,right:0,height:0}}))))||[],hook:e,width:o?o.w:0,height:o?o.h:0,coordinates:{top:0,bottom:0,left:0,right:0},style:um((null==r?void 0:r.style)||{},a),label:um((null==r?void 0:r.label)||{},a)}))})),u}(e)),n.dynamic.push(...function(e){var t,n,r,o,i,a,s,c,u,l,d;const{properties:p,size:f=!1}=e,h=E(e,["properties","size"]),m="generated"===h.type.toLowerCase();if(!(null===(t=null==p?void 0:p.config)||void 0===t?void 0:t.dynamicRoot))return[];const v=Object.entries(cm).map((([e,t])=>[e,t()]));return[Object.assign(Object.assign(Object.assign({},h),{name:h.name,genericName:h.name,type:h.type.toLowerCase(),ignoreExclusion:"true"===(null===(n=null==p?void 0:p.config)||void 0===n?void 0:n.ignoreExclusion)||!1,tileCategoryAllowList:(null===(o=null===(r=null==p?void 0:p.config)||void 0===r?void 0:r.allowList)||void 0===o?void 0:o.split(","))||[],fluid:"true"===(null===(i=null==p?void 0:p.config)||void 0===i?void 0:i.fluid)||!1,hook:null,width:f?f.w:0,height:f?f.h:0,dynamicConfig:{root:(null===(a=null==p?void 0:p.config)||void 0===a?void 0:a.dynamicRoot)||"",hook:h.hook},coordinates:{top:0,bottom:0,left:0,right:0},style:um((null==p?void 0:p.style)||{},v),label:um((null==p?void 0:p.label)||{},v)}),m?{generatedContainerStyle:um((null==p?void 0:p.generatedContainerStyle)||{},v),generatedSpacerStyle:um((null==p?void 0:p.generatedSpacerStyle)||{},v),generatedSlotsConfig:{maximumSlots:Number(null===(s=null==p?void 0:p.config)||void 0===s?void 0:s.generatedMaximumSlots)||1/0,minimumSlots:Number(null===(c=null==p?void 0:p.config)||void 0===c?void 0:c.generatedMinimumSlots)||0,endSelector:null===(u=null==p?void 0:p.config)||void 0===u?void 0:u.generatedEndSelector,slotGap:null===(l=null==p?void 0:p.config)||void 0===l?void 0:l.generatedSlotGap,slotHeight:null===(d=null==p?void 0:p.config)||void 0===d?void 0:d.generatedSlotHeight}}:{})]}(e)),n.generated.push(...function(e){var t,n;const{properties:r,size:o=!1}=e,i=E(e,["properties","size"]);if(null===(t=null==r?void 0:r.config)||void 0===t?void 0:t.dynamicRoot)return[];if("generated"!==i.type.toLowerCase())return[];const a=Object.entries(cm).map((([e,t])=>[e,t()]));let s;const c="true"===(null===(n=null==r?void 0:r.config)||void 0===n?void 0:n.multiple);if(c)s=Ra(i.hook);else{s=[];const e=ua(i.hook);e&&s.push(e)}const u=[];return s.forEach(((e,t)=>{var n,s,l,d,p,f,h,m,v,g,y;const b=Object.assign({},i);c&&(b.name=`${b.name}-${t}`),u.push(Object.assign(Object.assign({},b),{name:b.name,genericName:i.name,type:b.type.toLowerCase(),ignoreExclusion:"true"===(null===(n=null==r?void 0:r.config)||void 0===n?void 0:n.ignoreExclusion)||!1,fluid:"true"===(null===(s=null==r?void 0:r.config)||void 0===s?void 0:s.fluid)||!1,tileCategoryAllowList:(null===(d=null===(l=null==r?void 0:r.config)||void 0===l?void 0:l.allowList)||void 0===d?void 0:d.split(","))||[],additionalAvoidance:(null===(f=null===(p=null==r?void 0:r.config)||void 0===p?void 0:p.additionalAvoidance)||void 0===f?void 0:f.split(",").map((e=>({hook:e,coordinates:{top:0,bottom:0,left:0,right:0,height:0}}))))||[],hook:e,width:o?o.w:0,height:o?o.h:0,coordinates:{top:0,bottom:0,left:0,right:0},style:um((null==r?void 0:r.style)||{},a),label:um((null==r?void 0:r.label)||{},a),generatedContainerStyle:um((null==r?void 0:r.generatedContainerStyle)||{},a),generatedSpacerStyle:um((null==r?void 0:r.generatedSpacerStyle)||{},a),generatedSlotsConfig:{maximumSlots:Number(null===(h=null==r?void 0:r.config)||void 0===h?void 0:h.generatedMaximumSlots)||1/0,minimumSlots:Number(null===(m=null==r?void 0:r.config)||void 0===m?void 0:m.generatedMinimumSlots)||0,endSelector:null===(v=null==r?void 0:r.config)||void 0===v?void 0:v.generatedEndSelector,slotGap:null===(g=null==r?void 0:r.config)||void 0===g?void 0:g.generatedSlotGap,slotHeight:null===(y=null==r?void 0:r.config)||void 0===y?void 0:y.generatedSlotHeight}}))})),u}(e))})),n}(e),s.adUnits=((e,t)=>{const n=t.preemptive().filter((t=>{if(""===t.affinitySlotID||"string"!=typeof t.affinitySlotID)return!0;const n=e.static.filter((e=>e.name===t.affinitySlotID));return!!(n&&n.length>0)||(je.error(`The ad unit '${t.name}' has a slot affinity '${t.affinitySlotID}' but no matching slot was found.`),!1)}));return 0===n.length&&je.error("No preemptive ad units after removing orphans."),{preemptive:()=>n,incremental:t.incremental}})(s.slots,function(e,t){const n=n=>{var r;return(null===(r=e.placement)||void 0===r?void 0:r.settings.adUnitNameInPath)?`${t}/${n}`:t};return{preemptive:im(e,n),incremental:am(e,n)}}(e,u)),s.settings=function(e){var t;const n={};if(!e)return n;if(e.refreshTime){const t=Number(e.refreshTime);Number.isNaN(Number(t))||(n.refreshTime=t)}if(e.adUnitNameInPath){const{adUnitNameInPath:t}=e;n.adUnitNameInPath="true"===t}if(void 0!==(null===(t=e.adDensity)||void 0===t?void 0:t.avoidanceDistance)){const{avoidanceDistance:t}=e.adDensity;n.adDensity="number"==typeof t?{avoidanceDistance:t}:{avoidanceDistance:parseInt(t,10)}}return n}((null===(a=e.placement)||void 0===a?void 0:a.settings)||{}),s},fm=(e,t)=>e.split(t).filter((e=>""!==e)),hm={ex:e=>fm(e,"|"),kw:e=>fm(e," "),format:e=>fm(e,/,\s*/gim)},mm=function(e){const t={};return e.targeting?(Object.keys(e.targeting).forEach((n=>{t[n]=e.targeting?function(e,t){return Object.keys(hm).includes(e)?hm[e](t):t}(n,e.targeting[n]):""})),t):t},vm=function(e){if(e.config)return Object.entries(e.config).reduce(((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},e[t]),n)})),{adServer:{enabled:!1},amazon:{enabled:!1},amClio:{enabled:!1},ias:{enabled:!1},indexExchange:{enabled:!1,id:"",mode:"standard"},liveRamp:{enabled:!1,configurationId:""},pubmatic:{enabled:!1,profileId:""}})},gm=Xh.transform((e=>({debug:{},error:{},placement:pm(e),targeting:mm(e),thirdPartyAPIConfig:vm(e)}))),ym=y(),bm=()=>{let e;const t=dt();switch(t.device){case"desktop":e=Np(t);break;case"tablet":e=Mp(t);break;case"mobile":e=zp(t);break;default:je.error(`No config fallback available for device: ${t.device}. Using desktop config.`),e=Np(t)}return e};function wm(){return k(this,void 0,void 0,(function*(){Gt({category:"script",message:"Sommelier config requested"});const e=Qo("config",1,"ConfigRequest"),t=ko.mark("Sommelier config requested"),n=yield k(void 0,void 0,void 0,(function*(){const e=qu()||"";let t=ym.location.href;return"live"===it?t=t.replace(/\.[a-z0-9-]+\.van-qa\.futureplc\.engineering/,"").replace(/(www\.)?local\.responsive\./,"www.").replace(/(www\.)?local\.progressive\./,"www."):it&&(t=it),(new zd).setTemplateName(e).setScreenWidth(vt().width).setLocation(encodeURIComponent(t))})),r=yield n.execute().then((n=>(ko.recordConfigLoad(),n.placement?n:(Gt({category:"script",message:"Sommelier config empty"}),ko.mark("Sommelier config empty",t),je.error("Server config response empty."),ko.recordConfigEmpty(),Kt(),e(null,"REQUEST_STATUS_FAILED"),bm())))).catch((n=>(Gt({category:"script",message:"Sommelier config request error"}),ko.mark("Sommelier config request error",t),je.error("Server config request failed.",n),Kt(),n instanceof eu?(ko.recordConfigTimeout(),e(null,"REQUEST_STATUS_TIMEOUT")):(ko.recordConfigLoadFail(),e(null,"REQUEST_STATUS_FAILED")),bm())));Ad(r);const o=gm.safeParse(r);if(!0!==o.success){Gt({category:"script",message:"Sommelier config parse error"}),ko.mark("Sommelier config parse error",t),je.error("Unable to parse the config response, encountered the following issues: ",o.error.message),ko.recordConfigParseError(),Kt(),e(null,"REQUEST_STATUS_FAILED");const n=gm.safeParse(bm());return n.success?n.data:{}}return e(),Gt({category:"script",message:"Sommelier config loaded"}),ko.mark("Sommelier config loaded",t),o.data}))}class _m{constructor(){this.cookiesMap=(()=>{const e=y();return""===e.document.cookie?{}:e.document.cookie.split("; ").reduce(((e,t)=>{const n=t.indexOf("=");return e[t.substr(0,n)]=t.substr(n+1),e}),{})})()}create(e,t,n){return k(this,void 0,void 0,(function*(){if(!this.cookiesMap[`usp.${e}`])try{let r=!1;r=t.length>0?(yield Promise.all(t.map((e=>Lc(e))))).every(Boolean):yield Lc(),r&&(n(),this.refreshCookie(`usp.${e}`))}catch(e){je.error(e)}}))}refreshCookie(e){ft(e,"1",604800),this.cookiesMap[e]="1"}}const xm=()=>Math.floor(11e3*Math.random()),Em=(e,t=!0)=>{const n=`https://pixel.servebom.com/partner?cb=${xm()}&svc=us&id=${e}&uid=`;return t?encodeURIComponent(n):n},km=[10],Sm=$e(((e,t)=>e.create("2",km,(()=>{const e=(()=>{const e=document.createElement("iframe");e.style.display="none";const t=Em("2");return e.src=`https://ssum-sec.casalemedia.com/usermatch?r=${xm()}&s=181869&cb=${t}`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),Om=[76],Tm=$e(((e,t)=>e.create("5",Om,(()=>{const e=(()=>{const e=document.createElement("span"),t=Math.floor(11e3*Math.random());e.style.display="none";const n=Em("5");return e.innerHTML=`<iframe style="display:none" src="https://ads.pubmatic.com/AdServer/js/user_sync.html?r=${t}&p=46338&predirect=${n}"></iframe>`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),jm=[104],Im=$e(((e,t,n)=>e.create("9",jm,(()=>{if(n.gdprUser)return;const e=(()=>{const e=document.createElement("script");e.src="//sync.go.sonobi.com/uc.js",document.body.appendChild(e);const t=document.createElement("img");return t.style.display="none",t.src=`https://purch-sync.go.sonobi.com/us?${Em("9",!1)}[UID]`,t})();t.mutate((function(){document.body.appendChild(e)}))})))),Am=[28],Pm=$e(((e,t)=>e.create("14",Am,(()=>{const e=(()=>{const e=document.createElement("img");return e.style.display="none",e.src=`https://eb2.3lift.com/getuid?redir=${Em("14")}%24UID`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),Cm=[52],Dm=$e(((e,t)=>e.create("19",Cm,(()=>{const e=(()=>{const e=Math.floor(11e3*Math.random()),t=document.createElement("iframe");return t.style.display="none",t.src=`https://secure-assets.rubiconproject.com/utils/xapi/multi-sync.html?r=${e}&p=11868&endpoint=us-east`,t})();t.mutate((function(){document.body.appendChild(e)}))})))),Lm=[69],Rm=$e(((e,t)=>e.create("22",Lm,(()=>{const e=(()=>{const e=document.createElement("img");e.style.display="none";const t=Em("22");return e.src=`https://us-u.openx.net/w/1.0/cm?id=de2d90e5-4d26-4c8c-a342-3edcde51fdb1&ph=25af9286-f23b-4b02-abcd-f2ee3b564dab&r=${t}`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),Nm=[32],Mm=$e(((e,t)=>e.create("23_26_29_33",Nm,(()=>{const e=(()=>{const e=document.createElement("img");return e.style.display="none",e.src=`https://ib.adnxs.com/getuid?${Em("23,26,29")}$UID`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),zm=[13],Um=$e(((e,t)=>e.create("24",zm,(()=>{const e=(()=>{const e=document.createElement("img");return e.style.display="none",e.src=`https://ap.lijit.com/pixel?redir=${Em("24")}$UID`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),$m=[202],Bm=$e(((e,t)=>e.create("32",$m,(()=>{const e=(()=>{const e=`tmx_sync_${Math.floor(11e3*Math.random())}`,t=document.createElement("span");t.style.display="none";const n=`https://qds0l.publishers.tremorhub.com/pubsync?redir=${Em("32")}%5Btvid%5D`,r=document.createElement("iframe");return r.name=e,r.id=e,r.src=n,Object.assign(r.style,{border:"0",overflow:"hidden"}),r.width="1px",r.height="1px",t.appendChild(r),t})();t.mutate((function(){document.body.appendChild(e)}))})))),qm=[24],Zm=e=>{const t=document.createElement("img");t.style.display="none";const n=Em("36");return t.src=e?`https://purch-match.dotomi.com/match/bounce/current?networkId=20077&version=1&rurl=${n}$UID&gdpr=1&gdpr_consent=${e}&_origin=1&redir=true`:`https://purch-match.dotomi.com/match/bounce/current?networkId=20077&version=1&rurl=${n}$UID&gdpr=0&gdpr_consent=&_origin=1&redir=true`,t},Fm=$e(((e,t,n,r)=>e.create("36",qm,(()=>{r.then((e=>{if(e.consent&&e.consent.gdprApplies){const n=Zm(e.consent.tcString);t.mutate((function(){document.body.appendChild(n)}))}else{const e=Zm();t.mutate((function(){document.body.appendChild(e)}))}}))})))),Vm=[335],Hm=e=>{const t=document.createElement("iframe");return t.style.display="none",t.src=e?`https://sync.bfmio.com/sync_iframe?ifpl=5&ifg=4&id=Purch&gdpr=1&gc=${e}&gce=1`:"https://sync.bfmio.com/sync_iframe?ifpl=5&ifg=4&id=Purch&gdpr=0&gc=&gce=1",t},Wm=$e(((e,t,n,r)=>e.create("42",Vm,(()=>{r.then((e=>{if(e.consent&&e.consent.gdprApplies){const n=Hm(e.consent.tcString);t.mutate((function(){document.body.appendChild(n)}))}else{const e=Hm();t.mutate((function(){document.body.appendChild(e)}))}}))})))),Gm=[76],Km=$e(((e,t)=>e.create("45",Gm,(()=>{const e=(()=>{const e=document.createElement("script");return e.async=!0,e.type="text/javascript",e.src="https://ads.pubmatic.com/AdServer/js/userSync.js",e.onload=()=>{window.PubMaticSync&&"function"==typeof window.PubMaticSync.sync?window.PubMaticSync.sync({pubId:155494,delay:1e3,url:`${Em("45",!1)}(PM_UID)`,macro:"(PM_UID)"}):console.warn("PubMaticSync has failed to deliver the correct script, and .sync could not be called.This is not our fault.\nIf this feature is important to you, please try refreshing the page.")},e})();t.mutate((function(){document.body.appendChild(e)}))})))),Qm=[76],Jm=$e(((e,t)=>e.create("46",Qm,(()=>{const e=(()=>{const e=document.createElement("span");e.style.display="none";const t=Em("46");return e.innerHTML=`<iframe style="display:none" src="https://ads.pubmatic.com/AdServer/js/user_sync.html?r=${xm()}&p=156007&predirect=${t}"></iframe>`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),Ym=[61],Xm=$e(((e,t,n,r,o)=>e.create("48",Ym,(()=>{Promise.all([r,o]).then((([e,n])=>{const r=((e,t)=>{const n=((e,t)=>{const n=(()=>{const{site:e}=dt();return{bikeperfect:"o6xrqnpf",countrylife:"go3ow8jf",creativebloq:"7absczm5",cyclingnews:"t9t3tck9",decanter:"i7y80eeq",digitalcameraworld:"cimuwtf2",fourfourtwo:"4husjo0l",gamesradar:"llgebarm","golfmonthly-progressive":"yzessgyz","goodtoknow-progressive":"dcbmxwwc",guitarplayer:"wrprmyks",guitarworld:"16qp2ovt","homesandgardens-progressive":"mzuhnqc0",horseandhound:"twzzzdla",howtogeek:"2551ab8e",idealhome:"7fq0zygv","idealhome-progressive-qa":"7fq0zygv",laptopmag:"400b75d3",livescience:"fe79cc6d","livingetc-progressive":"sqsvp0jm",look:"8xwmmp2t",loudersound:"giyrkkmt",marieclaire:"e1zhtjh8","marieclairecom-progressive":"6sech3oz",mby:"xuqub111",pcgamer:"agyog4oo",reviewgeek:"4l4crive",sciencealert:"gwpevyec",space:"fb728bb0","t3-progressive":"gcicurrf",techradar:"njqsk6ke",techspot:"lh17jalp",thecaribou:"4xtfxjy1",tomsguide:"5b923816",tomshardware:"e5ffa56e",toptenreviews:"i0ohgxfh",whatsontv:"tduro6vk",whattowatch:"sscfxm61",windowscentral:"b3a52dd3","windowscentral-qa":"b3a52dd3","womanandhome-progressive":"fm0mpqhm"}[e]||null})();if(!n)return null;const r=Math.floor(11e3*Math.random()),o=[["r",encodeURIComponent(`https://pixel.servebom.com/partner?cb=${r}&svc=us&id=48&uid=`)]];return e&&e.consent?(o.push(["gdpr","1"]),o.push(["gdpr_consent",e.consent.tcString])):o.push(["gdpr","0"]),t&&t.consent&&o.push(["us_privacy",t.consent.uspString]),`https://g2.gumgum.com/usync/${n}?${o.map((e=>e.join("="))).join("&")}`})(e,t);if(!n)return null;const r=document.createElement("iframe");return r.style.display="none",r.src=n,r})(e,n);r&&t.mutate((()=>{document.body.appendChild(r)}))}))})))),ev=[25],tv=e=>{const t=document.createElement("iframe");return t.style.display="none",t.src=e?`https://pixel.advertising.com/ups/58164/sync?gdpr=1&gdpr_consent=${e}&_origin=1&redir=true`:"https://pixel.advertising.com/ups/58164/sync?gdpr=0&gdpr_consent=&_origin=1&redir=true",t},nv=$e(((e,t,n,r)=>e.create("57",ev,(()=>{r.then((e=>{if(e.consent&&e.consent.gdprApplies){const n=tv(e.consent.tcString);t.mutate((function(){document.body.appendChild(n)}))}else{const e=tv();t.mutate((function(){document.body.appendChild(e)}))}}))})))),rv=[58],ov=$e(((e,t)=>e.create("59",rv,(()=>{const e=(()=>{const e=document.createElement("img");e.style.display="none";const t=Em("59");return e.src=`https://ssc-cms.33across.com/ps/?ri=0013300001kQj3GAAS&ru=${t}33XUSERID33X`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),iv=[25],av=$e(((e,t)=>e.create("61",iv,(()=>{const e=(()=>{const e=document.createElement("iframe");return e.style.display="none",e.src="https://ups.analytics.yahoo.com/ups/58290/sync?redir=true",e})();t.mutate((function(){document.body.appendChild(e)}))})))),sv=[686,128,129],cv=$e(((e,t)=>e.create("62",sv,(()=>{const e=(()=>{const e=document.createElement("iframe");e.style.display="none";const t=`${Em("62")}${encodeURIComponent("${BSW_UUID}")}`;return e.src=`https://x.bidswitch.net/check_uuid/${t}`,e})();t.mutate((function(){document.body.appendChild(e)}))})))),uv=[80],lv=$e(((e,t)=>e.create("64",uv,(()=>{const e=(()=>{const e=document.createElement("iframe");return e.style.display="none",e.src="https://match.sharethrough.com/universal/v1?supply_id=dSvJjhJF",e})();t.mutate((function(){document.body.appendChild(e)}))})))),dv=[Mm,Rm,Im,Um,Pm,Tm,Fm,Km,Bm,Sm,Wm,Jm,Dm,nv,ov,av,Xm,cv,lv];!function(){k(this,void 0,void 0,(function*(){$o=yield _t(),Fo()&&Vo.addEventListener("unload",(()=>{const e=Bo.filter((e=>!Zo.includes(e.auction.id))).map((e=>(e.user.unload_time=(new Date).toISOString(),{ad_request_completed_event:e})));0!==e.length&&jt(qo,{events:e})}))}))}(),Gt({category:"script",message:"Loaded"}),ko.mark("Loaded"),Re().then((()=>{const e=y(),t=dt();e.indexExchangeDeviceType=t.device,e.bordeauxAds=Promise.resolve(!0),((e={})=>{var t;t=t=>{Object.entries(e).forEach((([e,n])=>{t.setTag(e,n)}))},t($t)})({"device.size":t.device,"url.domain":e.location.hostname}),Oe.onLogError((e=>{Wt(e.logItem.args.toString())})),(()=>{var e;const t=y();((null===(e=null==t?void 0:t.document)||void 0===e?void 0:e.querySelectorAll('script[src="https://bordeaux.futurecdn.net/bordeaux.js"]'))||[]).length>1&&Wt("More than one Bordeaux script has been loaded on this page.")})(),w("debug_ads")?Ce():((e,{fingers:t=1,repetitions:n=1,timeout:r=500},o)=>{const i=y();let a=0,s=null;e.addEventListener("touchstart",(e=>{s&&(i.clearTimeout(s),s=null);const c=e;c.touches&&c.touches.length===t&&(a++,s=i.setTimeout((()=>{a=0,s=null}),r)),a===n&&(a=0,o())}))})(document.body,{repetitions:10,fingers:2},(()=>{"bordeaux"===prompt("Tool")&&Ce()})),Md(),function(){k(this,void 0,void 0,(function*(){_t().then((e=>{void 0!==xt.freyr&&kt("idEvent",{id:e,tag:"hybridId"})})).catch((()=>{je.warn("Failed to pass on HybridID")})),null!==Et&&void 0!==xt.freyr&&kt("idEvent",{id:Et,tag:"email_sha256"})}))}(),yd.then(id).then(wm).then((e=>{var t,n,r,o,i,a,s;Ga(null===(n=null===(t=null==e?void 0:e.placement)||void 0===t?void 0:t.settings.adDensity)||void 0===n?void 0:n.avoidanceDistance),i=null===(r=null==e?void 0:e.placement)||void 0===r?void 0:r.id,kd=i,a=null===(o=null==e?void 0:e.placement)||void 0===o?void 0:o.platformId,Od=a,(s=null==e?void 0:e.thirdPartyAPIConfig,k(void 0,void 0,void 0,(function*(){Gt({category:"apis",message:"Third parties requested"});const e=ko.mark("Third parties requested");yield Cc();const t=Qo("third_parties",1,"LoadingThirdParties");try{const e=s||Ru;Du(Promise.all([Xc(e.adServer),(c=e.amClio,k(void 0,void 0,void 0,(function*(){if(uu=c,!c.enabled)return je.warn("Not loading amClio API as it is not enabled"),lu({enabled:!1,success:!1});Gt({category:"apis",message:"clean.io requested"});const e=ko.mark("clean.io requested"),t=Qo("cleanio_script",1,"ThirdPartyScripts"),n=yield Promise.race([new Promise(((e,t)=>{setTimeout((()=>{t(new eu(`clean.io: ${nu} [5000ms]`))}),tu)})),new Promise(((e,t)=>{const n=y(),r=n.document.createElement("script");r.id="bordeaux-am-clio",r.src=cu,r.async=!0,r.onload=()=>e("success"),r.onerror=e=>t(e),n.document.body.appendChild(r)}))]).catch((e=>e instanceof Error?e:new Error(JSON.stringify(e))));return n instanceof Error?(je.warn(n),t(null,n instanceof eu?"REQUEST_STATUS_TIMEOUT":"REQUEST_STATUS_FAILED"),lu({enabled:!0,success:!1})):(Gt({category:"apis",message:"clean.io loaded"}),ko.mark("clean.io loaded",e),t(),lu({enabled:!0,success:!0}))}))),(a=e.amazon,k(void 0,void 0,void 0,(function*(){if(au=a,!a.enabled)return je.warn("Not loading Amazon API as it is not enabled"),su({enabled:!1,success:!1});if(!(yield Lc("793")))return su({enabled:!0,success:!1});Gt({category:"apis",message:"Amazon requested"});const e=ko.mark("Amazon requested"),t=Qo("amazon_script",1,"ThirdPartyScripts"),n=yield Promise.race([new Promise(((e,t)=>{setTimeout((()=>{t(new eu(`Amazon: ${nu} [5000ms]`))}),tu)})),new Promise(((e,t)=>{const n=ru.document.createElement("script");n.id="amazon-script",n.src=ou,n.onload=()=>e("success"),n.onerror=e=>t(e),ru.document.body.appendChild(n)}))]).catch((e=>e instanceof Error?e:new Error(JSON.stringify(e))));return n instanceof Error?(je.warn(n),t(null,n instanceof eu?"REQUEST_STATUS_TIMEOUT":"REQUEST_STATUS_FAILED"),su({enabled:!0,success:!1})):void 0===ru.apstag||null===ru.apstag||null===ru.apstag.init?(je.warn("Amazon API setup failed: apstag is not available."),t(null,"REQUEST_STATUS_FAILED"),su({enabled:!0,success:!1})):(!0!==ru.apstag.inited&&(ru.apstag.init(iu),ru.apstag.inited=!0),Gt({category:"apis",message:"Amazon loaded"}),ko.mark("Amazon loaded",e),t(),su({enabled:!0,success:!0}))}))),k(void 0,void 0,void 0,(function*(){Gt({category:"apis",message:"GPT requested"});const e=ko.mark("GPT requested"),t=Qo("gpt_script",1,"ThirdPartyScripts");try{yield new Promise(((e,t)=>{var n;du.googletag=du.googletag||{cmd:[]},du.googletag.cmd=(null===(n=du.googletag)||void 0===n?void 0:n.cmd)||[];const r=du.document.createElement("script");r.id="gpt-api-script",r.src=pu,r.async=!0,r.onload=()=>e("success"),r.onerror=e=>t(e),du.document.body.appendChild(r)}))}catch(e){return je.warn(e),t(null,"REQUEST_STATUS_FAILED"),fu({enabled:!0,success:!1})}const n=yield new Promise((n=>{du.googletag&&du.googletag.cmd?du.googletag.cmd.push((()=>{Gt({category:"apis",message:"GPT loaded"}),ko.mark("GPT loaded",e),t(),n(!0)})):(t(null,"REQUEST_STATUS_FAILED"),n(!1))}));return fu({enabled:!0,success:n})})),(i=e.ias,k(void 0,void 0,void 0,(function*(){if(gu=i,!i.enabled)return je.warn("Not loading IAS API as it is not enabled"),yu({enabled:!1,success:!1});Gt({category:"apis",message:"IAS requested"});const e=ko.mark("IAS requested"),t=Qo("ias_script",1,"ThirdPartyScripts"),n=yield Promise.race([new Promise(((e,t)=>{setTimeout((()=>{t(new eu(`IAS: ${nu} [5000ms]`))}),tu)})),new Promise(((e,t)=>{const n=hu.document.createElement("script");n.id="ias-script",n.src=mu,n.async=!0,n.onload=()=>e("success"),n.onerror=e=>t(e),hu.document.body.appendChild(n)}))]).catch((e=>e instanceof Error?e:new Error(JSON.stringify(e))));return n instanceof Error?(je.warn(n),t(null,n instanceof eu?"REQUEST_STATUS_TIMEOUT":"REQUEST_STATUS_FAILED"),yu({enabled:!0,success:!1})):(hu.__iasPET=hu.__iasPET||{queue:[],setTargetingForGPT:()=>{},pubId:vu},hu.__iasPET.queue=hu.__iasPET.queue||[],hu.__iasPET.pubId=vu,Gt({category:"apis",message:"IAS loaded"}),ko.mark("IAS loaded",e),t(),yu({enabled:!0,success:!0}))}))),(o=e.indexExchange,k(void 0,void 0,void 0,(function*(){if(_u=o,!o.enabled)return je.warn("Not loading Index Exchange API as it is not enabled"),xu({enabled:!1,success:!1});if(!(yield Lc("10")))return xu({enabled:!0,success:!1});Gt({category:"apis",message:"Index Exchange requested"});const e=ko.mark("Index Exchange requested"),t=Qo("iex_script",1,"ThirdPartyScripts"),n=yield Promise.race([new Promise(((e,t)=>{setTimeout((()=>{t(new eu(`Index Excahange: ${nu} [5000ms]`))}),tu)})),Eu(o)]).catch((e=>e instanceof Error?e:new Error(JSON.stringify(e))));if(n instanceof Error)return je.warn(n),t(null,n instanceof eu?"REQUEST_STATUS_TIMEOUT":"REQUEST_STATUS_FAILED"),xu({enabled:!0,success:!1});const r=yield new Promise((n=>{let r=!1;bu.googletag&&bu.googletag.cmd.push((()=>{if(!r){if(r=!0,!("headertag"in bu)||!bu.headertag)return t(null,"REQUEST_STATUS_FAILED"),void n(!1);Gt({category:"apis",message:"Index Exchange loaded"}),ko.mark("Index Exchange loaded",e),t(),n(!0)}}))}));return xu({enabled:!0,success:r})}))),(r=e.liveRamp,k(void 0,void 0,void 0,(function*(){if(Ou=r,Su=`https://ats-wrapper.privacymanager.io/ats-modules/${r.configurationId}/ats.js`,!r.enabled)return je.warn("Not loading LiveRamp API as it is not enabled"),Tu({enabled:!1,success:!1});if(!(yield Lc("97")))return Tu({enabled:!0,success:!1});Gt({category:"apis",message:"LiveRamp requested"});const e=ko.mark("LiveRamp requested"),t=Qo("liveramp_script",1,"ThirdPartyScripts"),n=yield Promise.race([new Promise(((e,t)=>{setTimeout((()=>{t(new eu(`LiveRamp: ${nu} [5000ms]`))}),tu)})),new Promise(((e,t)=>{const n=ku.document.createElement("script");n.src=Su,n.onload=()=>e("success"),n.onerror=e=>t(e),n.async=!0,n.defer=!0,ku.document.body.appendChild(n)}))]).catch((e=>e instanceof Error?e:new Error(JSON.stringify(e))));return n instanceof Error?(je.warn(n),t(null,n instanceof eu?"REQUEST_STATUS_TIMEOUT":"REQUEST_STATUS_FAILED"),Tu({enabled:!0,success:!1})):(Gt({category:"apis",message:"LiveRamp loaded"}),ko.mark("LiveRamp loaded",e),t(),Tu({enabled:!0,success:!0}))}))),(n=e.pubmatic,k(void 0,void 0,void 0,(function*(){if(Au=n,!n.enabled)return je.warn("Not loading Pubmatic API as it is not enabled"),Pu({enabled:!1,success:!1});if(!(yield Lc("76")))return Pu({enabled:!0,success:!1});Gt({category:"apis",message:"Pubmatic requested"});const e=ko.mark("Pubmatic requested"),t=Qo("pubmatic_script",1,"ThirdPartyScripts"),r=yield Promise.race([new Promise(((e,t)=>{setTimeout((()=>{t(new eu(`Pubmatic: ${nu} [5000ms]`))}),tu)})),Cu(n)]).catch((e=>e instanceof Error?e:new Error(JSON.stringify(e))));return r instanceof Error?(je.warn(r),t(null,r instanceof eu?"REQUEST_STATUS_TIMEOUT":"REQUEST_STATUS_FAILED"),Pu({enabled:!0,success:!1})):(Gt({category:"apis",message:"Pubmatic loaded"}),ko.mark("Pubmatic loaded",e),t(),Pu({enabled:!0,success:!0}))})))])),yield Lu}catch(e){je.error(`Error setting up third party APIs: ${e}`)}var n,r,o,i,a,c;ko.recordThirdPartiesLoad(),Gt({category:"apis",message:"Third parties loaded"}),ko.mark("Third parties loaded",e),t()}))).then((()=>{(()=>{const e=y(),t=Cc(),n=Dc();if(Jc.enabled){const r=new _m;return dv.map((o=>o(r,xa,e,t,n)))}Promise.resolve()})(),(e=>{k(void 0,void 0,void 0,(function*(){const t=new me(100),n=rd(t),r=jc(e,n);r.subscribe({next:e=>{ri.schedule((()=>t.next(e)),1)},error:e=>{ri.schedule((()=>{je.error(e),t.error(e)}),1)}}),n.next({source:"Bordeaux",type:Bn,eventID:$n()}),Bi(r),qi(n),Gc(Object.assign({},e.targeting)),n.pipe(be((({type:e})=>e===Qn)),li()).subscribe((()=>{ko.recordAdsLoad()})),Fi&&ko.recordAdsBlock(),Gt({category:"script",message:"Bordeaux framework loaded"})}))})(e)}))})).catch((e=>{je.error(e)}))}))})()})();